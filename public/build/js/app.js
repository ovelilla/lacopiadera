/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/app.js":
/*!***********************!*\
  !*** ./src/js/app.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"navigator\": () => (/* binding */ navigator)\n/* harmony export */ });\n/* harmony import */ var _modules_Router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/Router */ \"./src/js/modules/Router.js\");\n/* harmony import */ var _classes_Navigator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./classes/Navigator */ \"./src/js/classes/Navigator.js\");\n/* harmony import */ var _modules_Layout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/Layout */ \"./src/js/modules/Layout.js\");\n/* harmony import */ var _modules_Home__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules/Home */ \"./src/js/modules/Home.js\");\n/* harmony import */ var _modules_Printer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modules/Printer */ \"./src/js/modules/Printer.js\");\n/* harmony import */ var _modules_Contact__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./modules/Contact */ \"./src/js/modules/Contact.js\");\n/* harmony import */ var _modules_auth_Login__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./modules/auth/Login */ \"./src/js/modules/auth/Login.js\");\n/* harmony import */ var _modules_auth_Logout__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./modules/auth/Logout */ \"./src/js/modules/auth/Logout.js\");\n/* harmony import */ var _modules_auth_Register__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./modules/auth/Register */ \"./src/js/modules/auth/Register.js\");\n/* harmony import */ var _modules_auth_Confirm__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./modules/auth/Confirm */ \"./src/js/modules/auth/Confirm.js\");\n/* harmony import */ var _modules_auth_Recover__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./modules/auth/Recover */ \"./src/js/modules/auth/Recover.js\");\n/* harmony import */ var _modules_auth_Restore__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./modules/auth/Restore */ \"./src/js/modules/auth/Restore.js\");\n/* harmony import */ var _modules_Profile__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./modules/Profile */ \"./src/js/modules/Profile.js\");\n/* harmony import */ var _modules_Addresses__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./modules/Addresses */ \"./src/js/modules/Addresses.js\");\n/* harmony import */ var _modules_Orders__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./modules/Orders */ \"./src/js/modules/Orders.js\");\n/* harmony import */ var _modules_Codes__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./modules/Codes */ \"./src/js/modules/Codes.js\");\n/* harmony import */ var _modules_OrdersAdmin__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./modules/OrdersAdmin */ \"./src/js/modules/OrdersAdmin.js\");\n/* harmony import */ var _modules_Checkout__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./modules/Checkout */ \"./src/js/modules/Checkout.js\");\n/* harmony import */ var _modules_Payment__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./modules/Payment */ \"./src/js/modules/Payment.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst router = (0,_modules_Router__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\r\n\r\nrouter.add(\"/\", _modules_Home__WEBPACK_IMPORTED_MODULE_3__.home);\r\nrouter.add(\"/imprimir\", _modules_Printer__WEBPACK_IMPORTED_MODULE_4__.printer);\r\nrouter.add(\"/contacto\", _modules_Contact__WEBPACK_IMPORTED_MODULE_5__.contact);\r\n\r\nrouter.add(\"/login\", _modules_auth_Login__WEBPACK_IMPORTED_MODULE_6__.login);\r\nrouter.add(\"/logout\", _modules_auth_Logout__WEBPACK_IMPORTED_MODULE_7__.logout);\r\nrouter.add(\"/registro\", _modules_auth_Register__WEBPACK_IMPORTED_MODULE_8__.register);\r\nrouter.add(\"/confirmar/:token\", _modules_auth_Confirm__WEBPACK_IMPORTED_MODULE_9__.confirm);\r\nrouter.add(\"/recuperar\", _modules_auth_Recover__WEBPACK_IMPORTED_MODULE_10__.recover);\r\nrouter.add(\"/restablecer/:token\", _modules_auth_Restore__WEBPACK_IMPORTED_MODULE_11__.restore);\r\n\r\nrouter.add(\"/perfil\", _modules_Profile__WEBPACK_IMPORTED_MODULE_12__.profile);\r\nrouter.add(\"/direcciones\", _modules_Addresses__WEBPACK_IMPORTED_MODULE_13__.addresses);\r\nrouter.add(\"/pedidos\", _modules_Orders__WEBPACK_IMPORTED_MODULE_14__.orders);\r\nrouter.add(\"/codigos\", _modules_Codes__WEBPACK_IMPORTED_MODULE_15__.codes);\r\nrouter.add(\"/pedidos-admin\", _modules_OrdersAdmin__WEBPACK_IMPORTED_MODULE_16__.ordersAdmin);\r\n\r\nrouter.add(\"/checkout\", _modules_Checkout__WEBPACK_IMPORTED_MODULE_17__.checkout);\r\nrouter.add(\"/pago\", _modules_Payment__WEBPACK_IMPORTED_MODULE_18__.payment);\r\n\r\nconst navigator = new _classes_Navigator__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n    active: true,\r\n    onLoad: () => {\r\n        _modules_Layout__WEBPACK_IMPORTED_MODULE_2__.layout.init();\r\n        router.check();\r\n    },\r\n});\r\n\r\n// pulir css\r\n// terminar landing page y contacto\r\n// textos\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/app.js?");

/***/ }),

/***/ "./src/js/classes/Addresses.js":
/*!*************************************!*\
  !*** ./src/js/classes/Addresses.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _mio_Input__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mio/Input */ \"./src/js/classes/mio/Input.js\");\n/* harmony import */ var _mio_Select__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mio/Select */ \"./src/js/classes/mio/Select.js\");\n/* harmony import */ var _mio_Switch_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mio/Switch.js */ \"./src/js/classes/mio/Switch.js\");\n/* harmony import */ var _Popup__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Popup */ \"./src/js/classes/Popup.js\");\n/* harmony import */ var _Confirm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Confirm */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _Modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Modal */ \"./src/js/classes/Modal.js\");\n/* harmony import */ var _Tooltip__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Tooltip */ \"./src/js/classes/Tooltip.js\");\n/* harmony import */ var _mio_IconButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./mio/IconButton */ \"./src/js/classes/mio/IconButton.js\");\n/* harmony import */ var _modules_Icons__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../modules/Icons */ \"./src/js/modules/Icons.js\");\n/* harmony import */ var _modules_Api__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../modules/Api */ \"./src/js/modules/Api.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Addresses {\r\n    constructor() {\r\n        this.values = {\r\n            name: \"\",\r\n            lastname: \"\",\r\n            phone: \"\",\r\n            nif: \"\",\r\n            address: \"\",\r\n            postcode: \"\",\r\n            location: \"\",\r\n            province: \"\",\r\n            country: \"\",\r\n            type: \"\",\r\n            predetermined: false,\r\n        };\r\n\r\n        this.errors = {\r\n            name: \"\",\r\n            lastname: \"\",\r\n            phone: \"\",\r\n            nif: \"\",\r\n            address: \"\",\r\n            postcode: \"\",\r\n            location: \"\",\r\n            province: \"\",\r\n            country: \"\",\r\n        };\r\n\r\n        this.addresses = [];\r\n\r\n        this.shippingAddresses = [];\r\n        this.billingAddresses = [];\r\n\r\n        this.selectedShippingAddress = null;\r\n        this.selectedBillingAddress = null;\r\n\r\n        this.modal = null;\r\n        this.addressesEl = null;\r\n    }\r\n\r\n    async init() {\r\n        await this.readAddresses();\r\n    }\r\n\r\n    getSelectedShippingAddress() {\r\n        return this.selectedShippingAddress;\r\n    }\r\n\r\n    getSelectedBillingAddress() {\r\n        return this.selectedBillingAddress;\r\n    }\r\n\r\n    hasSelectedAddresses() {\r\n        return this.selectedShippingAddress && this.selectedBillingAddress;\r\n    }\r\n\r\n    setAddresses(addresses) {\r\n        this.addresses = addresses;\r\n\r\n        this.shippingAddresses = this.addresses.filter((address) => address.type === \"shipping\");\r\n        this.billingAddresses = this.addresses.filter((address) => address.type === \"billing\");\r\n\r\n        if (!this.selectedShippingAddress) {\r\n            this.selectedShippingAddress = this.shippingAddresses.find(\r\n                (address) => address.predetermined\r\n            );\r\n        } else {\r\n            const existsShippingAddress = this.shippingAddresses.find(\r\n                (address) => address.id === this.selectedShippingAddress.id\r\n            );\r\n\r\n            if (!existsShippingAddress) {\r\n                this.selectedShippingAddress = this.shippingAddresses.find(\r\n                    (address) => address.predetermined\r\n                );\r\n            } else {\r\n                this.selectedShippingAddress = existsShippingAddress;\r\n            }\r\n        }\r\n\r\n        if (!this.selectedBillingAddress) {\r\n            this.selectedBillingAddress = this.billingAddresses.find(\r\n                (address) => address.predetermined\r\n            );\r\n        } else {\r\n            const existsBillingAddress = this.billingAddresses.find(\r\n                (address) => address.id === this.selectedBillingAddress.id\r\n            );\r\n\r\n            if (!existsBillingAddress) {\r\n                this.selectedBillingAddress = this.billingAddresses.find(\r\n                    (address) => address.predetermined\r\n                );\r\n            } else {\r\n                this.selectedBillingAddress = existsBillingAddress;\r\n            }\r\n        }\r\n    }\r\n\r\n    async readAddresses() {\r\n        const response = await _modules_Api__WEBPACK_IMPORTED_MODULE_9__.api.get(\"/api/user/address\");\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        this.addresses = response.addresses;\r\n        this.shippingAddresses = this.addresses.filter((address) => address.type === \"shipping\");\r\n        this.billingAddresses = this.addresses.filter((address) => address.type === \"billing\");\r\n        if (!this.selectedShippingAddress) {\r\n            this.selectedShippingAddress = this.shippingAddresses.find(\r\n                (address) => address.predetermined\r\n            );\r\n        }\r\n        if (!this.selectedBillingAddress) {\r\n            this.selectedBillingAddress = this.billingAddresses.find(\r\n                (address) => address.predetermined\r\n            );\r\n        }\r\n    }\r\n\r\n    showAddresses() {\r\n        const addressesContainer = document.querySelector(\"#addresses\");\r\n\r\n        this.addressesEl = document.createElement(\"div\");\r\n        this.addressesEl.classList.add(\"addresses\");\r\n        addressesContainer.appendChild(this.addressesEl);\r\n\r\n        const colShipping = document.createElement(\"div\");\r\n        colShipping.classList.add(\"col\");\r\n        this.addressesEl.appendChild(colShipping);\r\n\r\n        const headerShipping = document.createElement(\"div\");\r\n        headerShipping.classList.add(\"header\");\r\n        headerShipping.textContent = \"Direcciones de envío\";\r\n        colShipping.appendChild(headerShipping);\r\n\r\n        const bodyShipping = document.createElement(\"div\");\r\n        bodyShipping.classList.add(\"body\");\r\n        colShipping.appendChild(bodyShipping);\r\n\r\n        this.shippingAddresses.forEach((address) => {\r\n            const addressEl = this.createAddress(address);\r\n            bodyShipping.append(addressEl);\r\n        });\r\n\r\n        const footerShipping = document.createElement(\"div\");\r\n        footerShipping.classList.add(\"footer\");\r\n        colShipping.appendChild(footerShipping);\r\n\r\n        const btnShipping = document.createElement(\"button\");\r\n        btnShipping.classList.add(\"btn\", \"secondary-btn\");\r\n        btnShipping.textContent = \"Añadir otra dirección\";\r\n        btnShipping.addEventListener(\"click\", () => {\r\n            this.values.type = \"shipping\";\r\n            this.modal = new _Modal__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n                title: \"Crear dirección de envio\",\r\n                content: this.createAddressForm(true),\r\n                action: \"Crear\",\r\n                maxWidth: \"700px\",\r\n                fullscreenButton: true,\r\n                actionCallback: this.handleCreateAddress.bind(this),\r\n                closeCallback: () => {\r\n                    this.resetValues();\r\n                    this.resetErrors();\r\n                },\r\n            });\r\n        });\r\n        footerShipping.appendChild(btnShipping);\r\n\r\n        const colBilling = document.createElement(\"div\");\r\n        colBilling.classList.add(\"col\");\r\n        this.addressesEl.appendChild(colBilling);\r\n\r\n        const headerBilling = document.createElement(\"div\");\r\n        headerBilling.classList.add(\"header\");\r\n        headerBilling.textContent = \"Direcciones de facturación\";\r\n        colBilling.appendChild(headerBilling);\r\n\r\n        const bodyBilling = document.createElement(\"div\");\r\n        bodyBilling.classList.add(\"body\");\r\n        colBilling.appendChild(bodyBilling);\r\n\r\n        this.billingAddresses.forEach((address) => {\r\n            const addressEl = this.createAddress(address);\r\n            bodyBilling.append(addressEl);\r\n        });\r\n\r\n        const footerBilling = document.createElement(\"div\");\r\n        footerBilling.classList.add(\"footer\");\r\n        colBilling.appendChild(footerBilling);\r\n\r\n        const btnBilling = document.createElement(\"button\");\r\n        btnBilling.classList.add(\"btn\", \"secondary-btn\");\r\n        btnBilling.textContent = \"Añadir otra dirección\";\r\n        btnBilling.addEventListener(\"click\", () => {\r\n            this.values.type = \"billing\";\r\n            this.modal = new _Modal__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n                title: \"Crear dirección de facturación\",\r\n                content: this.createAddressForm(true),\r\n                action: \"Crear\",\r\n                maxWidth: \"700px\",\r\n                fullscreenButton: true,\r\n                actionCallback: this.handleCreateAddress.bind(this),\r\n                closeCallback: () => {\r\n                    this.resetValues();\r\n                    this.resetErrors();\r\n                },\r\n            });\r\n        });\r\n        footerBilling.appendChild(btnBilling);\r\n    }\r\n\r\n    createAddress(data) {\r\n        const label = document.createElement(\"label\");\r\n        label.htmlFor = data.id;\r\n        label.classList.add(\"address\", \"radio\");\r\n\r\n        const input = document.createElement(\"input\");\r\n        input.type = \"radio\";\r\n        input.name = data.id;\r\n        input.id = data.id;\r\n\r\n        if (data.type === \"shipping\") {\r\n            input.checked = this.selectedShippingAddress.id === data.id;\r\n        } else {\r\n            input.checked = this.selectedBillingAddress.id === data.id;\r\n        }\r\n\r\n        if (input.checked) {\r\n            label.classList.add(\"active\");\r\n        }\r\n\r\n        input.addEventListener(\"change\", async () => {\r\n            if (data.type === \"shipping\") {\r\n                this.selectedShippingAddress = data;\r\n            } else {\r\n                this.selectedBillingAddress = data;\r\n            }\r\n            this.repaint();\r\n        });\r\n        label.appendChild(input);\r\n\r\n        const info = document.createElement(\"div\");\r\n        info.classList.add(\"info\");\r\n        label.appendChild(info);\r\n\r\n        if (data.predetermined) {\r\n            const predetermined = document.createElement(\"div\");\r\n            predetermined.classList.add(\"predetermined\");\r\n            predetermined.textContent = \"Predeterminada\";\r\n            info.appendChild(predetermined);\r\n        }\r\n\r\n        const name = document.createElement(\"div\");\r\n        name.classList.add(\"name\");\r\n        name.textContent = `${data.name} ${data.lastname}`;\r\n        info.appendChild(name);\r\n\r\n        const fullAddress = document.createElement(\"div\");\r\n        fullAddress.classList.add(\"full-address\");\r\n        fullAddress.textContent = `${data.address}, ${data.postcode}, ${data.location}, ${data.province}, ${data.country}`;\r\n        info.appendChild(fullAddress);\r\n\r\n        const actions = document.createElement(\"div\");\r\n        actions.classList.add(\"actions\");\r\n        label.appendChild(actions);\r\n\r\n        const update = new _mio_IconButton__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            icon: _modules_Icons__WEBPACK_IMPORTED_MODULE_8__.icons.get(\"pencilSquare\"),\r\n            buttonSize: \"large\",\r\n            svgSize: \"large\",\r\n            ariaLabel: \"Editar dirección\",\r\n            onClick: () => {\r\n                this.setValues(data);\r\n\r\n                this.modal = new _Modal__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n                    title: \"Actualizar dirección\",\r\n                    content: this.createAddressForm(true),\r\n                    action: \"Actualizar\",\r\n                    maxWidth: \"700px\",\r\n                    fullscreenButton: true,\r\n                    actionCallback: this.handleUpdateAddress.bind(this, data),\r\n                    closeCallback: () => {\r\n                        this.resetValues();\r\n                        this.resetErrors();\r\n                    },\r\n                });\r\n            },\r\n        });\r\n        actions.appendChild(update.get());\r\n\r\n        new _Tooltip__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            target: update.get(),\r\n            message: \"Editar dirección\",\r\n            position: \"top\",\r\n        });\r\n\r\n        const remove = new _mio_IconButton__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            icon: _modules_Icons__WEBPACK_IMPORTED_MODULE_8__.icons.get(\"trash\"),\r\n            buttonSize: \"large\",\r\n            svgSize: \"large\",\r\n            ariaLabel: \"Eliminar dirección\",\r\n            onClick: this.handleDeleteAddress.bind(this, data),\r\n        });\r\n        actions.appendChild(remove.get());\r\n\r\n        new _Tooltip__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            target: remove.get(),\r\n            message: \"Eliminar dirección\",\r\n            position: \"top\",\r\n        });\r\n\r\n        return label;\r\n    }\r\n\r\n    showNewAddress() {\r\n        const addressesContainer = document.querySelector(\"#addresses\");\r\n\r\n        this.addressesEl = document.createElement(\"div\");\r\n        this.addressesEl.classList.add(\"new-address\");\r\n        addressesContainer.appendChild(this.addressesEl);\r\n\r\n        const addressesTitle = document.createElement(\"div\");\r\n        addressesTitle.classList.add(\"title\");\r\n        addressesTitle.textContent = \"Direcciones de envío\";\r\n        this.addressesEl.appendChild(addressesTitle);\r\n\r\n        const addressesInfo = document.createElement(\"div\");\r\n        addressesInfo.classList.add(\"info\");\r\n        addressesInfo.textContent =\r\n            \"No tienes ninguna direccion de envio regsitrada. Puedes crear una nueva a continuación.\";\r\n        this.addressesEl.appendChild(addressesInfo);\r\n\r\n        const addAddressesBtn = document.createElement(\"button\");\r\n        addAddressesBtn.classList.add(\"btn\", \"primary-btn\");\r\n        addAddressesBtn.textContent = \"Añadir dirección\";\r\n        addAddressesBtn.addEventListener(\"click\", () => {\r\n            this.modal = new _Modal__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n                title: \"Crear dirección\",\r\n                content: this.createAddressForm(false),\r\n                action: \"Crear\",\r\n                maxWidth: \"700px\",\r\n                fullscreenButton: true,\r\n                actionCallback: this.handleCreateNewAddress.bind(this),\r\n                closeCallback: () => {\r\n                    this.resetValues();\r\n                    this.resetErrors();\r\n                },\r\n            });\r\n        });\r\n        this.addressesEl.appendChild(addAddressesBtn);\r\n    }\r\n\r\n    createAddressForm(showPredetermined) {\r\n        const form = document.createElement(\"form\");\r\n        form.classList.add(\"mio-form\");\r\n        form.noValidate = true;\r\n\r\n        const double1 = document.createElement(\"div\");\r\n        double1.classList.add(\"mio-double\");\r\n        form.appendChild(double1);\r\n\r\n        const name = new _mio_Input__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Nombre\",\r\n                for: \"name\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"name\",\r\n                id: \"name\",\r\n                value: this.values.name,\r\n            },\r\n            error: this.errors.name.length > 0,\r\n            message: this.errors.name,\r\n            onInput: (value) => {\r\n                this.values.name = value;\r\n                this.errors.name = \"\";\r\n            },\r\n        });\r\n        double1.appendChild(name.getField());\r\n\r\n        const lastname = new _mio_Input__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Apellidos\",\r\n                for: \"lastname\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"lastname\",\r\n                id: \"lastname\",\r\n                value: this.values.lastname,\r\n            },\r\n            error: this.errors.lastname.length > 0,\r\n            message: this.errors.lastname,\r\n            onInput: (value) => {\r\n                this.values.lastname = value;\r\n                this.errors.lastname = \"\";\r\n            },\r\n        });\r\n        double1.appendChild(lastname.getField());\r\n\r\n        const double2 = document.createElement(\"div\");\r\n        double2.classList.add(\"mio-double\");\r\n        form.appendChild(double2);\r\n\r\n        const phone = new _mio_Input__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Teléfono\",\r\n                for: \"phone\",\r\n            },\r\n            input: {\r\n                type: \"tel\",\r\n                name: \"phone\",\r\n                id: \"phone\",\r\n                value: this.values.phone,\r\n            },\r\n            error: this.errors.phone.length > 0,\r\n            message: this.errors.phone,\r\n            onInput: (value) => {\r\n                this.values.phone = value;\r\n                this.errors.phone = \"\";\r\n            },\r\n        });\r\n        double2.appendChild(phone.getField());\r\n\r\n        const nif = new _mio_Input__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"NIF\",\r\n                for: \"nif\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"nif\",\r\n                id: \"nif\",\r\n                value: this.values.nif,\r\n            },\r\n            error: this.errors.nif.length > 0,\r\n            message: this.errors.nif,\r\n            onInput: (value) => {\r\n                this.values.nif = value;\r\n                this.errors.nif = \"\";\r\n            },\r\n        });\r\n        double2.appendChild(nif.getField());\r\n\r\n        const address = new _mio_Input__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Dirección\",\r\n                for: \"address\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"address\",\r\n                id: \"address\",\r\n                value: this.values.address,\r\n            },\r\n            error: this.errors.address.length > 0,\r\n            message: this.errors.address,\r\n            onInput: (value) => {\r\n                this.values.address = value;\r\n                this.errors.address = \"\";\r\n            },\r\n        });\r\n        form.appendChild(address.getField());\r\n\r\n        const double3 = document.createElement(\"div\");\r\n        double3.classList.add(\"mio-double\");\r\n        form.appendChild(double3);\r\n\r\n        const postcode = new _mio_Input__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Código postal\",\r\n                for: \"postcode\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"postcode\",\r\n                id: \"postcode\",\r\n                value: this.values.postcode,\r\n            },\r\n            error: this.errors.postcode.length > 0,\r\n            message: this.errors.postcode,\r\n            onInput: (value) => {\r\n                this.values.postcode = value;\r\n                this.errors.postcode = \"\";\r\n            },\r\n        });\r\n        double3.appendChild(postcode.getField());\r\n\r\n        const location = new _mio_Input__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Localidad\",\r\n                for: \"location\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"location\",\r\n                id: \"location\",\r\n                value: this.values.location,\r\n            },\r\n            error: this.errors.location.length > 0,\r\n            message: this.errors.location,\r\n            onInput: (value) => {\r\n                this.values.location = value;\r\n                this.errors.location = \"\";\r\n            },\r\n        });\r\n        double3.appendChild(location.getField());\r\n\r\n        const double4 = document.createElement(\"div\");\r\n        double4.classList.add(\"mio-double\");\r\n        form.appendChild(double4);\r\n\r\n        const province = new _mio_Select__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            label: {\r\n                text: \"Provincia\",\r\n                for: \"province\",\r\n            },\r\n            select: {\r\n                name: \"province\",\r\n                id: \"province\",\r\n            },\r\n            option: {\r\n                value: \"value\",\r\n                text: \"text\",\r\n            },\r\n            options: [\r\n                { value: \"Alava\", text: \"Alava\" },\r\n                { value: \"Albacete\", text: \"Albacete\" },\r\n                { value: \"Alicante\", text: \"Alicante\" },\r\n                { value: \"Almería\", text: \"Almería\" },\r\n                { value: \"Asturias\", text: \"Asturias\" },\r\n                { value: \"Avila\", text: \"Avila\" },\r\n                { value: \"Badajoz\", text: \"Badajoz\" },\r\n                { value: \"Barcelona\", text: \"Barcelona\" },\r\n                { value: \"Burgos\", text: \"Burgos\" },\r\n                { value: \"Cáceres\", text: \"Cáceres\" },\r\n                { value: \"Cádiz\", text: \"Cádiz\" },\r\n                { value: \"Cantabria\", text: \"Cantabria\" },\r\n                { value: \"Castellón\", text: \"Castellón\" },\r\n                { value: \"Ciudad Real\", text: \"Ciudad Real\" },\r\n                { value: \"Córdoba\", text: \"Córdoba\" },\r\n                { value: \"La Coruña\", text: \"La Coruña\" },\r\n                { value: \"Cuenca\", text: \"Cuenca\" },\r\n                { value: \"Gerona\", text: \"Gerona\" },\r\n                { value: \"Granada\", text: \"Granada\" },\r\n                { value: \"Guadalajara\", text: \"Guadalajara\" },\r\n                { value: \"Guipúzcoa\", text: \"Guipúzcoa\" },\r\n                { value: \"Huelva\", text: \"Huelva\" },\r\n                { value: \"Huesca\", text: \"Huesca\" },\r\n                { value: \"Islas Baleares\", text: \"Islas Baleares\" },\r\n                { value: \"Jaén\", text: \"Jaén\" },\r\n                { value: \"León\", text: \"León\" },\r\n                { value: \"Lérida\", text: \"Lérida\" },\r\n                { value: \"Lugo\", text: \"Lugo\" },\r\n                { value: \"Madrid\", text: \"Madrid\" },\r\n                { value: \"Málaga\", text: \"Málaga\" },\r\n                { value: \"Murcia\", text: \"Murcia\" },\r\n                { value: \"Navarra\", text: \"Navarra\" },\r\n                { value: \"Orense\", text: \"Orense\" },\r\n                { value: \"Palencia\", text: \"Palencia\" },\r\n                { value: \"Las Palmas\", text: \"Las Palmas\" },\r\n                { value: \"Pontevedra\", text: \"Pontevedra\" },\r\n                { value: \"La Rioja\", text: \"La Rioja\" },\r\n                { value: \"Salamanca\", text: \"Salamanca\" },\r\n                { value: \"Segovia\", text: \"Segovia\" },\r\n                { value: \"Sevilla\", text: \"Sevilla\" },\r\n                { value: \"Soria\", text: \"Soria\" },\r\n                { value: \"Tarragona\", text: \"Tarragona\" },\r\n                { value: \"Santa Cruz de Tenerife\", text: \"Santa Cruz de Tenerife\" },\r\n                { value: \"Teruel\", text: \"Teruel\" },\r\n                { value: \"Toledo\", text: \"Toledo\" },\r\n                { value: \"Valencia\", text: \"Valencia\" },\r\n                { value: \"Valladolid\", text: \"Valladolid\" },\r\n                { value: \"Vizcaya\", text: \"Vizcaya\" },\r\n                { value: \"Zamora\", text: \"Zamora\" },\r\n                { value: \"Zaragoza\", text: \"Zaragoza\" },\r\n            ],\r\n            selected: this.values.province,\r\n            error: this.errors.province.length > 0,\r\n            message: this.errors.province,\r\n            onSelect: async (option) => {\r\n                this.values.province = option.value;\r\n                this.errors.province = \"\";\r\n            },\r\n        });\r\n        double4.appendChild(province.getField());\r\n\r\n        const country = new _mio_Select__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            label: {\r\n                text: \"País\",\r\n                for: \"country\",\r\n            },\r\n            select: {\r\n                name: \"country\",\r\n                id: \"country\",\r\n            },\r\n            option: {\r\n                value: \"value\",\r\n                text: \"text\",\r\n            },\r\n            options: [{ value: \"España\", text: \"España\" }],\r\n            selected: this.values.country,\r\n            error: this.errors.country.length > 0,\r\n            message: this.errors.country,\r\n            onSelect: async (option) => {\r\n                this.values.country = option.value;\r\n                this.errors.country = \"\";\r\n            },\r\n        });\r\n        double4.appendChild(country.getField());\r\n\r\n        if (showPredetermined) {\r\n            const predetermined = new _mio_Switch_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n                label: {\r\n                    text: \"Predeterminar dirección\",\r\n                    for: \"predetermined\",\r\n                },\r\n                input: {\r\n                    name: \"predetermined\",\r\n                    id: \"predetermined\",\r\n                    value: this.values.predetermined,\r\n                },\r\n                size: \"medium\",\r\n                callback: (value) => {\r\n                    this.values.predetermined = value;\r\n                },\r\n            });\r\n            form.appendChild(predetermined.getField());\r\n        }\r\n\r\n        return form;\r\n    }\r\n\r\n    resetValues() {\r\n        for (const key of Object.keys(this.values)) {\r\n            if (key === \"predetermined\") {\r\n                this.values[key] = false;\r\n            } else {\r\n                this.values[key] = \"\";\r\n            }\r\n        }\r\n    }\r\n\r\n    resetErrors() {\r\n        for (const key of Object.keys(this.errors)) {\r\n            this.errors[key] = \"\";\r\n        }\r\n    }\r\n\r\n    setValues(address) {\r\n        for (const key of Object.keys(this.values)) {\r\n            this.values[key] = address[key];\r\n        }\r\n    }\r\n\r\n    setErrors(responseErrors) {\r\n        for (const key of Object.keys(responseErrors)) {\r\n            if (this.errors[key] !== undefined) {\r\n                this.errors[key] = responseErrors[key];\r\n            }\r\n        }\r\n    }\r\n\r\n    async handleCreateNewAddress() {\r\n        const response = await _modules_Api__WEBPACK_IMPORTED_MODULE_9__.api.post(\"/api/user/address/first\", this.values);\r\n\r\n        if (response.status === \"error\") {\r\n            this.setErrors(response.errors);\r\n            this.modal.repaint(this.createAddressForm());\r\n            return;\r\n        }\r\n\r\n        this.setAddresses(response.addresses);\r\n\r\n        const popup = new _Popup__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            title: \"Dirección creada\",\r\n            message: \"La dirección ha sido creada correctamente\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n        await this.modal.close();\r\n\r\n        this.repaint();\r\n    }\r\n\r\n    async handleCreateAddress() {\r\n        const response = await _modules_Api__WEBPACK_IMPORTED_MODULE_9__.api.post(\"/api/user/address\", this.values);\r\n\r\n        if (response.status === \"error\") {\r\n            this.setErrors(response.errors);\r\n            this.modal.repaint(this.createAddressForm(true));\r\n            return;\r\n        }\r\n\r\n        this.setAddresses(response.addresses);\r\n\r\n        const popup = new _Popup__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            title: \"Dirección creada\",\r\n            message: \"La dirección ha sido creada correctamente\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n        await this.modal.close();\r\n\r\n        this.repaint();\r\n    }\r\n\r\n    async handleUpdateAddress(address) {\r\n        this.values.id = address.id;\r\n        this.values.userId = address.userId;\r\n        this.values.type = address.type;\r\n        this.values.createdAt = address.createdAt;\r\n\r\n        const response = await _modules_Api__WEBPACK_IMPORTED_MODULE_9__.api.put(\"/api/user/address\", this.values);\r\n\r\n        if (response.status === \"error\" && response.message) {\r\n            const popup = new _Popup__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n                title: \"Error\",\r\n                message: response.message,\r\n                type: \"error\",\r\n                timer: 5000,\r\n            });\r\n            await popup.open();\r\n            return;\r\n        }\r\n\r\n        if (response.status === \"error\") {\r\n            this.setErrors(response.errors);\r\n            this.modal.repaint(this.createAddressForm(true));\r\n            return;\r\n        }\r\n\r\n        this.setAddresses(response.addresses);\r\n\r\n        const popup = new _Popup__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            title: \"Dirección actualizada\",\r\n            message: \"La dirección ha sido actualizada correctamente\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n        await this.modal.close();\r\n\r\n        this.repaint();\r\n    }\r\n\r\n    async handleDeleteAddress(address) {\r\n        const confirm = new _Confirm__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            title: \"¿Eliminar dirección?\",\r\n            description:\r\n                \"¿Estás seguro de eliminar esta dirección? Los datos no podrán ser recuperados.\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const response = await _modules_Api__WEBPACK_IMPORTED_MODULE_9__.api[\"delete\"](\"/api/user/address\", address);\r\n\r\n        if (response.status === \"error\") {\r\n            const popup = new _Popup__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n                title: \"Error\",\r\n                message: response.message,\r\n                type: \"error\",\r\n                timer: 5000,\r\n            });\r\n            await popup.open();\r\n            return;\r\n        }\r\n\r\n        this.setAddresses(response.addresses);\r\n\r\n        const popup = new _Popup__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            title: \"Dirección eliminada\",\r\n            message: \"La dirección ha sido eliminada correctamente\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n\r\n        this.repaint();\r\n    }\r\n\r\n    repaint() {\r\n        if (this.addressesEl) {\r\n            this.addressesEl.remove();\r\n        }\r\n\r\n        if (this.addresses.length) {\r\n            this.showAddresses();\r\n        } else {\r\n            this.showNewAddress();\r\n        }\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Addresses);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/Addresses.js?");

/***/ }),

/***/ "./src/js/classes/Cart.js":
/*!********************************!*\
  !*** ./src/js/classes/Cart.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _mio_IconButton_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mio/IconButton.js */ \"./src/js/classes/mio/IconButton.js\");\n/* harmony import */ var _modules_IndexedDB__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../modules/IndexedDB */ \"./src/js/modules/IndexedDB.js\");\n/* harmony import */ var _modules_Icons_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../modules/Icons.js */ \"./src/js/modules/Icons.js\");\n/* harmony import */ var _modules_Tools_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../modules/Tools.js */ \"./src/js/modules/Tools.js\");\n\r\n\r\n\r\n\r\n\r\nclass Cart {\r\n    constructor({ cart, onUpdate, onDelete, onClear }) {\r\n        this.cart = cart;\r\n\r\n        this.item = null;\r\n\r\n        this.onUpdate = onUpdate;\r\n        this.onDelete = onDelete;\r\n        this.onClear = onClear;\r\n\r\n        this.isOpen = false;\r\n\r\n        this.init();\r\n    }\r\n\r\n    async init() {\r\n        const cartPanelBtn = document.querySelector(\"#cart-panel-btn\");\r\n        const cartPanel = document.querySelector(\"#cart-panel\");\r\n\r\n        window.addEventListener(\"resize\", this.position.bind(this));\r\n        cartPanelBtn.addEventListener(\"click\", () => {\r\n            this.open();\r\n        });\r\n        cartPanel.addEventListener(\"click\", (e) => {\r\n            if (e.target.id === \"cart-panel\") {\r\n                this.close();\r\n            }\r\n        });\r\n\r\n        this.setCartPanelBtnUnits();\r\n\r\n        this.cartEl = this.create();\r\n        cartPanel.appendChild(this.cartEl);\r\n    }\r\n\r\n    set(cart) {\r\n        this.cart = cart;\r\n    }\r\n\r\n    get() {\r\n        return this.cart;\r\n    }\r\n\r\n    getItem() {\r\n        return this.item;\r\n    }\r\n\r\n    setItem(item) {\r\n        this.item = item;\r\n    }\r\n\r\n    async add(item) {\r\n        const insertedId = await _modules_IndexedDB__WEBPACK_IMPORTED_MODULE_1__.indexedDB.addRecord(item, \"cart\");\r\n        item.setId(insertedId);\r\n        this.cart = [...this.cart, item];\r\n    }\r\n\r\n    async update(updatedItem) {\r\n        await _modules_IndexedDB__WEBPACK_IMPORTED_MODULE_1__.indexedDB.updateRecord(updatedItem, \"cart\");\r\n        this.cart = this.cart.map((item) => (item.id === updatedItem.id ? updatedItem : item));\r\n    }\r\n\r\n    async delete(deletedItem) {\r\n        await _modules_IndexedDB__WEBPACK_IMPORTED_MODULE_1__.indexedDB.deleteRecord(deletedItem.id, \"cart\");\r\n        this.cart = this.cart.filter((item) => item.id !== deletedItem.id);\r\n    }\r\n\r\n    async clear() {\r\n        await _modules_IndexedDB__WEBPACK_IMPORTED_MODULE_1__.indexedDB.clearRecords(\"cart\");\r\n        this.cart = [];\r\n    }\r\n\r\n    length() {\r\n        return this.cart.length;\r\n    }\r\n\r\n    isEmpty() {\r\n        return this.cart.length === 0;\r\n    }\r\n\r\n    repaint() {\r\n        const cartPanel = document.querySelector(\"#cart-panel\");\r\n\r\n        this.cartEl.remove();\r\n        this.cartEl = this.create();\r\n        cartPanel.appendChild(this.cartEl);\r\n        this.position();\r\n        this.setCartPanelBtnUnits();\r\n    }\r\n\r\n    getTotal() {\r\n        return this.cart.reduce((total, item) => total + item.resume.price, 0);\r\n    }\r\n\r\n    setCartPanelBtnUnits() {\r\n        const cartPanelBtn = document.querySelector(\"#cart-panel-btn\");\r\n        const units = cartPanelBtn.querySelector(\".units\");\r\n\r\n        units.textContent = this.cart.length;\r\n    }\r\n\r\n    create() {\r\n        const content = document.createElement(\"div\");\r\n        content.classList.add(\"content\");\r\n\r\n        const header = document.createElement(\"div\");\r\n        header.classList.add(\"header\");\r\n        content.appendChild(header);\r\n\r\n        const title = document.createElement(\"div\");\r\n        title.classList.add(\"title\");\r\n        title.textContent = \"Mi carrito\";\r\n        header.appendChild(title);\r\n\r\n        const row = document.createElement(\"div\");\r\n        row.classList.add(\"row\");\r\n        header.appendChild(row);\r\n\r\n        const unitsEl = document.createElement(\"div\");\r\n        unitsEl.classList.add(\"units\");\r\n        unitsEl.textContent = `${this.cart.length} ${\r\n            this.cart.length === 0 || this.cart.length > 1 ? \"items\" : \"item\"\r\n        }`;\r\n        row.appendChild(unitsEl);\r\n\r\n        const closeBtn = new _mio_IconButton_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            icon: _modules_Icons_js__WEBPACK_IMPORTED_MODULE_2__.icons.get(\"xLg\"),\r\n            buttonSize: \"large\",\r\n            svgSize: \"large\",\r\n            ariaLabel: \"Cerrar\",\r\n            onClick: this.close.bind(this),\r\n        });\r\n        row.appendChild(closeBtn.get());\r\n\r\n        const body = document.createElement(\"div\");\r\n        body.classList.add(\"body\");\r\n        content.appendChild(body);\r\n\r\n        this.cart.forEach((item) => {\r\n            const { files, options, resume } = item;\r\n\r\n            const itemEl = document.createElement(\"div\");\r\n            itemEl.classList.add(\"item\");\r\n            body.appendChild(itemEl);\r\n\r\n            const pdfIconDiv = document.createElement(\"div\");\r\n            pdfIconDiv.classList.add(\"icon\");\r\n            itemEl.appendChild(pdfIconDiv);\r\n\r\n            const pdfIcon = _modules_Icons_js__WEBPACK_IMPORTED_MODULE_2__.icons.get(\"files\");\r\n            pdfIconDiv.appendChild(pdfIcon);\r\n\r\n            const filesEl = document.createElement(\"div\");\r\n            filesEl.classList.add(\"files\");\r\n            itemEl.appendChild(filesEl);\r\n\r\n            for (let i = 0; i < files.length; i++) {\r\n                const file = files[i];\r\n\r\n                const span = document.createElement(\"span\");\r\n                filesEl.appendChild(span);\r\n                if (files.length > 3 && i === 2) {\r\n                    span.textContent = `${files.length - i} ${\r\n                        files.length - i > 1 ? \"documentos\" : \"documento\"\r\n                    } más`;\r\n                    break;\r\n                }\r\n                span.textContent = file.name;\r\n            }\r\n\r\n            const info = document.createElement(\"div\");\r\n            info.classList.add(\"info\");\r\n            itemEl.appendChild(info);\r\n\r\n            const quantity = document.createElement(\"span\");\r\n            quantity.classList.add(\"quantity\");\r\n            quantity.textContent = `${options.copies} ${options.copies > 1 ? \"copias\" : \"copia\"}`;\r\n            info.appendChild(quantity);\r\n\r\n            const sheets = document.createElement(\"span\");\r\n            sheets.classList.add(\"sheets\");\r\n            sheets.textContent = `${resume.sheets} ${resume.sheets > 1 ? \"hojas\" : \"hoja\"}`;\r\n            info.appendChild(sheets);\r\n\r\n            const price = document.createElement(\"span\");\r\n            price.classList.add(\"price\");\r\n            price.textContent = _modules_Tools_js__WEBPACK_IMPORTED_MODULE_3__.tools.formatCurrency(resume.price);\r\n            info.appendChild(price);\r\n\r\n            const action = document.createElement(\"div\");\r\n            action.classList.add(\"action\");\r\n            itemEl.appendChild(action);\r\n\r\n            const updateBtn = new _mio_IconButton_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n                icon: _modules_Icons_js__WEBPACK_IMPORTED_MODULE_2__.icons.get(\"pencilSquare\"),\r\n                buttonSize: \"large\",\r\n                svgSize: \"large\",\r\n                ariaLabel: \"Editar\",\r\n                onClick: this.onUpdate.bind(this, item),\r\n            });\r\n            action.appendChild(updateBtn.get());\r\n\r\n            const deleteBtn = new _mio_IconButton_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n                icon: _modules_Icons_js__WEBPACK_IMPORTED_MODULE_2__.icons.get(\"trash\"),\r\n                buttonSize: \"large\",\r\n                svgSize: \"large\",\r\n                ariaLabel: \"Eliminar\",\r\n                onClick: this.onDelete.bind(this, item),\r\n            });\r\n            action.appendChild(deleteBtn.get());\r\n        });\r\n\r\n        const footer = document.createElement(\"div\");\r\n        footer.classList.add(\"footer\");\r\n        content.appendChild(footer);\r\n\r\n        const totalEl = document.createElement(\"div\");\r\n        totalEl.classList.add(\"total\");\r\n        totalEl.textContent = \"Total\";\r\n        footer.appendChild(totalEl);\r\n\r\n        const totalSpan = document.createElement(\"span\");\r\n        totalSpan.textContent = _modules_Tools_js__WEBPACK_IMPORTED_MODULE_3__.tools.formatCurrency(this.getTotal());\r\n        totalEl.appendChild(totalSpan);\r\n\r\n        const buttons = document.createElement(\"div\");\r\n        buttons.classList.add(\"buttons\");\r\n        footer.appendChild(buttons);\r\n\r\n        const emptyCartBtn = document.createElement(\"button\");\r\n        emptyCartBtn.classList.add(\"btn\", \"secondary-btn\");\r\n        emptyCartBtn.setAttribute(\"aria-label\", \"Vaciar carrito\");\r\n        emptyCartBtn.textContent = \"Vaciar carrito\";\r\n        emptyCartBtn.addEventListener(\"click\", this.onClear.bind(this));\r\n        buttons.appendChild(emptyCartBtn);\r\n\r\n        const openResumeBtn = document.createElement(\"a\");\r\n        openResumeBtn.classList.add(\"btn\", \"primary-btn\");\r\n        openResumeBtn.href = \"/checkout\";\r\n        openResumeBtn.textContent = \"Ver pedido\";\r\n        buttons.appendChild(openResumeBtn);\r\n\r\n        const arrow = document.createElement(\"div\");\r\n        arrow.classList.add(\"arrow\");\r\n        content.appendChild(arrow);\r\n\r\n        return content;\r\n    }\r\n\r\n    async open() {\r\n        const cartPanel = document.querySelector(\"#cart-panel\");\r\n\r\n        if (this.isOpen) {\r\n            return;\r\n        }\r\n\r\n        this.isOpen = true;\r\n\r\n        cartPanel.classList.add(\"active\", \"in\");\r\n        this.position();\r\n        await this.animationend(cartPanel);\r\n        cartPanel.classList.remove(\"in\");\r\n    }\r\n\r\n    async close() {\r\n        const cartPanel = document.querySelector(\"#cart-panel\");\r\n\r\n        if (!this.isOpen) {\r\n            return;\r\n        }\r\n\r\n        this.isOpen = false;\r\n\r\n        cartPanel.classList.add(\"out\");\r\n        await this.animationend(cartPanel);\r\n        cartPanel.classList.remove(\"active\", \"in\", \"out\");\r\n    }\r\n\r\n    position() {\r\n        if (!this.isOpen) {\r\n            return;\r\n        }\r\n\r\n        const header = document.querySelector(\"header .container\");\r\n        const cartPanelBtn = document.querySelector(\"#cart-panel-btn\");\r\n        const cartPanel = document.querySelector(\"#cart-panel\");\r\n        const arrow = document.querySelector(\"#cart-panel .arrow\");\r\n\r\n        const rect = cartPanelBtn.getBoundingClientRect();\r\n\r\n        const style = getComputedStyle(header);\r\n        const marginRight = parseInt(style.marginRight);\r\n\r\n        const top = rect.top + cartPanelBtn.offsetHeight + 14;\r\n        cartPanel.firstElementChild.style.top = `${top}px`;\r\n\r\n        if (innerWidth < 480) {\r\n            const width = document.body.offsetWidth - 20;\r\n            const right = (document.body.offsetWidth - width) / 2;\r\n            const rightArrow = width - rect.right + 10 + rect.width / 2 - arrow.offsetWidth / 2;\r\n\r\n            cartPanel.firstElementChild.style.maxWidth = width + \"px\";\r\n            cartPanel.firstElementChild.style.right = right + \"px\";\r\n            arrow.style.right = rightArrow + \"px\";\r\n        } else if (innerWidth < 768) {\r\n            const width = document.body.offsetWidth - 40;\r\n            const right = (document.body.offsetWidth - width) / 2;\r\n            const rightArrow = width - rect.right + 20 + rect.width / 2 - arrow.offsetWidth / 2;\r\n\r\n            cartPanel.firstElementChild.style.maxWidth = width + \"px\";\r\n            cartPanel.firstElementChild.style.right = right + \"px\";\r\n            arrow.style.right = rightArrow + \"px\";\r\n        } else if (innerWidth < 1024) {\r\n            const width = document.body.offsetWidth;\r\n            const right = marginRight + 30;\r\n            const rightArrow =\r\n                width - rect.right - 30 + rect.width / 2 - arrow.offsetWidth / 2 - marginRight;\r\n\r\n            cartPanel.firstElementChild.style.maxWidth = \"500px\";\r\n            cartPanel.firstElementChild.style.right = right + \"px\";\r\n            arrow.style.right = rightArrow + \"px\";\r\n        } else {\r\n            const width = document.body.offsetWidth;\r\n            const right = marginRight + 40;\r\n            const rightArrow =\r\n                width - rect.right - 40 + rect.width / 2 - arrow.offsetWidth / 2 - marginRight;\r\n\r\n            cartPanel.firstElementChild.style.maxWidth = \"560px\";\r\n            cartPanel.firstElementChild.style.right = right + \"px\";\r\n            arrow.style.right = rightArrow + \"px\";\r\n        }\r\n    }\r\n\r\n    animationend(target) {\r\n        return new Promise((resolve) => {\r\n            target.addEventListener(\"animationend\", resolve, { once: true });\r\n        });\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Cart);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/Cart.js?");

/***/ }),

/***/ "./src/js/classes/Collapse.js":
/*!************************************!*\
  !*** ./src/js/classes/Collapse.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass Collapse {\r\n    constructor(data) {\r\n        Object.assign(this, data);\r\n\r\n        this.type = data.collapsed;\r\n\r\n        this.start = false;\r\n\r\n        if (this.target) {\r\n            this.target.addEventListener(\"click\", this.toggle.bind(this));\r\n        }\r\n\r\n        this.container.classList.add(\"collapse\");\r\n\r\n        if (this.collapsed) {\r\n            this.collapse();\r\n        } else {\r\n            this.expand();\r\n        }\r\n    }\r\n\r\n    async toggle() {\r\n        this.target.classList.toggle(\"active\");\r\n\r\n        if (this.collapsed) {\r\n            this.collapsed = false;\r\n            await this.expandEl();\r\n            this.container.classList.add(\"auto\", \"overflow\");\r\n            this.container.removeAttribute(\"style\");\r\n        } else {\r\n            this.collapsed = true;\r\n            this.container.classList.remove(\"overflow\");\r\n            await this.collapseEl();\r\n            this.container.classList.remove(\"auto\");\r\n            this.container.removeAttribute(\"style\");\r\n        }\r\n    }\r\n\r\n    async expand() {\r\n        this.target.classList.add(\"active\");\r\n        this.container.style.transition = \"none\";\r\n        this.container.style.height = this.container.scrollHeight + \"px\";\r\n        this.container.classList.add(\"auto\", \"overflow\");\r\n        this.container.removeAttribute(\"style\");\r\n    }\r\n\r\n    async collapse() {\r\n        // this.target.classList.remove(\"active\");\r\n        // this.container.classList.remove(\"overflow\");\r\n        this.container.style.height = 0 + \"px\";\r\n        // await this.collapseEl();\r\n        // this.container.classList.remove(\"auto\");\r\n    }\r\n\r\n    async expandEl() {\r\n        return new Promise((resolve) => {\r\n            this.container.style.height = this.container.scrollHeight + \"px\";\r\n            this.container.addEventListener(\"transitionend\", resolve, { once: true });\r\n        });\r\n    }\r\n\r\n    async collapseEl() {\r\n        return new Promise((resolve) => {\r\n            requestAnimationFrame(() => {\r\n                this.container.style.height = this.container.scrollHeight + \"px\";\r\n                requestAnimationFrame(() => {\r\n                    this.container.style.height = 0 + \"px\";\r\n                });\r\n            });\r\n            this.container.addEventListener(\"transitionend\", resolve, { once: true });\r\n        });\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Collapse);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/Collapse.js?");

/***/ }),

/***/ "./src/js/classes/Confirm.js":
/*!***********************************!*\
  !*** ./src/js/classes/Confirm.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _modules_Icons_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules/Icons.js */ \"./src/js/modules/Icons.js\");\n\r\n\r\nclass Confirm {\r\n    constructor(data) {\r\n        Object.assign(this, data);\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.show();\r\n    }\r\n\r\n    question() {\r\n        return new Promise((resolve, reject) => {\r\n            if (!this.dialog || !this.acceptButton || !this.cancelButton || !this.closeButton) {\r\n                reject(\"There was a problem creating the modal window\");\r\n                return;\r\n            }\r\n\r\n            this.dialog.addEventListener(\"click\", () => {\r\n                resolve(null);\r\n                this.close();\r\n            });\r\n\r\n            this.acceptButton.addEventListener(\"click\", () => {\r\n                resolve(true);\r\n                this.close();\r\n            });\r\n\r\n            this.cancelButton.addEventListener(\"click\", () => {\r\n                resolve(false);\r\n                this.close();\r\n            });\r\n\r\n            this.closeButton.addEventListener(\"click\", () => {\r\n                resolve(null);\r\n                this.close();\r\n            });\r\n        });\r\n    }\r\n\r\n    show() {\r\n        const confirm = this.create();\r\n        document.body.appendChild(confirm);\r\n    }\r\n\r\n    create() {\r\n        this.dialog = document.createElement(\"div\");\r\n        this.dialog.classList.add(\"confirm\");\r\n\r\n        const content = document.createElement(\"div\");\r\n        content.classList.add(\"content\");\r\n        content.addEventListener(\"click\", (e) => e.stopPropagation());\r\n        this.dialog.appendChild(content);\r\n\r\n        const header = document.createElement(\"div\");\r\n        header.classList.add(\"header\");\r\n        content.appendChild(header);\r\n\r\n        const title = document.createElement(\"div\");\r\n        title.classList.add(\"title\");\r\n        title.textContent = this.title;\r\n        header.appendChild(title);\r\n\r\n        this.closeButton = document.createElement(\"button\");\r\n        this.closeButton.type = \"button\";\r\n        this.closeButton.classList.add(\"close\");\r\n        header.appendChild(this.closeButton);\r\n\r\n        const closeIcon = _modules_Icons_js__WEBPACK_IMPORTED_MODULE_0__.icons.get(\"xLg\");\r\n        this.closeButton.appendChild(closeIcon);\r\n\r\n        const body = document.createElement(\"div\");\r\n        body.classList.add(\"body\");\r\n        content.appendChild(body);\r\n\r\n        const description = document.createElement(\"div\");\r\n        description.classList.add(\"description\");\r\n        description.textContent = this.description;\r\n        body.appendChild(description);\r\n\r\n        const footer = document.createElement(\"div\");\r\n        footer.classList.add(\"footer\");\r\n        content.appendChild(footer);\r\n\r\n        this.cancelButton = document.createElement(\"button\");\r\n        this.cancelButton.type = \"button\";\r\n        this.cancelButton.classList.add(\"btn\", \"secondary-btn\");\r\n        this.cancelButton.textContent = this.cancel;\r\n        footer.appendChild(this.cancelButton);\r\n\r\n        this.acceptButton = document.createElement(\"button\");\r\n        this.acceptButton.type = \"button\";\r\n        this.acceptButton.classList.add(\"btn\", \"primary-btn\");\r\n        this.acceptButton.textContent = this.accept;\r\n        footer.appendChild(this.acceptButton);\r\n\r\n        return this.dialog;\r\n    }\r\n\r\n    async close() {\r\n        this.dialog.classList.add(\"fadeOut\");\r\n        this.dialog.firstChild.classList.add(\"slideOutTop\");\r\n\r\n        await this.animationend(this.dialog);\r\n\r\n        this.dialog.remove();\r\n        delete this;\r\n    }\r\n\r\n    async animationend(target) {\r\n        return new Promise((resolve) => {\r\n            target.addEventListener(\"animationend\", resolve, { once: true });\r\n        });\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Confirm);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/Confirm.js?");

/***/ }),

/***/ "./src/js/classes/Details.js":
/*!***********************************!*\
  !*** ./src/js/classes/Details.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _mio_Select__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mio/Select */ \"./src/js/classes/mio/Select.js\");\n/* harmony import */ var _mio_Input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mio/Input */ \"./src/js/classes/mio/Input.js\");\n/* harmony import */ var _LoadingButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LoadingButton */ \"./src/js/classes/LoadingButton.js\");\n/* harmony import */ var _modules_Tools__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../modules/Tools */ \"./src/js/modules/Tools.js\");\n/* harmony import */ var _modules_Api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../modules/Api */ \"./src/js/modules/Api.js\");\n/* harmony import */ var _modules_Icons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../modules/Icons */ \"./src/js/modules/Icons.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Details {\r\n    constructor({ cart, nextStepText, onClick }) {\r\n        this.cart = cart;\r\n        this.nextStepText = nextStepText;\r\n        this.onClick = onClick;\r\n\r\n        this.shippingMethod = \"standard\";\r\n        this.shippingPrice = this.calculateShippingPrice();\r\n\r\n        this.code = \"\";\r\n        this.discount = 0;\r\n\r\n        this.units = this.calculateUnits();\r\n        this.subtotal = this.calculateSubtotal();\r\n        this.total = this.calculateTotal();\r\n    }\r\n\r\n    init() {\r\n        this.show();\r\n    }\r\n\r\n    get() {\r\n        return {\r\n            shippingMethod: this.shippingMethod,\r\n            shippingPrice: this.shippingPrice,\r\n            code: this.code,\r\n            discount: this.discount,\r\n            units: this.units,\r\n            subtotal: this.subtotal,\r\n            total: this.total,\r\n        };\r\n    }\r\n\r\n    setDetails(details) {\r\n        this.shippingMethod = details.shippingMethod;\r\n        this.shippingPrice = details.shippingPrice;\r\n        this.code = details.code;\r\n        this.discount = details.discount;\r\n    }\r\n\r\n    calculateShippingPrice() {\r\n        switch (this.shippingMethod) {\r\n            case \"standard\":\r\n                return 3;\r\n            case \"express\":\r\n                return 6;\r\n            case \"shop\":\r\n                return 0;\r\n        }\r\n    }\r\n\r\n    calculateUnits() {\r\n        return this.cart.length();\r\n    }\r\n\r\n    calculateSubtotal() {\r\n        return this.cart.get().reduce((total, item) => total + item.resume.price, 0);\r\n    }\r\n\r\n    calculateTotal() {\r\n        return this.subtotal + this.shippingPrice - (this.subtotal * this.discount) / 100;\r\n    }\r\n\r\n    recalculate() {\r\n        this.shippingPrice = this.calculateShippingPrice();\r\n        this.units = this.calculateUnits();\r\n        this.subtotal = this.calculateSubtotal();\r\n        this.total = this.calculateTotal();\r\n    }\r\n\r\n    repaint() {\r\n        this.remove();\r\n        this.recalculate();\r\n        this.show();\r\n    }\r\n\r\n    remove() {\r\n        this.detailsEl.remove();\r\n    }\r\n\r\n    show() {\r\n        const detailsContainer = document.querySelector(\"#details\");\r\n\r\n        this.detailsEl = this.create();\r\n        detailsContainer.appendChild(this.detailsEl);\r\n    }\r\n\r\n    create() {\r\n        const detailsEl = document.createElement(\"div\");\r\n        detailsEl.classList.add(\"details\");\r\n\r\n        const title = document.createElement(\"div\");\r\n        title.classList.add(\"title\");\r\n        title.textContent = \"Detalles del pedido\";\r\n        detailsEl.appendChild(title);\r\n\r\n        const info = document.createElement(\"div\");\r\n        info.classList.add(\"info\");\r\n        detailsEl.appendChild(info);\r\n\r\n        const units = document.createElement(\"div\");\r\n        units.classList.add(\"units\");\r\n        units.textContent = \"Impresiones\";\r\n        info.appendChild(units);\r\n\r\n        const unitsSpan = document.createElement(\"span\");\r\n        unitsSpan.textContent = this.units;\r\n        units.appendChild(unitsSpan);\r\n\r\n        const subtotal = document.createElement(\"div\");\r\n        subtotal.classList.add(\"subtotal\");\r\n        subtotal.textContent = \"Subtotal\";\r\n        info.appendChild(subtotal);\r\n\r\n        const subtotalSpan = document.createElement(\"span\");\r\n        subtotalSpan.textContent = _modules_Tools__WEBPACK_IMPORTED_MODULE_3__.tools.formatCurrency(this.subtotal);\r\n        subtotal.appendChild(subtotalSpan);\r\n\r\n        if (this.discount) {\r\n            const discount = document.createElement(\"div\");\r\n            discount.classList.add(\"discount\");\r\n            discount.textContent = \"Descuento\";\r\n            info.appendChild(discount);\r\n\r\n            const discountSpan = document.createElement(\"span\");\r\n            discountSpan.textContent = `${this.discount} %`;\r\n            discount.appendChild(discountSpan);\r\n        }\r\n\r\n        const form = document.createElement(\"form\");\r\n        form.classList.add(\"mio-form\");\r\n        detailsEl.appendChild(form);\r\n\r\n        const shippingMethod = new _mio_Select__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Método de envio\",\r\n                for: \"shippingMethod\",\r\n            },\r\n            select: {\r\n                name: \"shippingMethod\",\r\n                id: \"shippingMethod\",\r\n            },\r\n            option: {\r\n                value: \"value\",\r\n                text: \"text\",\r\n            },\r\n            options: [\r\n                { value: \"standard\", text: \"Envio estandard 3 €\" },\r\n                { value: \"express\", text: \"Envio express 6 €\" },\r\n                { value: \"shop\", text: \"Recogida en tienda 0 €\" },\r\n            ],\r\n            selected: this.shippingMethod,\r\n            onSelect: async (option) => {\r\n                this.shippingMethod = option.value;\r\n                this.repaint();\r\n            },\r\n        });\r\n        form.appendChild(shippingMethod.getField());\r\n\r\n        this.codeInput = new _mio_Input__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            label: {\r\n                text: \"Código promocional\",\r\n                for: \"code\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"code\",\r\n                id: \"code\",\r\n                autocomplete: \"username\",\r\n                value: this.code,\r\n                maxLength: 20,\r\n            },\r\n            manualErrorHandling: true,\r\n            adornment: this.discount ? _modules_Icons__WEBPACK_IMPORTED_MODULE_5__.icons.get(\"check\") : null,\r\n            onInput: async (value) => {\r\n                this.code = value;\r\n                this.handlePromoCode();\r\n            },\r\n            onBlur: () => {\r\n                if (!this.discount) {\r\n                    this.codeInput.clear();\r\n                    this.code = \"\";\r\n                    this.repaint();\r\n                }\r\n            },\r\n        });\r\n        form.appendChild(this.codeInput.getField());\r\n\r\n        const total = document.createElement(\"div\");\r\n        total.classList.add(\"total\");\r\n        total.textContent = \"Total\";\r\n        detailsEl.appendChild(total);\r\n\r\n        const totalSpan = document.createElement(\"span\");\r\n        totalSpan.textContent = _modules_Tools__WEBPACK_IMPORTED_MODULE_3__.tools.formatCurrency(this.total);\r\n        total.appendChild(totalSpan);\r\n\r\n        this.orderBtn = new _LoadingButton__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            type: \"button\",\r\n            text: this.nextStepText,\r\n            classes: [\"btn\", \"primary-btn\"],\r\n            onClick: this.onClick,\r\n        });\r\n        detailsEl.appendChild(this.orderBtn.get());\r\n\r\n        return detailsEl;\r\n    }\r\n\r\n    async handlePromoCode() {\r\n        if (!this.code) {\r\n            this.discount = 0;\r\n            this.codeInput.blur();\r\n            return;\r\n        }\r\n\r\n        const response = await _modules_Api__WEBPACK_IMPORTED_MODULE_4__.api.post(\"/api/code/validate\", { code: this.code });\r\n\r\n        this.codeInput.removeError();\r\n        this.codeInput.removeAdornment();\r\n\r\n        if (response.status === \"error\") {\r\n            this.discount = 0;\r\n            this.codeInput.showError(response.errors.code);\r\n            this.codeInput.showAdornment(_modules_Icons__WEBPACK_IMPORTED_MODULE_5__.icons.get(\"x\"));\r\n            return;\r\n        }\r\n\r\n        this.discount = response.discount;\r\n        this.codeInput.showAdornment(_modules_Icons__WEBPACK_IMPORTED_MODULE_5__.icons.get(\"check\"));\r\n        this.repaint();\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Details);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/Details.js?");

/***/ }),

/***/ "./src/js/classes/Drop.js":
/*!********************************!*\
  !*** ./src/js/classes/Drop.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Popup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Popup */ \"./src/js/classes/Popup.js\");\n\r\n\r\nclass Drop {\r\n    constructor(data) {\r\n        Object.assign(this, data);\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        const droparea = document.querySelector(\"#droparea\");\r\n        const dropmask = document.querySelector(\"#dropmask\");\r\n\r\n        droparea.addEventListener(\"dragenter\", this.dropareaDragenter.bind(this));\r\n        dropmask.addEventListener(\"dragenter\", this.dropmaskDragenter.bind(this));\r\n        dropmask.addEventListener(\"dragleave\", this.dropmaskDragleave.bind(this));\r\n        dropmask.addEventListener('dragover', this.dropmaskDragover.bind(this));\r\n        dropmask.addEventListener(\"drop\", this.dropmaskDrop.bind(this));\r\n\r\n        this.animationend = this.animationend.bind(this);\r\n    }\r\n\r\n    dropareaDragenter(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        this.open();\r\n    }\r\n\r\n    dropmaskDragenter(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        const dropmask = document.querySelector(\"#dropmask\");\r\n        dropmask.classList.remove(\"out\");\r\n        dropmask.removeEventListener(\"animationend\", this.animationend, { once: true });\r\n    }\r\n\r\n    dropmaskDragleave(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        this.close();\r\n    }\r\n\r\n    dropmaskDragover(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        this.open();\r\n    }\r\n\r\n    async dropmaskDrop(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        this.close();\r\n\r\n        const files = e.dataTransfer.files;\r\n\r\n        if (files.length === 0) {\r\n            return;\r\n        }\r\n\r\n        if (!this.isValidFileType(files)) {\r\n            const popup = new _Popup__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n                title: \"¡Error de subida!\",\r\n                message:\r\n                    \"Lo sentimos, el tipo de archivo no está soportado. Solo se permiten archivos PDF.\",\r\n                type: \"error\",\r\n                timer: 3000,\r\n            });\r\n            popup.open();\r\n            return;\r\n        }\r\n\r\n        this.onDrop(files);\r\n    }\r\n\r\n    async open() {\r\n        const dropmask = document.querySelector(\"#dropmask\");\r\n        dropmask.classList.add(\"active\", \"in\");\r\n    }\r\n\r\n    async close() {\r\n        const dropmask = document.querySelector(\"#dropmask\");\r\n        dropmask.classList.add(\"out\");\r\n        dropmask.addEventListener(\"animationend\", this.animationend, { once: true });\r\n    }\r\n\r\n    animationend() {\r\n        const dropmask = document.querySelector(\"#dropmask\");\r\n        dropmask.classList.remove(\"active\", \"in\", \"out\");\r\n    }\r\n\r\n    isValidFileType(files) {\r\n        return Array.from(files).every((file) => file.type === \"application/pdf\");\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Drop);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/Drop.js?");

/***/ }),

/***/ "./src/js/classes/File.js":
/*!********************************!*\
  !*** ./src/js/classes/File.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass File {\r\n    constructor(file) {\r\n        if (file.id) {\r\n            this.id = file.id;\r\n        }\r\n\r\n        this.file = file.file;\r\n\r\n        this.name = file.name;\r\n        this.size = file.size;\r\n        this.type = file.type;\r\n\r\n        this.image = file.image;\r\n        this.pages = file.pages;\r\n\r\n        this.unitSheets = file.unitSheets || this.calculateSheets(file.options).unitSheets;\r\n        this.totalSheets = file.totalSheets || this.calculateSheets(file.options).totalSheets;\r\n\r\n        this.unitPrice = file.unitPrice || this.calculatePrice(file.options).unitPrice;\r\n        this.totalPrice = file.totalPrice || this.calculatePrice(file.options).totalPrice;\r\n\r\n        this.unitWeight = file.unitWeight || this.calculateWeight(file.options).unitWeight;\r\n        this.totalWeight = file.totalWeight || this.calculateWeight(file.options).totalWeight;\r\n    }\r\n\r\n    setId(id) {\r\n        this.id = id;\r\n    }\r\n\r\n    setUnitSheets(unitSheets) {\r\n        this.unitSheets = unitSheets;\r\n    }\r\n\r\n    setTotalSheets(totalSheets) {\r\n        this.totalSheets = totalSheets;\r\n    }\r\n\r\n    setUnitPrice(unitPrice) {\r\n        this.unitPrice = unitPrice;\r\n    }\r\n\r\n    setTotalPrice(totalPrice) {\r\n        this.totalPrice = totalPrice;\r\n    }\r\n\r\n    setUnitWeight(unitWeight) {\r\n        this.unitWeight = unitWeight;\r\n    }\r\n\r\n    setTotalWeight(totalWeight) {\r\n        this.totalWeight = totalWeight;\r\n    }\r\n\r\n    recalculate(options) {\r\n        const { unitSheets, totalSheets } = this.calculateSheets(options);\r\n        this.setUnitSheets(unitSheets);\r\n        this.setTotalSheets(totalSheets);\r\n\r\n        const { unitPrice, totalPrice } = this.calculatePrice(options);\r\n        this.setUnitPrice(unitPrice);\r\n        this.setTotalPrice(totalPrice);\r\n\r\n        const { unitWeight, totalWeight } = this.calculateWeight(options);\r\n        this.setUnitWeight(unitWeight);\r\n        this.setTotalWeight(totalWeight);\r\n    }\r\n\r\n    calculateSheets(options) {\r\n        const { copies, doubleSided, customPages, from, to, pagesPerSheet } = options;\r\n\r\n        let unitSheets = 0;\r\n        let totalSheets = 0;\r\n\r\n        if (customPages === \"all\") {\r\n            unitSheets = this.pages;\r\n        }\r\n\r\n        if (customPages === \"range\") {\r\n            unitSheets = to - from + 1;\r\n        }\r\n\r\n        if (doubleSided) {\r\n            unitSheets = Math.ceil(unitSheets / 2);\r\n        }\r\n\r\n        if (pagesPerSheet === 2) {\r\n            unitSheets = Math.ceil(unitSheets / 2);\r\n        }\r\n\r\n        if (pagesPerSheet === 4) {\r\n            unitSheets = Math.ceil(unitSheets / 4);\r\n        }\r\n\r\n        totalSheets = unitSheets * copies;\r\n\r\n        return {\r\n            unitSheets,\r\n            totalSheets,\r\n        };\r\n    }\r\n\r\n    calculatePrice(options) {\r\n        const { color, copies, doubleSided, customPages, from, to, size, pagesPerSheet, binding } =\r\n            options;\r\n\r\n        const blackPriceSingle = 0.04;\r\n        const blackPriceDouble = 0.03;\r\n\r\n        const colorPriceSingle = 0.1;\r\n        const colorPriceDouble = 0.1;\r\n\r\n        const bind250 = 2.0;\r\n        const bind500 = 3.0;\r\n\r\n        const punchDouble = 1.5;\r\n        const punchQuadruple = 1.5;\r\n\r\n        const laminateA4 = 0.5;\r\n        const laminateA3 = 1.0;\r\n\r\n        let pages = 0;\r\n\r\n        let unitPrice = 0;\r\n        let totalPrice = 0;\r\n\r\n        if (customPages === \"all\") {\r\n            pages = this.pages;\r\n        }\r\n\r\n        if (customPages === \"range\") {\r\n            pages = to - from + 1;\r\n        }\r\n\r\n        if (color === \"black\" && !doubleSided && pagesPerSheet === 1) {\r\n            unitPrice = pages * blackPriceSingle;\r\n        }\r\n\r\n        if (color === \"black\" && !doubleSided && pagesPerSheet === 2) {\r\n            unitPrice = Math.ceil(pages / 2) * blackPriceSingle;\r\n        }\r\n\r\n        if (color === \"black\" && !doubleSided && pagesPerSheet === 4) {\r\n            unitPrice = Math.ceil(pages / 4) * blackPriceSingle;\r\n        }\r\n\r\n        if (color === \"black\" && doubleSided && pages === 1 && pagesPerSheet === 1) {\r\n            unitPrice = pages * blackPriceSingle;\r\n        }\r\n\r\n        if (color === \"black\" && doubleSided && pages > 1 && pagesPerSheet === 1) {\r\n            unitPrice = pages * blackPriceDouble;\r\n        }\r\n\r\n        if (color === \"black\" && doubleSided && pages === 1 && pagesPerSheet === 2) {\r\n            unitPrice = Math.ceil(pages / 2) * blackPriceSingle;\r\n        }\r\n\r\n        if (color === \"black\" && doubleSided && pages > 1 && pagesPerSheet === 2) {\r\n            unitPrice = Math.ceil(pages / 2) * blackPriceDouble;\r\n        }\r\n\r\n        if (color === \"black\" && doubleSided && pages === 1 && pagesPerSheet === 4) {\r\n            unitPrice = Math.ceil(pages / 4) * blackPriceSingle;\r\n        }\r\n\r\n        if (color === \"black\" && doubleSided && pages > 1 && pagesPerSheet === 4) {\r\n            unitPrice = Math.ceil(pages / 4) * blackPriceDouble;\r\n        }\r\n\r\n        if (color === \"color\" && !doubleSided && pagesPerSheet === 1) {\r\n            unitPrice = pages * colorPriceSingle;\r\n        }\r\n\r\n        if (color === \"color\" && !doubleSided && pagesPerSheet === 2) {\r\n            unitPrice = Math.ceil(pages / 2) * colorPriceSingle;\r\n        }\r\n\r\n        if (color === \"color\" && !doubleSided && pagesPerSheet === 4) {\r\n            unitPrice = Math.ceil(pages / 4) * colorPriceSingle;\r\n        }\r\n\r\n        if (color === \"color\" && doubleSided && pages === 1 && pagesPerSheet === 1) {\r\n            unitPrice = pages * colorPriceSingle;\r\n        }\r\n\r\n        if (color === \"color\" && doubleSided && pages > 1 && pagesPerSheet === 1) {\r\n            unitPrice = pages * colorPriceDouble;\r\n        }\r\n\r\n        if (color === \"color\" && doubleSided && pages === 1 && pagesPerSheet === 2) {\r\n            unitPrice = Math.ceil(pages / 2) * colorPriceSingle;\r\n        }\r\n\r\n        if (color === \"color\" && doubleSided && pages > 1 && pagesPerSheet === 2) {\r\n            unitPrice = Math.ceil(pages / 2) * colorPriceDouble;\r\n        }\r\n\r\n        if (color === \"color\" && doubleSided && pages === 1 && pagesPerSheet === 4) {\r\n            unitPrice = Math.ceil(pages / 4) * colorPriceSingle;\r\n        }\r\n\r\n        if (color === \"color\" && doubleSided && pages > 1 && pagesPerSheet === 4) {\r\n            unitPrice = Math.ceil(pages / 4) * colorPriceDouble;\r\n        }\r\n\r\n        if (size === \"a3\") {\r\n            unitPrice = unitPrice * 2;\r\n        }\r\n\r\n        if (binding === \"bound\") {\r\n            const numberOfBinds = Math.ceil(this.unitSheets / 500);\r\n\r\n            if (numberOfBinds === 1) {\r\n                if (this.unitSheets <= 250) {\r\n                    unitPrice = unitPrice + bind250;\r\n                }\r\n\r\n                if (this.unitSheets > 250 && this.unitSheets <= 500) {\r\n                    unitPrice = unitPrice + bind500;\r\n                }\r\n            }\r\n\r\n            if (numberOfBinds > 1) {\r\n                const numberOfBinds500 = Math.floor(this.unitSheets / 500);\r\n                const rest = this.unitSheets - numberOfBinds500 * 500;\r\n\r\n                unitPrice = unitPrice + numberOfBinds500 * bind500;\r\n\r\n                if (rest <= 250) {\r\n                    unitPrice = unitPrice + bind250;\r\n                }\r\n\r\n                if (rest > 250 && rest <= 500) {\r\n                    unitPrice = unitPrice + bind500;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (binding === \"punch-double\") {\r\n            unitPrice = unitPrice + punchDouble;\r\n        }\r\n\r\n        if (binding === \"punch-quadruple\") {\r\n            unitPrice = unitPrice + punchQuadruple;\r\n        }\r\n\r\n        if (binding === \"laminated\" && size === \"a4\") {\r\n            unitPrice = unitPrice + laminateA4;\r\n        }\r\n\r\n        if (binding === \"laminated\" && size === \"a3\") {\r\n            unitPrice = unitPrice + laminateA3;\r\n        }\r\n\r\n        totalPrice = unitPrice * copies;\r\n\r\n        return {\r\n            unitPrice,\r\n            totalPrice,\r\n        };\r\n    }\r\n\r\n    calculateWeight(options) {\r\n        const gramsA4paper80 = 5;\r\n\r\n        const { copies } = options;\r\n\r\n        let unitWeight = 0;\r\n        let totalWeight = 0;\r\n\r\n        unitWeight = gramsA4paper80 * this.unitSheets;\r\n        totalWeight = unitWeight * copies;\r\n\r\n        return {\r\n            unitWeight,\r\n            totalWeight,\r\n        };\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (File);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/File.js?");

/***/ }),

/***/ "./src/js/classes/Files.js":
/*!*********************************!*\
  !*** ./src/js/classes/Files.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _modules_IndexedDB__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules/IndexedDB */ \"./src/js/modules/IndexedDB.js\");\n/* harmony import */ var _File__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./File */ \"./src/js/classes/File.js\");\n\r\n\r\n\r\nclass Files {\r\n    constructor({ files } = {}) {\r\n        this.files = files ?? [];\r\n    }\r\n\r\n    set(files) {\r\n        this.files = files.map((file) => new _File__WEBPACK_IMPORTED_MODULE_1__[\"default\"](file));\r\n    }\r\n\r\n    get() {\r\n        return this.files;\r\n    }\r\n\r\n    getFirst() {\r\n        return this.files[0];\r\n    }\r\n\r\n    async add(file) {\r\n        const insertedId = await _modules_IndexedDB__WEBPACK_IMPORTED_MODULE_0__.indexedDB.addRecord(file, \"files\");\r\n        file.setId(insertedId);\r\n\r\n        this.files = [...this.files, file];\r\n    }\r\n\r\n    update(updatedFile) {\r\n        this.files = this.files.map((file) => (file.file === updatedFile ? updatedFile : file));\r\n    }\r\n\r\n    async delete(deletedFile) {\r\n        await _modules_IndexedDB__WEBPACK_IMPORTED_MODULE_0__.indexedDB.deleteRecord(deletedFile.id, \"files\");\r\n        this.files = this.files.filter((file) => file.file !== deletedFile.file);\r\n    }\r\n\r\n    async reset() {\r\n        this.files = [];\r\n        await _modules_IndexedDB__WEBPACK_IMPORTED_MODULE_0__.indexedDB.clearRecords(\"files\");\r\n    }\r\n\r\n    length() {\r\n        return this.files.length;\r\n    }\r\n\r\n    async save() {\r\n        await _modules_IndexedDB__WEBPACK_IMPORTED_MODULE_0__.indexedDB.addRecords(this.files, \"files\");\r\n    }\r\n\r\n    async recalculate(options) {\r\n        this.files.forEach((file) => file.recalculate(options));\r\n\r\n        await Promise.all(\r\n            this.files.map(async (file) => {\r\n                await _modules_IndexedDB__WEBPACK_IMPORTED_MODULE_0__.indexedDB.updateRecord(file, \"files\");\r\n            })\r\n        );\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Files);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/Files.js?");

/***/ }),

/***/ "./src/js/classes/InputFiles.js":
/*!**************************************!*\
  !*** ./src/js/classes/InputFiles.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Popup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Popup */ \"./src/js/classes/Popup.js\");\n\r\n\r\nclass InputFiles {\r\n    constructor(data) {\r\n        Object.assign(this, data);\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        const input = document.querySelector(\"#files\");\r\n\r\n        input.addEventListener(\"input\", this.handleInput.bind(this));\r\n    }\r\n\r\n    handleInput(e) {\r\n        const files = e.target.files;\r\n\r\n        if (files.length === 0) {\r\n            return;\r\n        }\r\n\r\n        if (!this.isValidFileType(files)) {\r\n            const popup = new _Popup__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n                title: \"¡Error de subida!\",\r\n                message:\r\n                    \"Lo sentimos, el tipo de archivo no está soportado. Solo se permiten archivos PDF.\",\r\n                type: \"error\",\r\n                timer: 3000,\r\n            });\r\n            popup.open();\r\n            return;\r\n        }\r\n\r\n        this.onInput(files);\r\n    }\r\n\r\n    isValidFileType(files) {\r\n        return Array.from(files).every((file) => file.type === \"application/pdf\");\r\n    }\r\n\r\n    clear() {\r\n        const input = document.querySelector(\"#files\");\r\n        input.value = \"\";\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (InputFiles);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/InputFiles.js?");

/***/ }),

/***/ "./src/js/classes/Item.js":
/*!********************************!*\
  !*** ./src/js/classes/Item.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass Item {\r\n    constructor({ files, options, resume }) {\r\n        this.files = files;\r\n        this.options = options;\r\n        this.resume = resume;\r\n    }\r\n\r\n    setId(id) {\r\n        this.id = id;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Item);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/Item.js?");

/***/ }),

/***/ "./src/js/classes/Items.js":
/*!*********************************!*\
  !*** ./src/js/classes/Items.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Collapse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Collapse */ \"./src/js/classes/Collapse.js\");\n/* harmony import */ var _Tooltip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Tooltip */ \"./src/js/classes/Tooltip.js\");\n/* harmony import */ var _mio_IconButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mio/IconButton */ \"./src/js/classes/mio/IconButton.js\");\n/* harmony import */ var _modules_Icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../modules/Icons */ \"./src/js/modules/Icons.js\");\n/* harmony import */ var _modules_Tools__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../modules/Tools */ \"./src/js/modules/Tools.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass Items {\r\n    constructor({ cart, onUpdate, onDelete }) {\r\n        this.cart = cart;\r\n\r\n        this.onUpdate = onUpdate;\r\n        this.onDelete = onDelete;\r\n    }\r\n\r\n    init() {\r\n        this.show();\r\n    }\r\n\r\n    show() {\r\n        const itemsContainer = document.querySelector(\"#items\");\r\n\r\n        this.itemsEl = this.create();\r\n        itemsContainer.appendChild(this.itemsEl);\r\n    }\r\n\r\n    create() {\r\n        if (this.cart.isEmpty()) {\r\n            return this.createEmpty();\r\n        }\r\n\r\n        const itemsEl = document.createElement(\"div\");\r\n        itemsEl.classList.add(\"items\");\r\n\r\n        const fragment = document.createDocumentFragment();\r\n\r\n        this.cart.get().forEach((item) => {\r\n            const itemEl = this.createItem(item);\r\n            fragment.appendChild(itemEl);\r\n        });\r\n\r\n        itemsEl.appendChild(fragment);\r\n\r\n        return itemsEl;\r\n    }\r\n\r\n    createEmpty() {\r\n        const empty = document.createElement(\"div\");\r\n        empty.classList.add(\"empty\");\r\n\r\n        const icon = _modules_Icons__WEBPACK_IMPORTED_MODULE_3__.icons.get(\"exclamationCircle\");\r\n        empty.appendChild(icon);\r\n\r\n        const message = document.createElement(\"p\");\r\n        message.textContent = \"El carrito está vacío\";\r\n        empty.appendChild(message);\r\n\r\n        return empty;\r\n    }\r\n\r\n    createItem(item) {\r\n        const itemEl = document.createElement(\"div\");\r\n        itemEl.classList.add(\"item\");\r\n\r\n        const header = document.createElement(\"div\");\r\n        header.classList.add(\"header\");\r\n        itemEl.appendChild(header);\r\n\r\n        const icon = document.createElement(\"div\");\r\n        icon.classList.add(\"icon\");\r\n        header.appendChild(icon);\r\n\r\n        icon.appendChild(_modules_Icons__WEBPACK_IMPORTED_MODULE_3__.icons.get(\"files\"));\r\n\r\n        const row = document.createElement(\"div\");\r\n        row.classList.add(\"row\");\r\n        header.appendChild(row);\r\n\r\n        const name = document.createElement(\"div\");\r\n        name.classList.add(\"name\");\r\n        row.appendChild(name);\r\n\r\n        const nameSpan = document.createElement(\"span\");\r\n        nameSpan.textContent = `Impresión con ${item.files.length} ${\r\n            item.files.length > 1 ? \"documentos\" : \"documento\"\r\n        }`;\r\n        name.appendChild(nameSpan);\r\n\r\n        const price = document.createElement(\"div\");\r\n        price.classList.add(\"price\");\r\n        price.textContent = _modules_Tools__WEBPACK_IMPORTED_MODULE_4__.tools.formatCurrency(item.resume.price);\r\n        row.appendChild(price);\r\n\r\n        const actions = document.createElement(\"div\");\r\n        actions.classList.add(\"actions\");\r\n        header.appendChild(actions);\r\n\r\n        const editBtn = new _mio_IconButton__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            ariaLabel: \"Editar impresión\",\r\n            buttonSize: \"large\",\r\n            svgSize: \"large\",\r\n            icon: _modules_Icons__WEBPACK_IMPORTED_MODULE_3__.icons.get(\"pencilSquare\"),\r\n            onClick: this.onUpdate.bind(this, item),\r\n        });\r\n        actions.appendChild(editBtn.get());\r\n\r\n        new _Tooltip__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            target: editBtn.get(),\r\n            message: \"Editar impresión\",\r\n            position: \"top\",\r\n        });\r\n\r\n        const deleteBtn = new _mio_IconButton__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            ariaLabel: \"Eliminar impresión\",\r\n            buttonSize: \"large\",\r\n            svgSize: \"large\",\r\n            icon: _modules_Icons__WEBPACK_IMPORTED_MODULE_3__.icons.get(\"trash\"),\r\n            onClick: this.onDelete.bind(this, item),\r\n        });\r\n        actions.appendChild(deleteBtn.get());\r\n\r\n        new _Tooltip__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            target: deleteBtn.get(),\r\n            message: \"Eliminar impresión\",\r\n            position: \"top\",\r\n        });\r\n\r\n        const openIconDiv = document.createElement(\"div\");\r\n        openIconDiv.classList.add(\"open-icon\");\r\n        header.appendChild(openIconDiv);\r\n\r\n        const openIcon = _modules_Icons__WEBPACK_IMPORTED_MODULE_3__.icons.get(\"chevronRight\");\r\n        openIconDiv.appendChild(openIcon);\r\n\r\n        const body = document.createElement(\"div\");\r\n        body.classList.add(\"body\");\r\n        itemEl.appendChild(body);\r\n\r\n        const options = this.createOptions(item);\r\n        body.appendChild(options);\r\n\r\n        const files = this.createFiles(item);\r\n        body.appendChild(files);\r\n\r\n        new _Collapse__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            target: header,\r\n            container: body,\r\n            collapsed: true,\r\n        });\r\n\r\n        return itemEl;\r\n    }\r\n\r\n    createOptions(item) {\r\n        const optionsEl = document.createElement(\"div\");\r\n        optionsEl.classList.add(\"options\");\r\n\r\n        const dl = document.createElement(\"dl\");\r\n        optionsEl.appendChild(dl);\r\n\r\n        for (const [key, value] of Object.entries(item.options)) {\r\n            let dtText;\r\n            let ddText;\r\n\r\n            switch (key) {\r\n                case \"color\":\r\n                    dtText = \"Color:\";\r\n                    ddText = value === \"color\" ? \"Color\" : \"Blanco y negro\";\r\n                    break;\r\n                case \"copies\":\r\n                    dtText = \"Número de copias:\";\r\n                    ddText = value;\r\n                    break;\r\n                case \"doubleSided\":\r\n                    dtText = \"Doble cara:\";\r\n                    ddText = value ? \"Sí\" : \"No\";\r\n                    break;\r\n                case \"orientation\":\r\n                    dtText = \"Orientación:\";\r\n                    switch (value) {\r\n                        case \"automatic\":\r\n                            ddText = \"Automática\";\r\n                            break;\r\n                        case \"vertical\":\r\n                            ddText = \"Vertical\";\r\n                            break;\r\n                        case \"horizontal\":\r\n                            ddText = \"Horizontal\";\r\n                            break;\r\n                    }\r\n                    break;\r\n                case \"customPages\":\r\n                    dtText = \"Páginas\";\r\n                    switch (value) {\r\n                        case \"all\":\r\n                            ddText = \"Todas\";\r\n                            break;\r\n                        case \"range\":\r\n                            ddText = `${item.options.from} - ${item.options.to}`;\r\n                            break;\r\n                    }\r\n                    break;\r\n                case \"size\":\r\n                    dtText = \"Tamaño de hoja:\";\r\n                    switch (value) {\r\n                        case \"a4\":\r\n                            ddText = \"A4\";\r\n                            break;\r\n                        case \"a3\":\r\n                            ddText = \"A3\";\r\n                            break;\r\n                    }\r\n                    break;\r\n                case \"pagesPerSheet\":\r\n                    dtText = \"Páginas por hoja:\";\r\n                    switch (value) {\r\n                        case 1:\r\n                            ddText = \"Normal\";\r\n                            break;\r\n                        case 2:\r\n                            ddText = \"2\";\r\n                            break;\r\n                        case 3:\r\n                            ddText = \"4\";\r\n                            break;\r\n                    }\r\n                    break;\r\n                case \"binding\":\r\n                    dtText = \"Encuadernar:\";\r\n                    switch (value) {\r\n                        case \"none\":\r\n                            ddText = \"No\";\r\n                            break;\r\n                        case \"bound\":\r\n                            ddText = \"Encuadernado\";\r\n                            break;\r\n                        case \"stapled\":\r\n                            ddText = \"Grapado\";\r\n                            break;\r\n                        case \"punch-double\":\r\n                            ddText = \"Perforado doble\";\r\n                            break;\r\n                        case \"punch-quadruple\":\r\n                            ddText = \"Perforado cuadruple\";\r\n                            break;\r\n                        case \"laminated\":\r\n                            ddText = \"Plastificado\";\r\n                            break;\r\n                    }\r\n                    break;\r\n                default:\r\n                    continue;\r\n            }\r\n\r\n            const option = document.createElement(\"div\");\r\n            dl.appendChild(option);\r\n\r\n            const dt = document.createElement(\"dt\");\r\n            dt.textContent = dtText;\r\n            option.appendChild(dt);\r\n\r\n            const dd = document.createElement(\"dd\");\r\n            dd.textContent = ddText;\r\n            option.appendChild(dd);\r\n        }\r\n\r\n        return optionsEl;\r\n    }\r\n\r\n    createFiles(item) {\r\n        const files = document.createElement(\"div\");\r\n        files.classList.add(\"files\");\r\n\r\n        item.files.forEach((file) => {\r\n            const fileEl = document.createElement(\"div\");\r\n            fileEl.classList.add(\"file\");\r\n            files.appendChild(fileEl);\r\n\r\n            const image = document.createElement(\"div\");\r\n            image.classList.add(\"image\");\r\n            fileEl.appendChild(image);\r\n\r\n            const img = document.createElement(\"img\");\r\n            img.src = file.image;\r\n            img.alt = \"Imágen primera página PDF\";\r\n            if (item.options.color === \"color\") {\r\n                img.classList.add(\"color\");\r\n            }\r\n            image.appendChild(img);\r\n\r\n            const data = document.createElement(\"div\");\r\n            data.classList.add(\"data\");\r\n            fileEl.appendChild(data);\r\n\r\n            const name = document.createElement(\"div\");\r\n            name.classList.add(\"name\");\r\n            data.appendChild(name);\r\n\r\n            const nameSpan = document.createElement(\"span\");\r\n            nameSpan.textContent = file.name;\r\n            name.appendChild(nameSpan);\r\n\r\n            const info = document.createElement(\"div\");\r\n            info.classList.add(\"info\");\r\n            data.appendChild(info);\r\n\r\n            const pages = document.createElement(\"span\");\r\n            pages.classList.add(\"pages\");\r\n            info.appendChild(pages);\r\n\r\n            const pagesSpan = document.createElement(\"span\");\r\n            pagesSpan.textContent = `${file.pages} ${file.pages > 0 ? \"páginas\" : \"página\"}`;\r\n            pages.appendChild(pagesSpan);\r\n\r\n            const size = document.createElement(\"span\");\r\n            size.classList.add(\"size\");\r\n            info.appendChild(size);\r\n\r\n            const sizeSpan = document.createElement(\"span\");\r\n            sizeSpan.textContent = _modules_Tools__WEBPACK_IMPORTED_MODULE_4__.tools.formatBytes(file.size);\r\n            size.appendChild(sizeSpan);\r\n\r\n            const type = document.createElement(\"span\");\r\n            type.classList.add(\"type\");\r\n            info.appendChild(type);\r\n\r\n            const typeSpan = document.createElement(\"span\");\r\n            typeSpan.textContent = `Tipo: ${file.type.replace(\"application/\", \"\").toUpperCase()}`;\r\n            type.appendChild(typeSpan);\r\n\r\n            const sheets = document.createElement(\"div\");\r\n            sheets.classList.add(\"sheets\");\r\n            fileEl.appendChild(sheets);\r\n\r\n            const sheetsSpan = document.createElement(\"div\");\r\n            sheetsSpan.classList.add(\"title\");\r\n            sheetsSpan.textContent = \"Hojas\";\r\n            sheets.appendChild(sheetsSpan);\r\n\r\n            const unitSheetsSpan = document.createElement(\"span\");\r\n            unitSheetsSpan.classList.add(\"unit\");\r\n            unitSheetsSpan.textContent = file.unitSheets;\r\n            sheets.appendChild(unitSheetsSpan);\r\n\r\n            const totalSheetsSpan = document.createElement(\"span\");\r\n            totalSheetsSpan.classList.add(\"total\");\r\n            totalSheetsSpan.textContent = file.totalSheets;\r\n            sheets.appendChild(totalSheetsSpan);\r\n\r\n            const price = document.createElement(\"div\");\r\n            price.classList.add(\"price\");\r\n            fileEl.appendChild(price);\r\n\r\n            const priceSpan = document.createElement(\"span\");\r\n            priceSpan.classList.add(\"title\");\r\n            priceSpan.textContent = \"Precio\";\r\n            price.appendChild(priceSpan);\r\n\r\n            const unitPriceSpan = document.createElement(\"span\");\r\n            unitPriceSpan.classList.add(\"unit\");\r\n            unitPriceSpan.textContent = _modules_Tools__WEBPACK_IMPORTED_MODULE_4__.tools.formatCurrency(file.unitPrice);\r\n            price.appendChild(unitPriceSpan);\r\n\r\n            const totalPriceSpan = document.createElement(\"span\");\r\n            totalPriceSpan.classList.add(\"total\");\r\n            totalPriceSpan.textContent = _modules_Tools__WEBPACK_IMPORTED_MODULE_4__.tools.formatCurrency(file.totalPrice);\r\n            price.appendChild(totalPriceSpan);\r\n        });\r\n\r\n        return files;\r\n    }\r\n\r\n    repaint() {\r\n        this.remove();\r\n        this.show();\r\n    }\r\n\r\n    remove() {\r\n        this.itemsEl.remove();\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Items);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/Items.js?");

/***/ }),

/***/ "./src/js/classes/Loader.js":
/*!**********************************!*\
  !*** ./src/js/classes/Loader.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass Loader {\r\n    constructor(data) {\r\n        Object.assign(this, data);\r\n    }\r\n\r\n    async open() {\r\n        this.loader = this.create();\r\n        this.parent.appendChild(this.loader);\r\n        await this.animationend(this.loader);\r\n    }\r\n\r\n    async close() {\r\n        this.loader.classList.add(\"out\");\r\n        await this.animationend(this.loader);\r\n        this.loader.remove();\r\n        delete this;\r\n    }\r\n\r\n    create() {\r\n        const loader = document.createElement(\"div\");\r\n        loader.classList.add(\"loader\");\r\n\r\n        const spinner = document.createElement(\"div\");\r\n        spinner.classList.add(\"spinner\");\r\n        loader.appendChild(spinner);\r\n\r\n        for (let i = 1; i < 6; i++) {\r\n            const rect = document.createElement(\"div\");\r\n            rect.classList.add(`rect${i}`);\r\n            spinner.appendChild(rect);\r\n        }\r\n\r\n        return loader;\r\n    }\r\n\r\n    animationend(target) {\r\n        return new Promise((resolve) => {\r\n            target.addEventListener(\"animationend\", resolve, { once: true });\r\n        });\r\n    }\r\n\r\n    timeout(ms) {\r\n        return new Promise(resolve => setTimeout(resolve, ms));\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Loader);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/Loader.js?");

/***/ }),

/***/ "./src/js/classes/LoadingButton.js":
/*!*****************************************!*\
  !*** ./src/js/classes/LoadingButton.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass LoadingButton {\r\n    constructor(data) {\r\n        Object.assign(this, data);\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.button = this.create();\r\n    }\r\n\r\n    get() {\r\n        return this.button;\r\n    }\r\n\r\n    create() {\r\n        const button = document.createElement(\"button\");\r\n        if (this.classes) {\r\n            button.classList.add(...this.classes);\r\n        }\r\n        button.classList.add(\"loading-btn\");\r\n        button.type = this.type ?? \"button\";\r\n        button.addEventListener(\"click\", this.handleClick.bind(this));\r\n\r\n        const text = document.createElement(\"span\");\r\n        text.classList.add(\"text\");\r\n        text.textContent = this.text;\r\n        button.appendChild(text);\r\n\r\n        const loader = document.createElement(\"div\");\r\n        loader.classList.add(\"loading-icon\");\r\n        button.appendChild(loader);\r\n\r\n        const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\r\n        svg.setAttribute(\"viewBox\", \"25 25 50 50\");\r\n        loader.appendChild(svg);\r\n\r\n        const circle = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\r\n        circle.setAttribute(\"cx\", \"50\");\r\n        circle.setAttribute(\"cy\", \"50\");\r\n        circle.setAttribute(\"r\", \"20\");\r\n        circle.setAttribute(\"fill\", \"none\");\r\n        circle.setAttribute(\"stroke-width\", \"5\");\r\n        circle.setAttribute(\"stroke-miterlimit\", \"10\");\r\n        svg.appendChild(circle);\r\n\r\n        return button;\r\n    }\r\n\r\n    handleClick() {\r\n        this.button.style.width = `${this.button.offsetWidth}px`;\r\n        this.button.classList.add(\"loading\");\r\n        if (this.onClick) {\r\n            this.onClick();\r\n        }\r\n    }\r\n\r\n    stop() {\r\n        this.button.classList.remove(\"loading\");\r\n        this.button.removeAttribute(\"style\");\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LoadingButton);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/LoadingButton.js?");

/***/ }),

/***/ "./src/js/classes/Menu.js":
/*!********************************!*\
  !*** ./src/js/classes/Menu.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass Menu {\r\n    constructor(data) {\r\n        Object.assign(this, data);\r\n\r\n        this.isOpen = false;\r\n        this.isClose = false;\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        window.addEventListener(\"resize\", () => {\r\n            if (this.isOpen) {\r\n                this.position();\r\n            }\r\n        });\r\n        window.addEventListener(\"scroll\", () => {\r\n            if (this.isOpen) {\r\n                this.position();\r\n            }\r\n        });\r\n        this.target.addEventListener(\"click\", () => {\r\n            if (this.isOpen) {\r\n                this.close();\r\n            } else {\r\n                this.open();\r\n            }\r\n        });\r\n    }\r\n\r\n    open() {\r\n        this.isOpen = true;\r\n        this.create();\r\n        document.body.appendChild(this.menu);\r\n        this.position();\r\n        this.menu.classList.add(\"in\");\r\n    }\r\n\r\n    async close() {\r\n        this.isOpen = false;\r\n        this.menu.classList.add(\"out\");\r\n        await this.animationend(this.menu);\r\n        this.menu.remove();\r\n    }\r\n\r\n    create() {\r\n        this.menu = document.createElement(\"div\");\r\n        this.menu.classList.add(\"mio-menu\");\r\n        this.menu.addEventListener(\"mousedown\", this.handleClose.bind(this));\r\n        this.menu.addEventListener(\"touchstart\", this.handleClose.bind(this), { passive: true });\r\n        this.menu.addEventListener(\"click\", () => {\r\n            if (this.isClose) {\r\n                this.close();\r\n            }\r\n        });\r\n\r\n        const content = document.createElement(\"div\");\r\n        content.classList.add(\"content\");\r\n        content.addEventListener(\"click\", (e) => e.stopPropagation());\r\n        this.menu.appendChild(content);\r\n\r\n        this.items.forEach((item) => {\r\n            if (item.type === \"button\") {\r\n                const button = document.createElement(\"button\");\r\n                button.type = \"button\";\r\n                button.ariaLabel = item.ariaLabel;\r\n                button.classList.add(\"item\");\r\n                button.addEventListener(\"click\", (e) => {\r\n                    item.onClick(e);\r\n                    this.close();\r\n                });\r\n                content.appendChild(button);\r\n\r\n                if (item.icon) {\r\n                    button.appendChild(item.icon);\r\n                }\r\n\r\n                const span = document.createElement(\"span\");\r\n                span.textContent = item.text;\r\n                button.appendChild(span);\r\n            }\r\n\r\n            if (item.type === \"anchor\") {\r\n            }\r\n        });\r\n    }\r\n\r\n    position() {\r\n        const rect = this.target.getBoundingClientRect();\r\n\r\n        if (\r\n            rect.top + this.menu.firstChild.offsetHeight + this.target.offsetHeight >\r\n            window.innerHeight\r\n        ) {\r\n            this.menu.firstChild.style.top = `${rect.top - this.menu.firstChild.offsetHeight}px`;\r\n        } else {\r\n            this.menu.firstChild.style.top = `${rect.top + this.target.offsetHeight}px`;\r\n        }\r\n\r\n        this.menu.firstChild.style.left = `${\r\n            rect.left - this.menu.firstChild.offsetWidth + this.target.offsetWidth\r\n        }px`;\r\n    }\r\n\r\n    handleClose(e) {\r\n        if (e.target === this.menu) {\r\n            this.isClose = true;\r\n        }\r\n    }\r\n\r\n    async animationend(target) {\r\n        return new Promise((resolve) => {\r\n            target.addEventListener(\"animationend\", resolve, { once: true });\r\n        });\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Menu);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/Menu.js?");

/***/ }),

/***/ "./src/js/classes/Modal.js":
/*!*********************************!*\
  !*** ./src/js/classes/Modal.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _LoadingButton_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LoadingButton.js */ \"./src/js/classes/LoadingButton.js\");\n/* harmony import */ var _modules_Icons__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../modules/Icons */ \"./src/js/modules/Icons.js\");\n\r\n\r\n\r\nclass Modal {\r\n    constructor({\r\n        title,\r\n        customTitle,\r\n        content,\r\n        action,\r\n        maxWidth,\r\n        fullscreenButton,\r\n        actionCallback,\r\n        closeCallback,\r\n        fullscreenCallback,\r\n        customHeaderButtons,\r\n    }) {\r\n        this.title = title;\r\n        this.customTitle = customTitle;\r\n        this.content = content;\r\n        this.action = action;\r\n        this.maxWidth = maxWidth || null;\r\n        this.fullscreenButton = fullscreenButton || false;\r\n        this.actionCallback = actionCallback;\r\n        this.closeCallback = closeCallback;\r\n        this.fullscreenCallback = fullscreenCallback;\r\n        this.customHeaderButtons = customHeaderButtons || [];\r\n\r\n        this.isClose = false;\r\n        this.isFullscreen = false;\r\n\r\n        this.init();\r\n    }\r\n\r\n    async init() {\r\n        this.modal = this.create();\r\n        if (document.body.scrollHeight > document.body.clientHeight) {\r\n            document.body.classList.add(\"noscroll\");\r\n        }\r\n        document.body.appendChild(this.modal);\r\n        this.modal.classList.add(\"fade-in\");\r\n        this.modal.firstChild.classList.add(\"slide-in-top\");\r\n\r\n        await this.animationend();\r\n    }\r\n\r\n    handleClose(e) {\r\n        if (e.target === this.modal) {\r\n            this.isClose = true;\r\n        }\r\n    }\r\n\r\n    async close() {\r\n        this.actionButton.stop();\r\n        this.modal.classList.add(\"fade-out\");\r\n        this.modal.firstChild.classList.add(\"slide-out-top\");\r\n        await this.animationend(this.modal);\r\n        this.modal.remove();\r\n        if (!document.querySelector(\".modal\")) {\r\n            document.body.classList.remove(\"noscroll\");\r\n        }\r\n        if (this.closeCallback) {\r\n            this.closeCallback();\r\n        }\r\n        delete this;\r\n    }\r\n\r\n    async animationend() {\r\n        return new Promise((resolve) => {\r\n            this.modal.addEventListener(\"animationend\", resolve, { once: true });\r\n        });\r\n    }\r\n\r\n    create() {\r\n        const modal = document.createElement(\"div\");\r\n        modal.classList.add(\"modal\");\r\n        if (this.isFullscreen) {\r\n            modal.classList.add(\"fullscreen\");\r\n        }\r\n        modal.addEventListener(\"mousedown\", this.handleClose.bind(this));\r\n        modal.addEventListener(\"touchstart\", this.handleClose.bind(this), { passive: true });\r\n        modal.addEventListener(\"click\", () => {\r\n            if (this.isClose) {\r\n                this.close();\r\n            }\r\n        });\r\n\r\n        const content = document.createElement(\"div\");\r\n        content.classList.add(\"content\");\r\n        if (!this.isFullscreen) {\r\n            content.style.maxWidth = this.maxWidth ? this.maxWidth : \"\";\r\n        }\r\n        content.addEventListener(\"click\", (e) => e.stopPropagation());\r\n        modal.appendChild(content);\r\n\r\n        const header = document.createElement(\"div\");\r\n        header.classList.add(\"header\");\r\n        content.appendChild(header);\r\n\r\n        if (this.customTitle) {\r\n            header.appendChild(this.customTitle());\r\n        } else {\r\n            const title = document.createElement(\"div\");\r\n            title.classList.add(\"title\");\r\n            title.textContent = this.title;\r\n            header.appendChild(title);\r\n        }\r\n\r\n        const actions = document.createElement(\"div\");\r\n        actions.classList.add(\"actions\");\r\n        header.appendChild(actions);\r\n\r\n        this.customHeaderButtons.forEach((button) => {\r\n            const btn = document.createElement(\"button\");\r\n            btn.setAttribute(\"aria-label\", button.ariaLabel);\r\n            btn.addEventListener(\"click\", () => {\r\n                button.callback();\r\n            });\r\n            actions.appendChild(btn);\r\n\r\n            btn.appendChild(button.icon);\r\n        });\r\n\r\n        if (this.fullscreenButton) {\r\n            const fullscreenBtn = document.createElement(\"button\");\r\n            fullscreenBtn.classList.add(\"fullscreen\");\r\n            fullscreenBtn.setAttribute(\"aria-label\", \"Pantalla completa\");\r\n            fullscreenBtn.addEventListener(\"click\", () => {\r\n                this.isFullscreen = !this.isFullscreen;\r\n\r\n                if (this.isFullscreen) {\r\n                    modal.classList.add(\"fullscreen\");\r\n                    content.removeAttribute(\"style\");\r\n                } else {\r\n                    modal.classList.remove(\"fullscreen\");\r\n                    content.style.maxWidth = this.maxWidth ? this.maxWidth : \"\";\r\n                }\r\n\r\n                this.fullscreenCallback && this.fullscreenCallback();\r\n            });\r\n            actions.appendChild(fullscreenBtn);\r\n\r\n            const fullscreenIcon = _modules_Icons__WEBPACK_IMPORTED_MODULE_1__.icons.get(\"arrowsFullscreen\");\r\n            fullscreenBtn.appendChild(fullscreenIcon);\r\n        }\r\n\r\n        const closeBtn = document.createElement(\"button\");\r\n        closeBtn.classList.add(\"close\");\r\n        closeBtn.setAttribute(\"aria-label\", \"Cerrar modal\");\r\n        closeBtn.addEventListener(\"click\", () => {\r\n            this.isClose = true;\r\n            this.close();\r\n        });\r\n        actions.appendChild(closeBtn);\r\n\r\n        const closeIcon = _modules_Icons__WEBPACK_IMPORTED_MODULE_1__.icons.get(\"xLg\");\r\n        closeBtn.appendChild(closeIcon);\r\n\r\n        const svgClose = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\r\n        svgClose.setAttribute(\"width\", \"16\");\r\n        svgClose.setAttribute(\"height\", \"16\");\r\n        svgClose.setAttribute(\"fill\", \"currentColor\");\r\n        svgClose.setAttribute(\"viewBox\", \"0 0 16 16\");\r\n        closeIcon.appendChild(svgClose);\r\n\r\n        const pathClose1 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\r\n        pathClose1.setAttribute(\"fill-rule\", \"evenodd\");\r\n        pathClose1.setAttribute(\r\n            \"d\",\r\n            \"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z\"\r\n        );\r\n        svgClose.appendChild(pathClose1);\r\n\r\n        const pathClose2 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\r\n        pathClose2.setAttribute(\"fill-rule\", \"evenodd\");\r\n        pathClose2.setAttribute(\r\n            \"d\",\r\n            \"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z\"\r\n        );\r\n        svgClose.appendChild(pathClose2);\r\n\r\n        this.body = document.createElement(\"div\");\r\n        this.body.classList.add(\"body\");\r\n        this.body.appendChild(this.content);\r\n        content.appendChild(this.body);\r\n\r\n        const footer = document.createElement(\"div\");\r\n        footer.classList.add(\"footer\");\r\n        content.appendChild(footer);\r\n\r\n        const closeButton = document.createElement(\"button\");\r\n        closeButton.classList.add(\"btn\", \"tertiary-btn\");\r\n        closeButton.setAttribute(\"aria-label\", \"Cerrar modal\");\r\n        closeButton.textContent = \"Cerrar\";\r\n        closeButton.addEventListener(\"click\", () => {\r\n            this.isClose = true;\r\n            this.close();\r\n        });\r\n        footer.appendChild(closeButton);\r\n\r\n        this.actionButton = new _LoadingButton_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            type: \"button\",\r\n            text: this.action,\r\n            ariaLabel: \"Acción modal\",\r\n            classes: [\"btn\", \"primary-btn\"],\r\n            onClick: this.actionCallback,\r\n        });\r\n        footer.appendChild(this.actionButton.get());\r\n\r\n        return modal;\r\n    }\r\n\r\n    repaint(content) {\r\n        this.content = content;\r\n        this.modal.remove();\r\n        this.modal = this.create();\r\n        document.body.appendChild(this.modal);\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Modal);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/Modal.js?");

/***/ }),

/***/ "./src/js/classes/Navigator.js":
/*!*************************************!*\
  !*** ./src/js/classes/Navigator.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _modules_Api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules/Api */ \"./src/js/modules/Api.js\");\n\r\n\r\nclass Navigator {\r\n    constructor(data) {\r\n        Object.assign(this, data);\r\n\r\n        this.html;\r\n        this.dom;\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        window.addEventListener(\"DOMContentLoaded\", this.handleLoad.bind(this));\r\n        if (this.active) {\r\n            window.addEventListener(\"click\", this.handleAnchorClick.bind(this));\r\n            window.addEventListener(\"popstate\", this.handlePopstate.bind(this));\r\n        }\r\n    }\r\n\r\n    handleLoad() {\r\n        this.onLoad();\r\n    }\r\n\r\n    handleAnchorClick(e) {\r\n        if (\r\n            e.target.closest('a:not([data-action=\"default\"])') &&\r\n            e.target.closest('a:not([data-action=\"default\"])').matches(\"a\")\r\n        ) {\r\n            e.preventDefault();\r\n\r\n            const url = e.target.closest(\"a\").href;\r\n            this.goTo(url);\r\n        }\r\n    }\r\n\r\n    handlePopstate() {\r\n        const url = document.location.href;\r\n        this.goTo(url);\r\n    }\r\n\r\n    reload() {\r\n        if (!this.active) {\r\n            location.reload();\r\n            return;\r\n        }\r\n\r\n        const url = document.location.href;\r\n        this.goTo(url);\r\n    }\r\n\r\n    setOnBeforeunload(onBeforeunload) {\r\n        this.onBeforeunload = onBeforeunload;\r\n    }\r\n\r\n    async goTo(url) {\r\n        if (!this.active) {\r\n            window.location.href = url;\r\n            this.onLoad();\r\n            return;\r\n        }\r\n\r\n        if (this.onBeforeunload) {\r\n            const load = await this.onBeforeunload();\r\n            if (!load) {\r\n                return;\r\n            }\r\n            this.onBeforeunload = null;\r\n        }\r\n\r\n        this.html = await _modules_Api__WEBPACK_IMPORTED_MODULE_0__.api.get(url, \"text\");\r\n\r\n        this.dom = this.parseHtml();\r\n\r\n        const content = this.dom.querySelector(\"body\");\r\n \r\n        document.title = this.dom.title;\r\n\r\n        const target = document.querySelector(\"body\");\r\n\r\n        target.replaceWith(content);\r\n\r\n        await this.updateState(url);\r\n        this.onLoad();\r\n    }\r\n\r\n    parseHtml() {\r\n        const doc = document.implementation.createHTMLDocument();\r\n        doc.documentElement.innerHTML = this.html;\r\n        return doc;\r\n    }\r\n\r\n    appendHtml(target, nodes) {\r\n        const fragment = document.createDocumentFragment();\r\n\r\n        for (let i = 0; i < nodes.length; i++) {\r\n            fragment.appendChild(nodes[i]);\r\n        }\r\n\r\n        target.appendChild(fragment);\r\n    }\r\n\r\n    updateState(url) {\r\n        const state = null;\r\n        const title = this.dom.title;\r\n\r\n        return new Promise((resolve) => {\r\n            if (url !== document.location.href) {\r\n                history.pushState(state, title, url);\r\n            } else {\r\n                history.replaceState(state, title);\r\n            }\r\n\r\n            resolve();\r\n        });\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Navigator);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/Navigator.js?");

/***/ }),

/***/ "./src/js/classes/Options.js":
/*!***********************************!*\
  !*** ./src/js/classes/Options.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _mio_Select__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mio/Select */ \"./src/js/classes/mio/Select.js\");\n/* harmony import */ var _mio_InputNumber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mio/InputNumber */ \"./src/js/classes/mio/InputNumber.js\");\n/* harmony import */ var _mio_Switch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mio/Switch */ \"./src/js/classes/mio/Switch.js\");\n/* harmony import */ var _Collapse__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Collapse */ \"./src/js/classes/Collapse.js\");\n/* harmony import */ var _LoadingButton__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./LoadingButton */ \"./src/js/classes/LoadingButton.js\");\n/* harmony import */ var _modules_Icons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../modules/Icons */ \"./src/js/modules/Icons.js\");\n/* harmony import */ var _modules_IndexedDB__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../modules/IndexedDB */ \"./src/js/modules/IndexedDB.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Options {\r\n    constructor({ options, onChange, onCreate, onUpdate, onCancel } = {}) {\r\n        this.values = {\r\n            color: \"black\",\r\n            copies: 1,\r\n            doubleSided: false,\r\n            orientation: \"automatic\",\r\n            customPages: \"all\",\r\n            from: 1,\r\n            to: 1,\r\n            size: \"a4\",\r\n            pagesPerSheet: 1,\r\n            binding: \"none\",\r\n        };\r\n\r\n        this.isUpdate = false;\r\n        this.isOpen = false;\r\n        this.isAnimated = false;\r\n        this.isMoreOptionsCollapsed = true;\r\n        this.isCustomPagesEnabled = true;\r\n\r\n        this.maxCustomPagesTo = null;\r\n\r\n        this.onChange = onChange ?? null;\r\n        this.onCreate = onCreate ?? null;\r\n        this.onUpdate = onUpdate ?? null;\r\n        this.onCancel = onCancel ?? null;\r\n\r\n        if (options) {\r\n            this.set(options);\r\n        }\r\n    }\r\n\r\n    init() {\r\n        const openBtn = document.querySelector(\"#open-options-btn\");\r\n        const closeBtn = document.querySelector(\"#close-options-btn\");\r\n        const sidebar = document.querySelector(\"#options-sidebar\");\r\n\r\n        window.addEventListener(\"resize\", this.handleResize.bind(this));\r\n        openBtn.addEventListener(\"click\", this.handleOpen.bind(this));\r\n        closeBtn.addEventListener(\"click\", this.handleClose.bind(this));\r\n        sidebar.addEventListener(\"click\", this.handleClose.bind(this));\r\n\r\n        this.create();\r\n    }\r\n\r\n    set(options) {\r\n        this.values = options.values;\r\n\r\n        this.isUpdate = options.isUpdate;\r\n        this.isOpened = options.isOpened;\r\n        this.isAnimated = options.isAnimated;\r\n        this.isMoreOptionsCollapsed = options.isMoreOptionsCollapsed;\r\n        this.isCustomPagesEnabled = options.isCustomPagesEnabled;\r\n\r\n        this.maxCustomPagesTo = options.maxCustomPagesTo;\r\n    }\r\n\r\n    getValues() {\r\n        return this.values;\r\n    }\r\n\r\n    setValues(values) {\r\n        this.values = values;\r\n    }\r\n\r\n    setCustomPages(customPages) {\r\n        this.values.customPages = customPages;\r\n    }\r\n\r\n    setFrom(from) {\r\n        this.values.from = from;\r\n    }\r\n\r\n    setTo(to) {\r\n        this.values.to = to;\r\n    }\r\n\r\n    getUpdate() {\r\n        return this.isUpdate;\r\n    }\r\n\r\n    setUpdate(isUpdate) {\r\n        this.isUpdate = isUpdate;\r\n    }\r\n\r\n    setCustumPagesEnabled(isCustomPagesEnabled) {\r\n        this.isCustomPagesEnabled = isCustomPagesEnabled;\r\n    }\r\n\r\n    setMaxCustomPagesTo(maxCustomPagesTo) {\r\n        this.maxCustomPagesTo = maxCustomPagesTo;\r\n    }\r\n\r\n    async reset() {\r\n        this.values = {\r\n            color: \"black\",\r\n            copies: 1,\r\n            doubleSided: false,\r\n            orientation: \"automatic\",\r\n            customPages: \"all\",\r\n            from: 1,\r\n            to: 1,\r\n            size: \"a4\",\r\n            pagesPerSheet: 1,\r\n            binding: \"none\",\r\n        };\r\n\r\n        this.isUpdate = false;\r\n        this.isOpened = false;\r\n        this.isAnimated = false;\r\n        this.isMoreOptionsCollapsed = true;\r\n        this.isCustomPagesEnabled = true;\r\n\r\n        this.maxCustomPagesTo = null;\r\n\r\n        await _modules_IndexedDB__WEBPACK_IMPORTED_MODULE_6__.indexedDB.clearRecords(\"options\");\r\n    }\r\n\r\n    repaint() {\r\n        this.form.remove();\r\n        this.create();\r\n    }\r\n\r\n    create() {\r\n        const options = document.querySelector(\"#options\");\r\n\r\n        this.form = document.createElement(\"form\");\r\n        this.form.classList.add(\"mio-form\");\r\n        this.form.addEventListener(\"submit\", (e) => {\r\n            e.preventDefault();\r\n        });\r\n        options.appendChild(this.form);\r\n    \r\n        const color = new _mio_Select__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Color\",\r\n                for: \"color\",\r\n            },\r\n            select: {\r\n                name: \"color\",\r\n                id: \"color\",\r\n            },\r\n            option: {\r\n                value: \"value\",\r\n                text: \"text\",\r\n            },\r\n            options: [\r\n                { value: \"black\", text: \"Blanco y negro\" },\r\n                { value: \"color\", text: \"Color\" },\r\n            ],\r\n            selected: this.values.color,\r\n            onSelect: async (option) => {\r\n                this.values.color = option.value;\r\n                this.save();\r\n                this.onChange();\r\n            },\r\n        });\r\n        this.form.appendChild(color.getField());\r\n\r\n        const copies = new _mio_InputNumber__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            label: {\r\n                text: \"Copias\",\r\n                for: \"copies\",\r\n            },\r\n            input: {\r\n                type: \"number\",\r\n                name: \"copies\",\r\n                id: \"copies\",\r\n                step: 1,\r\n                min: 1,\r\n                value: this.values.copies,\r\n            },\r\n            onInput: async (value) => {\r\n                this.values.copies = value;\r\n                await this.save();\r\n                this.onChange();\r\n            },\r\n            onClick: async (value) => {\r\n                this.values.copies = value;\r\n                await this.save();\r\n                this.onChange();\r\n            },\r\n        });\r\n        this.form.appendChild(copies.getField());\r\n\r\n        const doubleSided = new _mio_Switch__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            label: {\r\n                text: \"Imprimir a doble cara\",\r\n                for: \"doubleSided\",\r\n            },\r\n            input: {\r\n                name: \"doubleSided\",\r\n                id: \"doubleSided\",\r\n                value: this.values.doubleSided,\r\n            },\r\n            size: \"medium\",\r\n            callback: async (value) => {\r\n                this.values.doubleSided = value;\r\n                await this.save();\r\n                this.onChange();\r\n            },\r\n        });\r\n        this.form.appendChild(doubleSided.getField());\r\n\r\n        const moreOptionsBtn = document.createElement(\"button\");\r\n        moreOptionsBtn.classList.add(\"more-options-btn\");\r\n        moreOptionsBtn.ariaLabel = \"Más opciones\";\r\n        moreOptionsBtn.type = \"button\";\r\n        moreOptionsBtn.addEventListener(\"click\", async () => {\r\n            this.isMoreOptionsCollapsed = !this.isMoreOptionsCollapsed;\r\n            await this.save();\r\n        });\r\n        this.form.appendChild(moreOptionsBtn);\r\n\r\n        const moreOptionsSpan = document.createElement(\"span\");\r\n        moreOptionsSpan.textContent = \"Más opciones\";\r\n        moreOptionsBtn.appendChild(moreOptionsSpan);\r\n\r\n        const moreOptionsIcon = _modules_Icons__WEBPACK_IMPORTED_MODULE_5__.icons.get(\"chevronRight\");\r\n        moreOptionsBtn.appendChild(moreOptionsIcon);\r\n\r\n        const moreOptions = document.createElement(\"div\");\r\n        moreOptions.classList.add(\"more-options\");\r\n        this.form.appendChild(moreOptions);\r\n\r\n        const moreOptionsWrapper = document.createElement(\"div\");\r\n        moreOptionsWrapper.classList.add(\"wrapper\");\r\n        moreOptions.appendChild(moreOptionsWrapper);\r\n\r\n        const orientation = new _mio_Select__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Orientación\",\r\n                for: \"orientation\",\r\n            },\r\n            select: {\r\n                name: \"orientation\",\r\n                id: \"orientation\",\r\n            },\r\n            option: {\r\n                value: \"value\",\r\n                text: \"text\",\r\n            },\r\n            options: [\r\n                { value: \"automatic\", text: \"Automática\" },\r\n                { value: \"vertical\", text: \"Vertical\" },\r\n                { value: \"horizontal\", text: \"Horizontal\" },\r\n            ],\r\n            selected: this.values.orientation,\r\n            onSelect: async (option) => {\r\n                this.values.orientation = option.value;\r\n                await this.save();\r\n                this.onChange();\r\n            },\r\n        });\r\n        moreOptionsWrapper.appendChild(orientation.getField());\r\n\r\n        if (this.isCustomPagesEnabled) {\r\n            const customPages = new _mio_Select__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n                label: {\r\n                    text: \"Páginas\",\r\n                    for: \"customPages\",\r\n                },\r\n                select: {\r\n                    name: \"customPages\",\r\n                    id: \"customPages\",\r\n                },\r\n                option: {\r\n                    value: \"value\",\r\n                    text: \"text\",\r\n                },\r\n                options: [\r\n                    { value: \"all\", text: \"Todas\" },\r\n                    { value: \"range\", text: \"Personalizado\" },\r\n                ],\r\n                selected: this.values.customPages,\r\n                onSelect: async (option) => {\r\n                    if (option.value === this.values.customPages) {\r\n                        return;\r\n                    }\r\n\r\n                    this.values.customPages = option.value;\r\n\r\n                    await this.save();\r\n                    this.repaint();\r\n                    this.onChange();\r\n                },\r\n            });\r\n            moreOptionsWrapper.appendChild(customPages.getField());\r\n        }\r\n\r\n        if (this.isCustomPagesEnabled && this.values.customPages === \"range\") {\r\n            const doubleField = document.createElement(\"div\");\r\n            doubleField.classList.add(\"mio-double\");\r\n            moreOptionsWrapper.appendChild(doubleField);\r\n\r\n            const from = new _mio_InputNumber__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n                label: {\r\n                    text: \"Desde\",\r\n                    for: \"from\",\r\n                },\r\n                input: {\r\n                    type: \"number\",\r\n                    name: \"from\",\r\n                    id: \"from\",\r\n                    step: 1,\r\n                    min: 1,\r\n                    value: this.values.from,\r\n                },\r\n                onInput: async (value) => {\r\n                    this.values.from = value;\r\n                    await this.save();\r\n                    this.onChange();\r\n                },\r\n                onClick: async (value) => {\r\n                    if (value > this.values.to) {\r\n                        this.repaint();\r\n                        return;\r\n                    }\r\n                    this.values.from = value;\r\n                    await this.save();\r\n                    this.onChange();\r\n                },\r\n                onBlur: async (value) => {\r\n                    if (value > this.values.to) {\r\n                        this.values.from = this.values.to;\r\n                        await this.save();\r\n                        this.repaint();\r\n                        this.onChange();\r\n                    }\r\n                },\r\n            });\r\n            doubleField.appendChild(from.getField());\r\n\r\n            const to = new _mio_InputNumber__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n                label: {\r\n                    text: \"Hasta\",\r\n                    for: \"to\",\r\n                },\r\n                input: {\r\n                    type: \"number\",\r\n                    name: \"to\",\r\n                    id: \"to\",\r\n                    step: 1,\r\n                    min: 1,\r\n                    max: this.maxCustomPagesTo,\r\n                    value: this.values.to,\r\n                },\r\n                onInput: async (value) => {\r\n                    this.values.to = value;\r\n                    await this.save();\r\n                    this.onChange();\r\n                },\r\n                onClick: async (value) => {\r\n                    this.values.to = value;\r\n                    if (value < this.values.from) {\r\n                        this.values.to = this.values.from;\r\n                        this.repaint();\r\n                    }\r\n                    await this.save();\r\n                    this.onChange();\r\n                },\r\n                onBlur: async (value) => {\r\n                    if (value < this.values.from) {\r\n                        this.values.to = this.values.from;\r\n                        await this.save();\r\n                        this.repaint();\r\n                        this.onChange();\r\n                    }\r\n\r\n                    if (value > this.maxCustomPagesTo) {\r\n                        this.values.to = this.maxCustomPagesTo;\r\n                        await this.save();\r\n                        this.repaint();\r\n                        this.onChange();\r\n                    }\r\n                },\r\n            });\r\n            doubleField.appendChild(to.getField());\r\n        }\r\n\r\n        const size = new _mio_Select__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Tamaño del papel\",\r\n                for: \"size\",\r\n            },\r\n            select: {\r\n                name: \"size\",\r\n                id: \"size\",\r\n            },\r\n            option: {\r\n                value: \"value\",\r\n                text: \"text\",\r\n            },\r\n            options: [{ value: \"a4\", text: \"A4 (210 x 297 mm)\" }],\r\n            selected: this.values.size,\r\n            onSelect: async (option) => {\r\n                this.values.size = option.value;\r\n                await this.save();\r\n                this.onChange();\r\n            },\r\n        });\r\n        moreOptionsWrapper.appendChild(size.getField());\r\n\r\n        const pagesPerSheet = new _mio_Select__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Páginas por hoja\",\r\n                for: \"pagesPerSheet\",\r\n            },\r\n            select: {\r\n                name: \"pagesPerSheet\",\r\n                id: \"pagesPerSheet\",\r\n            },\r\n            option: {\r\n                value: \"value\",\r\n                text: \"text\",\r\n            },\r\n            options: [\r\n                { value: 1, text: \"Normal\" },\r\n                { value: 2, text: \"2 páginas\" },\r\n                { value: 4, text: \"4 páginas\" },\r\n            ],\r\n            selected: this.values.pagesPerSheet,\r\n            onSelect: async (option) => {\r\n                this.values.pagesPerSheet = option.value;\r\n                await this.save();\r\n                this.onChange();\r\n            },\r\n        });\r\n        moreOptionsWrapper.appendChild(pagesPerSheet.getField());\r\n\r\n        const binding = new _mio_Select__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Encuadernación\",\r\n                for: \"binding\",\r\n            },\r\n            select: {\r\n                name: \"binding\",\r\n                id: \"binding\",\r\n            },\r\n            option: {\r\n                value: \"value\",\r\n                text: \"text\",\r\n            },\r\n            options: [\r\n                { value: \"none\", text: \"Sin encuadernar\" },\r\n                { value: \"bound\", text: \"Encuadernado\" },\r\n                { value: \"stapled\", text: \"Grapado\" },\r\n                { value: \"punch-double\", text: \"Perforado doble\" },\r\n                { value: \"punch-quadruple\", text: \"Perforado cuadruple\" },\r\n                { value: \"laminated\", text: \"Plastificado\" },\r\n            ],\r\n            selected: this.values.binding,\r\n            onSelect: async (option) => {\r\n                this.values.binding = option.value;\r\n                await this.save();\r\n                this.onChange();\r\n            },\r\n        });\r\n        moreOptionsWrapper.appendChild(binding.getField());\r\n\r\n        const submitField = document.createElement(\"div\");\r\n        submitField.classList.add(\"submit-field\");\r\n        this.form.appendChild(submitField);\r\n\r\n        if (this.isUpdate) {\r\n            const cancelBtn = document.createElement(\"button\");\r\n            cancelBtn.classList.add(\"btn\", \"secondary-btn\");\r\n            cancelBtn.textContent = \"Cancelar\";\r\n            cancelBtn.addEventListener(\"click\", this.onCancel);\r\n            submitField.appendChild(cancelBtn);\r\n\r\n            this.updateBtn = new _LoadingButton__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n                type: \"button\",\r\n                text: \"Actualizar\",\r\n                classes: [\"btn\", \"primary-btn\", \"pulse\"],\r\n                onClick: this.onUpdate,\r\n            });\r\n            submitField.appendChild(this.updateBtn.get());\r\n        } else {\r\n            this.createBtn = new _LoadingButton__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n                type: \"button\",\r\n                text: \"Añadir al carrito\",\r\n                classes: [\"btn\", \"primary-btn\", \"pulse\"],\r\n                onClick: this.onCreate,\r\n            });\r\n            submitField.appendChild(this.createBtn.get());\r\n        }\r\n\r\n        new _Collapse__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            target: moreOptionsBtn,\r\n            container: moreOptions,\r\n            collapsed: this.isMoreOptionsCollapsed,\r\n        });\r\n    }\r\n\r\n    async save() {\r\n        const { onChange, onCreate, onUpdate, onCancel, form, createBtn, updateBtn, ...options } =\r\n            this;\r\n\r\n        if (this.id) {\r\n            await _modules_IndexedDB__WEBPACK_IMPORTED_MODULE_6__.indexedDB.updateRecord(options, \"options\");\r\n            return;\r\n        }\r\n\r\n        await _modules_IndexedDB__WEBPACK_IMPORTED_MODULE_6__.indexedDB.clearRecords(\"options\");\r\n        const insertedId = await _modules_IndexedDB__WEBPACK_IMPORTED_MODULE_6__.indexedDB.addRecord(options, \"options\");\r\n        this.id = insertedId;\r\n    }\r\n\r\n    async handleResize() {\r\n        const sidebar = document.querySelector(\"#options-sidebar\");\r\n\r\n        if (window.innerWidth >= 768 && this.isOpen) {\r\n            this.isOpen = false;\r\n\r\n            sidebar.classList.remove(\"active\", \"in\", \"out\");\r\n        }\r\n    }\r\n\r\n    async handleOpen() {\r\n        const sidebar = document.querySelector(\"#options-sidebar\");\r\n\r\n        if (!this.isOpen && !this.isAnimated) {\r\n            this.isOpen = true;\r\n            this.isAnimated = true;\r\n\r\n            sidebar.classList.add(\"active\", \"in\");\r\n            await this.animationend(sidebar);\r\n\r\n            this.isAnimated = false;\r\n        }\r\n    }\r\n\r\n    async handleClose(e) {\r\n        const closeBtn = document.querySelector(\"#close-options-btn\");\r\n        const sidebar = document.querySelector(\"#options-sidebar\");\r\n\r\n        if (\r\n            (e.target === sidebar || e.currentTarget === closeBtn) &&\r\n            this.isOpen &&\r\n            !this.isAnimated\r\n        ) {\r\n            this.isAnimated = true;\r\n\r\n            await this.close();\r\n\r\n            this.isAnimated = false;\r\n        }\r\n    }\r\n\r\n    async close() {\r\n        const sidebar = document.querySelector(\"#options-sidebar\");\r\n\r\n        if (!this.isOpen) {\r\n            return;\r\n        }\r\n\r\n        this.isOpen = false;\r\n\r\n        if (innerWidth < 768) {\r\n            sidebar.classList.add(\"out\");\r\n            await this.animationend(sidebar);\r\n            sidebar.classList.remove(\"active\", \"in\", \"out\");\r\n        }\r\n    }\r\n\r\n    animationend(target) {\r\n        return new Promise((resolve) => {\r\n            target.addEventListener(\"animationend\", resolve, { once: true });\r\n        });\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Options);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/Options.js?");

/***/ }),

/***/ "./src/js/classes/Orders.js":
/*!**********************************!*\
  !*** ./src/js/classes/Orders.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Collapse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Collapse */ \"./src/js/classes/Collapse.js\");\n/* harmony import */ var _Loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Loader */ \"./src/js/classes/Loader.js\");\n/* harmony import */ var _modules_Api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../modules/Api */ \"./src/js/modules/Api.js\");\n/* harmony import */ var _modules_Icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../modules/Icons */ \"./src/js/modules/Icons.js\");\n/* harmony import */ var _modules_Tools__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../modules/Tools */ \"./src/js/modules/Tools.js\");\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../app */ \"./src/js/app.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Orders {\r\n    constructor() {\r\n        this.orders = [];\r\n\r\n        this.page = 1;\r\n        this.limit = 10;\r\n        this.total = 0;\r\n    }\r\n\r\n    async init() {\r\n        const orders = document.querySelector(\"#orders\");\r\n\r\n        orders.parentElement.addEventListener(\"scroll\", this.scroll.bind(this));\r\n\r\n        await this.read();\r\n        this.show();\r\n\r\n        if (\r\n            orders.parentElement.clientHeight > orders.clientHeight &&\r\n            this.page * this.limit < this.total\r\n        ) {\r\n            this.page++;\r\n\r\n            const loader = new _Loader__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n                parent: orders,\r\n            });\r\n            await loader.open();\r\n\r\n            await this.timeout(1000);\r\n            await this.read();\r\n\r\n            await loader.close();\r\n            this.show();\r\n        }\r\n    }\r\n\r\n    add(orders) {\r\n        this.orders = [...this.orders, ...orders];\r\n    }\r\n\r\n    clear() {\r\n        this.orders = [];\r\n    }\r\n\r\n    async read() {\r\n        const data = {\r\n            page: this.page,\r\n            limit: this.limit,\r\n        };\r\n\r\n        const response = await _modules_Api__WEBPACK_IMPORTED_MODULE_2__.api.post(\"/api/order/read\", data);\r\n\r\n        this.add(response.orders);\r\n\r\n        this.total = response.total;\r\n    }\r\n\r\n    show() {\r\n        const orders = document.querySelector(\"#orders\");\r\n\r\n        if (!this.orders.length) {\r\n            this.ordersEl = this.createEmpty();\r\n            orders.appendChild(this.ordersEl);\r\n            return;\r\n        }\r\n\r\n        this.ordersEl = this.createOrders();\r\n        orders.appendChild(this.ordersEl);\r\n    }\r\n\r\n    async scroll() {\r\n        const orders = document.querySelector(\"#orders\");\r\n\r\n        const { scrollTop, scrollHeight, clientHeight } = orders.parentElement;\r\n\r\n        console.log(this.page * this.limit <= this.total);\r\n\r\n        if (scrollTop + clientHeight >= scrollHeight && this.page * this.limit < this.total) {\r\n            this.page++;\r\n\r\n            const loader = new _Loader__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n                parent: orders.firstChild,\r\n            });\r\n            await loader.open();\r\n\r\n            await this.timeout(1000);\r\n            await this.read();\r\n\r\n            await loader.close();\r\n\r\n            this.show();\r\n        }\r\n    }\r\n\r\n    timeout(ms) {\r\n        return new Promise((resolve) => setTimeout(resolve, ms));\r\n    }\r\n\r\n    createEmpty() {\r\n        const empty = document.createElement(\"div\");\r\n        empty.classList.add(\"empty\");\r\n\r\n        const icon = _modules_Icons__WEBPACK_IMPORTED_MODULE_3__.icons.get(\"exclamationCircle\");\r\n        empty.appendChild(icon);\r\n\r\n        const message = document.createElement(\"p\");\r\n        message.textContent = \"Aún no has realizado ningún pedido\";\r\n        empty.appendChild(message);\r\n\r\n        return empty;\r\n    }\r\n\r\n    createOrders() {\r\n        const fragment = document.createDocumentFragment();\r\n\r\n        this.orders.forEach((order) => fragment.appendChild(this.createOrder(order)));\r\n\r\n        return fragment;\r\n    }\r\n\r\n    createOrder(order) {\r\n        const orderEl = document.createElement(\"div\");\r\n        orderEl.classList.add(\"order\");\r\n\r\n        const header = document.createElement(\"div\");\r\n        header.classList.add(\"header\");\r\n        orderEl.appendChild(header);\r\n\r\n        const firstRow = document.createElement(\"div\");\r\n        firstRow.classList.add(\"row\");\r\n        header.appendChild(firstRow);\r\n\r\n        const fileIcon = document.createElement(\"div\");\r\n        fileIcon.classList.add(\"file-icon\");\r\n        firstRow.appendChild(fileIcon);\r\n\r\n        fileIcon.appendChild(_modules_Icons__WEBPACK_IMPORTED_MODULE_3__.icons.get(\"bagShopping\"));\r\n\r\n        const col = document.createElement(\"div\");\r\n        col.classList.add(\"col\");\r\n        firstRow.appendChild(col);        \r\n\r\n        const name = document.createElement(\"div\");\r\n        name.classList.add(\"name\");\r\n        col.appendChild(name);\r\n\r\n        const nameSpan = document.createElement(\"span\");\r\n        nameSpan.textContent = `Pedido con ${order.units} ${\r\n            order.units > 1 ? \"impresiones\" : \"impresión\"\r\n        }`;\r\n        name.appendChild(nameSpan);\r\n\r\n        const date = document.createElement(\"div\");\r\n        date.classList.add(\"date\");\r\n        date.textContent = _modules_Tools__WEBPACK_IMPORTED_MODULE_4__.tools.dateFormatShort(order.createdAt);\r\n        col.appendChild(date);\r\n\r\n        const total = document.createElement(\"div\");\r\n        total.classList.add(\"total\");\r\n        total.textContent = `${order.total} €`;\r\n        col.appendChild(total);\r\n\r\n        const openIcon = document.createElement(\"div\");\r\n        openIcon.classList.add(\"open-icon\");\r\n        firstRow.appendChild(openIcon);\r\n\r\n        openIcon.appendChild(_modules_Icons__WEBPACK_IMPORTED_MODULE_3__.icons.get(\"chevronRight\"));\r\n\r\n        const secondRow = document.createElement(\"div\");\r\n        secondRow.classList.add(\"row\");\r\n        header.appendChild(secondRow);\r\n\r\n        const number = document.createElement(\"div\");\r\n        number.classList.add(\"number\");\r\n        secondRow.appendChild(number);\r\n\r\n        const numberSpan = document.createElement(\"span\");\r\n        numberSpan.textContent = `${innerWidth < 1024 ? \"ID:\" : \"ID de pedido:\"} ${order.number}`;\r\n        number.appendChild(numberSpan);\r\n\r\n        const actions = document.createElement(\"div\");\r\n        actions.classList.add(\"actions\");\r\n        secondRow.appendChild(actions);\r\n\r\n        const detailsBtn = document.createElement(\"button\");\r\n        detailsBtn.textContent = \"Detalles\";\r\n        detailsBtn.setAttribute(\"aria-label\", \"Detalles pedido\");\r\n        detailsBtn.addEventListener(\"click\", (e) => {\r\n            e.stopPropagation();\r\n        });\r\n        actions.appendChild(detailsBtn);\r\n\r\n        if (order.paid) {\r\n            const invoiceBtn = document.createElement(\"button\");\r\n            invoiceBtn.textContent = \"Factura\";\r\n            invoiceBtn.setAttribute(\"aria-label\", \"Factura pedido\");\r\n            invoiceBtn.addEventListener(\"click\", (e) => {\r\n                e.stopPropagation();\r\n                this.handleInvoice(order);\r\n            });\r\n            actions.appendChild(invoiceBtn);\r\n        } else {\r\n            const payBtn = document.createElement(\"button\");\r\n            payBtn.textContent = \"Pagar\";\r\n            payBtn.setAttribute(\"aria-label\", \"Pagar pedido\");\r\n            payBtn.addEventListener(\"click\", (e) => {\r\n                e.stopPropagation();\r\n                this.handlePayment(order);\r\n            });\r\n            actions.appendChild(payBtn);\r\n        }\r\n\r\n        const body = document.createElement(\"div\");\r\n        body.classList.add(\"body\");\r\n        orderEl.appendChild(body);\r\n\r\n        new _Collapse__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            target: header,\r\n            container: body,\r\n            collapsed: true,\r\n        });\r\n\r\n        const itemsEl = this.createItems(order.items);\r\n        body.appendChild(itemsEl);\r\n\r\n        return orderEl;\r\n    }\r\n\r\n    createItems(items) {\r\n        const fragment = document.createDocumentFragment();\r\n        items.forEach((item) => fragment.appendChild(this.createItem(item)));\r\n        return fragment;\r\n    }\r\n\r\n    createItem(item) {\r\n        const itemEl = document.createElement(\"div\");\r\n        itemEl.classList.add(\"item\");\r\n\r\n        const header = document.createElement(\"div\");\r\n        header.classList.add(\"header\");\r\n        itemEl.appendChild(header);\r\n\r\n        const icon = document.createElement(\"div\");\r\n        icon.classList.add(\"icon\");\r\n        header.appendChild(icon);\r\n\r\n        icon.appendChild(_modules_Icons__WEBPACK_IMPORTED_MODULE_3__.icons.get(\"files\"));\r\n\r\n        const row = document.createElement(\"div\");\r\n        row.classList.add(\"row\");\r\n        header.appendChild(row);\r\n\r\n        const name = document.createElement(\"div\");\r\n        name.classList.add(\"name\");\r\n        row.appendChild(name);\r\n\r\n        const nameSpan = document.createElement(\"span\");\r\n        nameSpan.textContent = `Impresión con ${item.files.length} ${\r\n            item.files.length > 1 ? \"documentos\" : \"documento\"\r\n        }`;\r\n        name.appendChild(nameSpan);\r\n\r\n        const price = document.createElement(\"div\");\r\n        price.classList.add(\"price\");\r\n        price.textContent = _modules_Tools__WEBPACK_IMPORTED_MODULE_4__.tools.formatCurrency(item.price);\r\n        row.appendChild(price);\r\n\r\n        const openIconDiv = document.createElement(\"div\");\r\n        openIconDiv.classList.add(\"open-icon\");\r\n        header.appendChild(openIconDiv);\r\n\r\n        const openIcon = _modules_Icons__WEBPACK_IMPORTED_MODULE_3__.icons.get(\"chevronRight\");\r\n        openIconDiv.appendChild(openIcon);\r\n\r\n        const body = document.createElement(\"div\");\r\n        body.classList.add(\"body\");\r\n        itemEl.appendChild(body);\r\n\r\n        const options = this.createOptions(item);\r\n        body.appendChild(options);\r\n\r\n        const files = this.createFiles(item);\r\n        body.appendChild(files);\r\n\r\n        new _Collapse__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            target: header,\r\n            container: body,\r\n            collapsed: true,\r\n        });\r\n\r\n        return itemEl;\r\n    }\r\n\r\n    createOptions(item) {\r\n        const optionsEl = document.createElement(\"div\");\r\n        optionsEl.classList.add(\"options\");\r\n\r\n        const dl = document.createElement(\"dl\");\r\n        optionsEl.appendChild(dl);\r\n\r\n        for (const [key, value] of Object.entries(item.options)) {\r\n            let dtText;\r\n            let ddText;\r\n\r\n            switch (key) {\r\n                case \"color\":\r\n                    dtText = \"Color:\";\r\n                    ddText = value === \"color\" ? \"Color\" : \"Blanco y negro\";\r\n                    break;\r\n                case \"copies\":\r\n                    dtText = \"Número de copias:\";\r\n                    ddText = value;\r\n                    break;\r\n                case \"doubleSided\":\r\n                    dtText = \"Doble cara:\";\r\n                    ddText = value ? \"Sí\" : \"No\";\r\n                    break;\r\n                case \"orientation\":\r\n                    dtText = \"Orientación:\";\r\n                    switch (value) {\r\n                        case \"automatic\":\r\n                            ddText = \"Automática\";\r\n                            break;\r\n                        case \"vertical\":\r\n                            ddText = \"Vertical\";\r\n                            break;\r\n                        case \"horizontal\":\r\n                            ddText = \"Horizontal\";\r\n                            break;\r\n                    }\r\n                    break;\r\n                case \"customPages\":\r\n                    dtText = \"Páginas\";\r\n                    switch (value) {\r\n                        case \"all\":\r\n                            ddText = \"Todas\";\r\n                            break;\r\n                        case \"range\":\r\n                            ddText = `${item.options.from} - ${item.options.to}`;\r\n                            break;\r\n                    }\r\n                    break;\r\n                case \"size\":\r\n                    dtText = \"Tamaño de hoja:\";\r\n                    switch (value) {\r\n                        case \"a4\":\r\n                            ddText = \"A4\";\r\n                            break;\r\n                        case \"a3\":\r\n                            ddText = \"A3\";\r\n                            break;\r\n                    }\r\n                    break;\r\n                case \"pagesPerSheet\":\r\n                    dtText = \"Páginas por hoja:\";\r\n                    switch (value) {\r\n                        case 1:\r\n                            ddText = \"Normal\";\r\n                            break;\r\n                        case 2:\r\n                            ddText = \"2\";\r\n                            break;\r\n                        case 3:\r\n                            ddText = \"4\";\r\n                            break;\r\n                    }\r\n                    break;\r\n                case \"binding\":\r\n                    dtText = \"Encuadernar:\";\r\n                    switch (value) {\r\n                        case \"none\":\r\n                            ddText = \"No\";\r\n                            break;\r\n                        case \"bound\":\r\n                            ddText = \"Encuadernado\";\r\n                            break;\r\n                        case \"stapled\":\r\n                            ddText = \"Grapado\";\r\n                            break;\r\n                        case \"punch-double\":\r\n                            ddText = \"Perforado doble\";\r\n                            break;\r\n                        case \"punch-quadruple\":\r\n                            ddText = \"Perforado cuadruple\";\r\n                            break;\r\n                        case \"laminated\":\r\n                            ddText = \"Plastificado\";\r\n                            break;\r\n                    }\r\n                    break;\r\n                default:\r\n                    continue;\r\n            }\r\n\r\n            const option = document.createElement(\"div\");\r\n            dl.appendChild(option);\r\n\r\n            const dt = document.createElement(\"dt\");\r\n            dt.textContent = dtText;\r\n            option.appendChild(dt);\r\n\r\n            const dd = document.createElement(\"dd\");\r\n            dd.textContent = ddText;\r\n            option.appendChild(dd);\r\n        }\r\n\r\n        return optionsEl;\r\n    }\r\n\r\n    createFiles(item) {\r\n        const files = document.createElement(\"div\");\r\n        files.classList.add(\"files\");\r\n\r\n        item.files.forEach((file) => {\r\n            const fileEl = document.createElement(\"div\");\r\n            fileEl.classList.add(\"file\");\r\n            files.appendChild(fileEl);\r\n\r\n            const image = document.createElement(\"div\");\r\n            image.classList.add(\"image\");\r\n            fileEl.appendChild(image);\r\n\r\n            const img = document.createElement(\"img\");\r\n            img.src = file.imageBase64;\r\n            img.alt = \"Imágen primera página PDF\";\r\n            if (item.options.color === \"color\") {\r\n                img.classList.add(\"color\");\r\n            }\r\n            image.appendChild(img);\r\n\r\n            const data = document.createElement(\"div\");\r\n            data.classList.add(\"data\");\r\n            fileEl.appendChild(data);\r\n\r\n            const name = document.createElement(\"div\");\r\n            name.classList.add(\"name\");\r\n            data.appendChild(name);\r\n\r\n            const nameSpan = document.createElement(\"span\");\r\n            nameSpan.textContent = file.name;\r\n            name.appendChild(nameSpan);\r\n\r\n            const info = document.createElement(\"div\");\r\n            info.classList.add(\"info\");\r\n            data.appendChild(info);\r\n\r\n            const pages = document.createElement(\"span\");\r\n            pages.classList.add(\"pages\");\r\n            info.appendChild(pages);\r\n\r\n            const pagesSpan = document.createElement(\"span\");\r\n            pagesSpan.textContent = `${file.pages} ${file.pages > 0 ? \"páginas\" : \"página\"}`;\r\n            pages.appendChild(pagesSpan);\r\n\r\n            const size = document.createElement(\"span\");\r\n            size.classList.add(\"size\");\r\n            info.appendChild(size);\r\n\r\n            const sizeSpan = document.createElement(\"span\");\r\n            sizeSpan.textContent = _modules_Tools__WEBPACK_IMPORTED_MODULE_4__.tools.formatBytes(file.size);\r\n            size.appendChild(sizeSpan);\r\n\r\n            const type = document.createElement(\"span\");\r\n            type.classList.add(\"type\");\r\n            info.appendChild(type);\r\n\r\n            const typeSpan = document.createElement(\"span\");\r\n            typeSpan.textContent = `Tipo: ${file.type.replace(\"application/\", \"\").toUpperCase()}`;\r\n            type.appendChild(typeSpan);\r\n\r\n            const sheets = document.createElement(\"div\");\r\n            sheets.classList.add(\"sheets\");\r\n            fileEl.appendChild(sheets);\r\n\r\n            const sheetsSpan = document.createElement(\"div\");\r\n            sheetsSpan.classList.add(\"title\");\r\n            sheetsSpan.textContent = \"Hojas\";\r\n            sheets.appendChild(sheetsSpan);\r\n\r\n            const unitSheetsSpan = document.createElement(\"span\");\r\n            unitSheetsSpan.classList.add(\"unit\");\r\n            unitSheetsSpan.textContent = file.unitSheets;\r\n            sheets.appendChild(unitSheetsSpan);\r\n\r\n            const totalSheetsSpan = document.createElement(\"span\");\r\n            totalSheetsSpan.classList.add(\"total\");\r\n            totalSheetsSpan.textContent = file.totalSheets;\r\n            sheets.appendChild(totalSheetsSpan);\r\n\r\n            const price = document.createElement(\"div\");\r\n            price.classList.add(\"price\");\r\n            fileEl.appendChild(price);\r\n\r\n            const priceSpan = document.createElement(\"span\");\r\n            priceSpan.classList.add(\"title\");\r\n            priceSpan.textContent = \"Precio\";\r\n            price.appendChild(priceSpan);\r\n\r\n            const unitPriceSpan = document.createElement(\"span\");\r\n            unitPriceSpan.classList.add(\"unit\");\r\n            unitPriceSpan.textContent = _modules_Tools__WEBPACK_IMPORTED_MODULE_4__.tools.formatCurrency(file.unitPrice);\r\n            price.appendChild(unitPriceSpan);\r\n\r\n            const totalPriceSpan = document.createElement(\"span\");\r\n            totalPriceSpan.classList.add(\"total\");\r\n            totalPriceSpan.textContent = _modules_Tools__WEBPACK_IMPORTED_MODULE_4__.tools.formatCurrency(file.totalPrice);\r\n            price.appendChild(totalPriceSpan);\r\n        });\r\n\r\n        return files;\r\n    }\r\n\r\n    repaint() {\r\n        this.remove();\r\n        this.show();\r\n    }\r\n\r\n    async handleInvoice(order) {\r\n        const response = await _modules_Api__WEBPACK_IMPORTED_MODULE_2__.api.post(\"/api/order/invoice\", order);\r\n\r\n        const linkSource = `data:application/pdf;base64,${response.base64}`;\r\n        const downloadLink = document.createElement(\"a\");\r\n        const fileName = response.fileName;\r\n\r\n        downloadLink.href = linkSource;\r\n        downloadLink.download = fileName;\r\n        downloadLink.click();\r\n    }\r\n    \r\n    async handlePayment(order) {\r\n        const responseUpdateNumber = await _modules_Api__WEBPACK_IMPORTED_MODULE_2__.api.post(\"/api/order/update-number\", order);\r\n        const responseRedsysData = await _modules_Api__WEBPACK_IMPORTED_MODULE_2__.api.post(\"/api/order/redsys-data\", responseUpdateNumber.order);\r\n\r\n        const form = document.createElement(\"form\");\r\n        form.action = \"https://sis-t.redsys.es:25443/sis/realizarPago\";\r\n        form.method = \"POST\";\r\n        form.target = \"_blank\";\r\n        form.style.display = \"none\";\r\n\r\n        const inputDs_SignatureVersion = document.createElement(\"input\");\r\n        inputDs_SignatureVersion.name = \"Ds_SignatureVersion\";\r\n        inputDs_SignatureVersion.value = responseRedsysData.data.Ds_SignatureVersion;\r\n        form.appendChild(inputDs_SignatureVersion);\r\n\r\n        const inputDs_MerchantParameters = document.createElement(\"input\");\r\n        inputDs_MerchantParameters.name = \"Ds_MerchantParameters\";\r\n        inputDs_MerchantParameters.value = responseRedsysData.data.Ds_MerchantParameters;\r\n        form.appendChild(inputDs_MerchantParameters);\r\n\r\n        const inputDs_Signature = document.createElement(\"input\");\r\n        inputDs_Signature.name = \"Ds_Signature\";\r\n        inputDs_Signature.value = responseRedsysData.data.Ds_Signature;\r\n        form.appendChild(inputDs_Signature);\r\n\r\n        document.body.appendChild(form);\r\n        form.submit();\r\n        document.body.removeChild(form);\r\n\r\n        _app__WEBPACK_IMPORTED_MODULE_5__.navigator.goTo(\"/pedidos\");\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Orders);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/Orders.js?");

/***/ }),

/***/ "./src/js/classes/Pdf.js":
/*!*******************************!*\
  !*** ./src/js/classes/Pdf.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass Pdf {\r\n    constructor() {\r\n        this.load();\r\n    }\r\n\r\n    load() {\r\n        const script = document.querySelector('script[src=\"/build/js/vendor/pdf.min.js\"]');\r\n\r\n        if (script) {\r\n            return;\r\n        }\r\n\r\n        return new Promise((resolve, reject) => {\r\n            const script = document.createElement(\"script\");\r\n            script.src = \"/build/js/vendor/pdf.min.js\";\r\n            script.onload = resolve;\r\n            script.onerror = reject;\r\n            document.body.appendChild(script);\r\n        });\r\n    }\r\n\r\n    async getTypedArray(file) {\r\n        return new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.onload = () => {\r\n                const typedArray = new Uint8Array(reader.result);\r\n                resolve(typedArray);\r\n            };\r\n            reader.onerror = reject;\r\n            reader.readAsArrayBuffer(file);\r\n        });\r\n    }\r\n\r\n    async getData(file) {\r\n        const typedArray = await this.getTypedArray(file);\r\n\r\n        const pdfjsLib = window[\"pdfjs-dist/build/pdf\"];\r\n        pdfjsLib.GlobalWorkerOptions.workerSrc = \"/build/js/vendor/pdf.worker.min.js\";\r\n\r\n        const pdf = await pdfjsLib.getDocument(typedArray).promise;\r\n        const canvas = await this.createCanvas(pdf);\r\n        const image = canvas.toDataURL(\"image/png\");\r\n        const pages = pdf.numPages;\r\n\r\n        return {\r\n            image,\r\n            pages,\r\n        };\r\n    }\r\n\r\n    async createCanvas(pdf) {\r\n        const page = await pdf.getPage(1);\r\n        const viewport = page.getViewport({ scale: 0.25 });\r\n        const canvas = document.createElement(\"canvas\");\r\n        const context = canvas.getContext(\"2d\");\r\n        canvas.height = viewport.height;\r\n        canvas.width = viewport.width;\r\n\r\n        const renderContext = {\r\n            canvasContext: context,\r\n            viewport: viewport,\r\n        };\r\n        await page.render(renderContext).promise;\r\n\r\n        return canvas;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Pdf);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/Pdf.js?");

/***/ }),

/***/ "./src/js/classes/Popup.js":
/*!*********************************!*\
  !*** ./src/js/classes/Popup.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass Popup {\r\n    constructor(data) {\r\n        Object.assign(this, data);\r\n\r\n        this.isClose = false;\r\n    }\r\n\r\n    async open() {\r\n        this.popup = this.createPopup();\r\n        document.body.appendChild(this.popup);\r\n\r\n        await this.animatioend(this.popup);\r\n\r\n        if (this.timer) {\r\n            await this.timeoutend();\r\n            if (this.isClose) {\r\n                return;\r\n            }\r\n            await this.close(this.popup);\r\n        }\r\n    }\r\n\r\n    async close() {\r\n        this.popup.classList.add(\"out\");\r\n        await this.animatioend(this.popup);\r\n        this.popup.remove();\r\n        delete this;\r\n    }\r\n\r\n    animatioend(target) {\r\n        const animations = target.getAnimations();\r\n        return Promise.all(animations.map((animation) => animation.finished));\r\n    }\r\n\r\n    timeoutend() {\r\n        return new Promise((resolve) => setTimeout(resolve, this.timer));\r\n    }\r\n\r\n    createPopup() {\r\n        const popup = document.createElement(\"div\");\r\n        popup.classList.add(\"popup\");\r\n        popup.addEventListener(\"click\", async () => {\r\n            this.isClose = true;\r\n            await this.close();\r\n        });\r\n\r\n        const content = document.createElement(\"div\");\r\n        content.classList.add(\"content\");\r\n        content.addEventListener(\"click\", (e) => e.stopPropagation());\r\n        popup.appendChild(content);\r\n\r\n        const header = document.createElement(\"div\");\r\n        header.classList.add(\"header\");\r\n        content.appendChild(header);\r\n\r\n        const icon = this.createIcon(this.type);\r\n        header.appendChild(icon);\r\n\r\n        const main = document.createElement(\"div\");\r\n        main.classList.add(\"main\");\r\n        content.appendChild(main);\r\n\r\n        if (this.title) {\r\n            const text = document.createElement(\"div\");\r\n            text.classList.add(\"title\");\r\n            text.textContent = this.title;\r\n            main.appendChild(text);\r\n        }\r\n\r\n        if (this.message) {\r\n            const text = document.createElement(\"div\");\r\n            text.classList.add(\"message\");\r\n            text.textContent = this.message;\r\n            main.appendChild(text);\r\n        }\r\n\r\n        return popup;\r\n    }\r\n\r\n    createIcon(type) {\r\n        if (type === \"success\") {\r\n            const animatedIcon = document.createElement(\"div\");\r\n            animatedIcon.classList.add(\"animated-icon\");\r\n\r\n            const success = document.createElement(\"div\");\r\n            success.classList.add(\"success\");\r\n            animatedIcon.appendChild(success);\r\n\r\n            const lineTip = document.createElement(\"div\");\r\n            lineTip.classList.add(\"line\", \"tip\");\r\n            success.appendChild(lineTip);\r\n\r\n            const lineLong = document.createElement(\"div\");\r\n            lineLong.classList.add(\"line\", \"long\");\r\n            success.appendChild(lineLong);\r\n\r\n            const circle = document.createElement(\"div\");\r\n            circle.classList.add(\"circle\");\r\n            success.appendChild(circle);\r\n\r\n            const fix = document.createElement(\"div\");\r\n            fix.classList.add(\"fix\");\r\n            success.appendChild(fix);\r\n\r\n            return animatedIcon;\r\n        }\r\n\r\n        if (type === \"error\") {\r\n            const animatedIcon = document.createElement(\"div\");\r\n            animatedIcon.classList.add(\"animated-icon\");\r\n\r\n            const error = document.createElement(\"div\");\r\n            error.classList.add(\"error\");\r\n            animatedIcon.appendChild(error);\r\n\r\n            const x = document.createElement(\"div\");\r\n            x.classList.add(\"x\");\r\n            error.appendChild(x);\r\n\r\n            const left = document.createElement(\"div\");\r\n            left.classList.add(\"left\");\r\n            x.appendChild(left);\r\n\r\n            const right = document.createElement(\"div\");\r\n            right.classList.add(\"right\");\r\n            x.appendChild(right);\r\n\r\n            const placeholder = document.createElement(\"div\");\r\n            placeholder.classList.add(\"placeholder\");\r\n            error.appendChild(placeholder);\r\n\r\n            const fix = document.createElement(\"div\");\r\n            fix.classList.add(\"fix\");\r\n            error.appendChild(fix);\r\n\r\n            return animatedIcon;\r\n        }\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Popup);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/Popup.js?");

/***/ }),

/***/ "./src/js/classes/PreviewOrder.js":
/*!****************************************!*\
  !*** ./src/js/classes/PreviewOrder.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Collapse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Collapse */ \"./src/js/classes/Collapse.js\");\n/* harmony import */ var _Tooltip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Tooltip */ \"./src/js/classes/Tooltip.js\");\n/* harmony import */ var _mio_IconButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mio/IconButton */ \"./src/js/classes/mio/IconButton.js\");\n/* harmony import */ var _modules_Icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../modules/Icons */ \"./src/js/modules/Icons.js\");\n/* harmony import */ var _modules_Tools__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../modules/Tools */ \"./src/js/modules/Tools.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass PreviewOrder {\r\n    constructor({ items, onDownload }) {\r\n        this.items = items;\r\n\r\n        this.onDownload = onDownload;\r\n    }\r\n\r\n    create() {\r\n        const itemsEl = document.createElement(\"div\");\r\n        itemsEl.classList.add(\"items\");\r\n\r\n        const fragment = document.createDocumentFragment();\r\n\r\n        this.items.forEach((item) => {\r\n            const itemEl = this.createItem(item);\r\n            fragment.appendChild(itemEl);\r\n        });\r\n\r\n        itemsEl.appendChild(fragment);\r\n\r\n        return itemsEl;\r\n    }\r\n\r\n    createEmpty() {\r\n        const empty = document.createElement(\"div\");\r\n        empty.classList.add(\"empty\");\r\n\r\n        const icon = _modules_Icons__WEBPACK_IMPORTED_MODULE_3__.icons.get(\"exclamationCircle\");\r\n        empty.appendChild(icon);\r\n\r\n        const message = document.createElement(\"p\");\r\n        message.textContent = \"El carrito está vacío\";\r\n        empty.appendChild(message);\r\n\r\n        return empty;\r\n    }\r\n\r\n    createItem(item) {\r\n        const itemEl = document.createElement(\"div\");\r\n        itemEl.classList.add(\"item\");\r\n\r\n        const header = document.createElement(\"div\");\r\n        header.classList.add(\"header\");\r\n        itemEl.appendChild(header);\r\n\r\n        const icon = document.createElement(\"div\");\r\n        icon.classList.add(\"icon\");\r\n        header.appendChild(icon);\r\n\r\n        icon.appendChild(_modules_Icons__WEBPACK_IMPORTED_MODULE_3__.icons.get(\"files\"));\r\n\r\n        const row = document.createElement(\"div\");\r\n        row.classList.add(\"row\");\r\n        header.appendChild(row);\r\n\r\n        const name = document.createElement(\"div\");\r\n        name.classList.add(\"name\");\r\n        row.appendChild(name);\r\n\r\n        const nameSpan = document.createElement(\"span\");\r\n        nameSpan.textContent = `Impresión con ${item.files.length} ${\r\n            item.files.length > 1 ? \"documentos\" : \"documento\"\r\n        }`;\r\n        name.appendChild(nameSpan);\r\n\r\n        const price = document.createElement(\"div\");\r\n        price.classList.add(\"price\");\r\n        price.textContent = _modules_Tools__WEBPACK_IMPORTED_MODULE_4__.tools.formatCurrency(item.price);\r\n        row.appendChild(price);\r\n\r\n        const actions = document.createElement(\"div\");\r\n        actions.classList.add(\"actions\");\r\n        header.appendChild(actions);\r\n\r\n        const downloadBtn = new _mio_IconButton__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            ariaLabel: \"Descargar impresión\",\r\n            buttonSize: \"large\",\r\n            svgSize: \"large\",\r\n            icon: _modules_Icons__WEBPACK_IMPORTED_MODULE_3__.icons.get(\"download\"),\r\n            onClick: this.onDownload.bind(this, item),\r\n        });\r\n        actions.appendChild(downloadBtn.get());\r\n\r\n        new _Tooltip__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            target: downloadBtn.get(),\r\n            message: \"Descargar impresión\",\r\n            position: \"top\",\r\n        });\r\n\r\n        const openIconDiv = document.createElement(\"div\");\r\n        openIconDiv.classList.add(\"open-icon\");\r\n        header.appendChild(openIconDiv);\r\n\r\n        const openIcon = _modules_Icons__WEBPACK_IMPORTED_MODULE_3__.icons.get(\"chevronRight\");\r\n        openIconDiv.appendChild(openIcon);\r\n\r\n        const body = document.createElement(\"div\");\r\n        body.classList.add(\"body\");\r\n        itemEl.appendChild(body);\r\n\r\n        const options = this.createOptions(item);\r\n        body.appendChild(options);\r\n\r\n        const files = this.createFiles(item);\r\n        body.appendChild(files);\r\n\r\n        new _Collapse__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            target: header,\r\n            container: body,\r\n            collapsed: true,\r\n        });\r\n\r\n        return itemEl;\r\n    }\r\n\r\n    createOptions(item) {\r\n        const optionsEl = document.createElement(\"div\");\r\n        optionsEl.classList.add(\"options\");\r\n\r\n        const dl = document.createElement(\"dl\");\r\n        optionsEl.appendChild(dl);\r\n\r\n        for (const [key, value] of Object.entries(item.options)) {\r\n            let dtText;\r\n            let ddText;\r\n\r\n            switch (key) {\r\n                case \"color\":\r\n                    dtText = \"Color:\";\r\n                    ddText = value === \"color\" ? \"Color\" : \"Blanco y negro\";\r\n                    break;\r\n                case \"copies\":\r\n                    dtText = \"Número de copias:\";\r\n                    ddText = value;\r\n                    break;\r\n                case \"doubleSided\":\r\n                    dtText = \"Doble cara:\";\r\n                    ddText = value ? \"Sí\" : \"No\";\r\n                    break;\r\n                case \"orientation\":\r\n                    dtText = \"Orientación:\";\r\n                    switch (value) {\r\n                        case \"automatic\":\r\n                            ddText = \"Automática\";\r\n                            break;\r\n                        case \"vertical\":\r\n                            ddText = \"Vertical\";\r\n                            break;\r\n                        case \"horizontal\":\r\n                            ddText = \"Horizontal\";\r\n                            break;\r\n                    }\r\n                    break;\r\n                case \"customPages\":\r\n                    dtText = \"Páginas\";\r\n                    switch (value) {\r\n                        case \"all\":\r\n                            ddText = \"Todas\";\r\n                            break;\r\n                        case \"range\":\r\n                            ddText = `${item.options.from} - ${item.options.to}`;\r\n                            break;\r\n                    }\r\n                    break;\r\n                case \"size\":\r\n                    dtText = \"Tamaño de hoja:\";\r\n                    switch (value) {\r\n                        case \"a4\":\r\n                            ddText = \"A4\";\r\n                            break;\r\n                        case \"a3\":\r\n                            ddText = \"A3\";\r\n                            break;\r\n                    }\r\n                    break;\r\n                case \"pagesPerSheet\":\r\n                    dtText = \"Páginas por hoja:\";\r\n                    switch (value) {\r\n                        case 1:\r\n                            ddText = \"Normal\";\r\n                            break;\r\n                        case 2:\r\n                            ddText = \"2\";\r\n                            break;\r\n                        case 3:\r\n                            ddText = \"4\";\r\n                            break;\r\n                    }\r\n                    break;\r\n                case \"binding\":\r\n                    dtText = \"Encuadernar:\";\r\n                    switch (value) {\r\n                        case \"none\":\r\n                            ddText = \"No\";\r\n                            break;\r\n                        case \"bound\":\r\n                            ddText = \"Encuadernado\";\r\n                            break;\r\n                        case \"stapled\":\r\n                            ddText = \"Grapado\";\r\n                            break;\r\n                        case \"punch-double\":\r\n                            ddText = \"Perforado doble\";\r\n                            break;\r\n                        case \"punch-quadruple\":\r\n                            ddText = \"Perforado cuadruple\";\r\n                            break;\r\n                        case \"laminated\":\r\n                            ddText = \"Plastificado\";\r\n                            break;\r\n                    }\r\n                    break;\r\n                default:\r\n                    continue;\r\n            }\r\n\r\n            const option = document.createElement(\"div\");\r\n            dl.appendChild(option);\r\n\r\n            const dt = document.createElement(\"dt\");\r\n            dt.textContent = dtText;\r\n            option.appendChild(dt);\r\n\r\n            const dd = document.createElement(\"dd\");\r\n            dd.textContent = ddText;\r\n            option.appendChild(dd);\r\n        }\r\n\r\n        return optionsEl;\r\n    }\r\n\r\n    createFiles(item) {\r\n        const files = document.createElement(\"div\");\r\n        files.classList.add(\"files\");\r\n\r\n        item.files.forEach((file) => {\r\n            const fileEl = document.createElement(\"div\");\r\n            fileEl.classList.add(\"file\");\r\n            files.appendChild(fileEl);\r\n\r\n            const image = document.createElement(\"div\");\r\n            image.classList.add(\"image\");\r\n            fileEl.appendChild(image);\r\n\r\n            const img = document.createElement(\"img\");\r\n            img.src = file.imageBase64;\r\n            img.alt = \"Imágen primera página PDF\";\r\n            if (item.options.color === \"color\") {\r\n                img.classList.add(\"color\");\r\n            }\r\n            image.appendChild(img);\r\n\r\n            const data = document.createElement(\"div\");\r\n            data.classList.add(\"data\");\r\n            fileEl.appendChild(data);\r\n\r\n            const name = document.createElement(\"div\");\r\n            name.classList.add(\"name\");\r\n            data.appendChild(name);\r\n\r\n            const nameSpan = document.createElement(\"span\");\r\n            nameSpan.textContent = file.name;\r\n            name.appendChild(nameSpan);\r\n\r\n            const info = document.createElement(\"div\");\r\n            info.classList.add(\"info\");\r\n            data.appendChild(info);\r\n\r\n            const pages = document.createElement(\"span\");\r\n            pages.classList.add(\"pages\");\r\n            info.appendChild(pages);\r\n\r\n            const pagesSpan = document.createElement(\"span\");\r\n            pagesSpan.textContent = `${file.pages} ${file.pages > 0 ? \"páginas\" : \"página\"}`;\r\n            pages.appendChild(pagesSpan);\r\n\r\n            const size = document.createElement(\"span\");\r\n            size.classList.add(\"size\");\r\n            info.appendChild(size);\r\n\r\n            const sizeSpan = document.createElement(\"span\");\r\n            sizeSpan.textContent = _modules_Tools__WEBPACK_IMPORTED_MODULE_4__.tools.formatBytes(file.size);\r\n            size.appendChild(sizeSpan);\r\n\r\n            const type = document.createElement(\"span\");\r\n            type.classList.add(\"type\");\r\n            info.appendChild(type);\r\n\r\n            const typeSpan = document.createElement(\"span\");\r\n            typeSpan.textContent = `Tipo: ${file.type.replace(\"application/\", \"\").toUpperCase()}`;\r\n            type.appendChild(typeSpan);\r\n\r\n            const sheets = document.createElement(\"div\");\r\n            sheets.classList.add(\"sheets\");\r\n            fileEl.appendChild(sheets);\r\n\r\n            const sheetsSpan = document.createElement(\"div\");\r\n            sheetsSpan.classList.add(\"title\");\r\n            sheetsSpan.textContent = \"Hojas\";\r\n            sheets.appendChild(sheetsSpan);\r\n\r\n            const unitSheetsSpan = document.createElement(\"span\");\r\n            unitSheetsSpan.classList.add(\"unit\");\r\n            unitSheetsSpan.textContent = file.unitSheets;\r\n            sheets.appendChild(unitSheetsSpan);\r\n\r\n            const totalSheetsSpan = document.createElement(\"span\");\r\n            totalSheetsSpan.classList.add(\"total\");\r\n            totalSheetsSpan.textContent = file.totalSheets;\r\n            sheets.appendChild(totalSheetsSpan);\r\n\r\n            const price = document.createElement(\"div\");\r\n            price.classList.add(\"price\");\r\n            fileEl.appendChild(price);\r\n\r\n            const priceSpan = document.createElement(\"span\");\r\n            priceSpan.classList.add(\"title\");\r\n            priceSpan.textContent = \"Precio\";\r\n            price.appendChild(priceSpan);\r\n\r\n            const unitPriceSpan = document.createElement(\"span\");\r\n            unitPriceSpan.classList.add(\"unit\");\r\n            unitPriceSpan.textContent = _modules_Tools__WEBPACK_IMPORTED_MODULE_4__.tools.formatCurrency(file.unitPrice);\r\n            price.appendChild(unitPriceSpan);\r\n\r\n            const totalPriceSpan = document.createElement(\"span\");\r\n            totalPriceSpan.classList.add(\"total\");\r\n            totalPriceSpan.textContent = _modules_Tools__WEBPACK_IMPORTED_MODULE_4__.tools.formatCurrency(file.totalPrice);\r\n            price.appendChild(totalPriceSpan);\r\n        });\r\n\r\n        return files;\r\n    }\r\n\r\n    repaint() {\r\n        this.remove();\r\n        this.show();\r\n    }\r\n\r\n    remove() {\r\n        this.itemsEl.remove();\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PreviewOrder);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/PreviewOrder.js?");

/***/ }),

/***/ "./src/js/classes/Resume.js":
/*!**********************************!*\
  !*** ./src/js/classes/Resume.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass Resume {\r\n    constructor({ files }) {\r\n        this.price = 0;\r\n        this.pages = 0;\r\n        this.sheets = 0;\r\n        this.weight = 0;\r\n        this.size = 0;\r\n        this.units = 0;\r\n\r\n        this.set(files);\r\n    }\r\n\r\n    get() {\r\n        return {\r\n            price: this.price,\r\n            pages: this.pages,\r\n            sheets: this.sheets,\r\n            weight: this.weight,\r\n            size: this.size,\r\n            units: this.units,\r\n        };\r\n    }\r\n\r\n    set(files) {\r\n        for (let i = 0; i < files.length; i++) {\r\n            const file = files[i];\r\n\r\n            this.price += file.totalPrice;\r\n            this.pages += file.pages;\r\n            this.sheets += file.totalSheets;\r\n            this.weight += file.totalWeight;\r\n            this.size += file.size;\r\n            this.units = files.length;\r\n        }\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Resume);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/Resume.js?");

/***/ }),

/***/ "./src/js/classes/Spinner.js":
/*!***********************************!*\
  !*** ./src/js/classes/Spinner.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass Spinner {\r\n    constructor(data) {\r\n        Object.assign(this, data);\r\n    }\r\n\r\n    async open() {\r\n        this.spinner = this.create();\r\n        this.parent.appendChild(this.spinner);\r\n        await this.animationend(this.spinner);\r\n    }\r\n\r\n    async close() {\r\n        this.spinner.classList.add('out');\r\n        await this.animationend(this.spinner);\r\n        this.spinner.remove();\r\n        delete this;\r\n    }\r\n\r\n   create() {\r\n        const spinner = document.createElement('div');\r\n        spinner.classList.add('sk-spinner');\r\n\r\n        const skChase = document.createElement('div');\r\n        skChase.classList.add('sk-chase');\r\n        spinner.appendChild(skChase);\r\n\r\n        for (let i = 0; i < 6; i++) {\r\n            const dot = document.createElement('div');\r\n            dot.classList.add('sk-chase-dot');\r\n            skChase.appendChild(dot);\r\n        }\r\n\r\n        return spinner;\r\n    }\r\n    \r\n    animationend(target) {\r\n        return new Promise((resolve) => {\r\n            target.addEventListener(\"animationend\", resolve, { once: true });\r\n        });\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Spinner);\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/Spinner.js?");

/***/ }),

/***/ "./src/js/classes/Steps.js":
/*!*********************************!*\
  !*** ./src/js/classes/Steps.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _modules_Icons__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules/Icons */ \"./src/js/modules/Icons.js\");\n\r\n\r\nclass Steps {\r\n    constructor({ index, disabled, onClick }) {\r\n        this.index = index;\r\n        this.disabled = disabled;\r\n        this.onClick = onClick;\r\n    }\r\n\r\n    init() {\r\n        this.show();\r\n    }\r\n\r\n    show() {\r\n        const stepsContainer = document.querySelector(\"#steps\");\r\n\r\n        this.stepsEl = this.create();\r\n        stepsContainer.appendChild(this.stepsEl);\r\n    }\r\n\r\n    getIndex() {\r\n        return this.index;\r\n    }\r\n\r\n    setIndex(index) {\r\n        this.index = index;\r\n    }\r\n\r\n    next() {\r\n        this.index++;\r\n    }\r\n\r\n    create() {\r\n        const stepsEl = document.createElement(\"div\");\r\n        stepsEl.classList.add(\"steps\");\r\n\r\n        const steps = [\r\n            {\r\n                title: \"Resumen\",\r\n                message: \"Resumen del pedido\",\r\n                icon: _modules_Icons__WEBPACK_IMPORTED_MODULE_0__.icons.get(\"basket\"),\r\n            },\r\n            {\r\n                title: \"Envio\",\r\n                message: \"Datos de envío\",\r\n                onClick: this.onClick,\r\n                icon: _modules_Icons__WEBPACK_IMPORTED_MODULE_0__.icons.get(\"truck\"),\r\n            },\r\n            {\r\n                title: \"Upload\",\r\n                message: \"Subir impresiones\",\r\n                icon: _modules_Icons__WEBPACK_IMPORTED_MODULE_0__.icons.get(\"cloudUpload\"),\r\n            },\r\n            {\r\n                title: \"Pago\",\r\n                message: \"Realiza el pago\",\r\n                icon: _modules_Icons__WEBPACK_IMPORTED_MODULE_0__.icons.get(\"creditCard\"),\r\n            },\r\n        ];\r\n\r\n        steps.forEach((step, index) => {\r\n            const stepBtn = document.createElement(\"button\");\r\n            stepBtn.type = \"button\";\r\n            stepBtn.classList.add(\"step\");\r\n            if (index < this.index) {\r\n                stepBtn.classList.add(\"done\");\r\n            }\r\n            if (index === this.index) {\r\n                stepBtn.classList.add(\"active\");\r\n            }\r\n            stepBtn.addEventListener(\"click\", () => {\r\n                if (this.disabled) {\r\n                    return;\r\n                }\r\n                this.onClick(index);\r\n            });\r\n            stepsEl.appendChild(stepBtn);\r\n\r\n            const iconEl = document.createElement(\"div\");\r\n            iconEl.classList.add(\"icon\");\r\n            stepBtn.appendChild(iconEl);\r\n\r\n            iconEl.appendChild(step.icon);\r\n\r\n            const infoEl = document.createElement(\"div\");\r\n            infoEl.classList.add(\"info\");\r\n            stepBtn.appendChild(infoEl);\r\n\r\n            const titleEl = document.createElement(\"div\");\r\n            titleEl.classList.add(\"title\");\r\n            titleEl.textContent = step.title;\r\n            infoEl.appendChild(titleEl);\r\n\r\n            const messageEl = document.createElement(\"div\");\r\n            messageEl.classList.add(\"message\");\r\n            messageEl.textContent = step.message;\r\n            infoEl.appendChild(messageEl);\r\n        });\r\n\r\n        return stepsEl;\r\n    }\r\n\r\n    repaint() {\r\n        this.remove();\r\n        this.show();\r\n    }\r\n\r\n    remove() {\r\n        this.stepsEl.remove();\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Steps);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/Steps.js?");

/***/ }),

/***/ "./src/js/classes/Table.js":
/*!*********************************!*\
  !*** ./src/js/classes/Table.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _modules_Icons_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules/Icons.js */ \"./src/js/modules/Icons.js\");\n/* harmony import */ var _Menu_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Menu.js */ \"./src/js/classes/Menu.js\");\n/* harmony import */ var _mio_IconButton_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mio/IconButton.js */ \"./src/js/classes/mio/IconButton.js\");\n/* harmony import */ var _mio_Checkbox_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mio/Checkbox.js */ \"./src/js/classes/mio/Checkbox.js\");\n\r\n\r\n\r\n\r\n\r\nclass Table {\r\n    constructor(options) {\r\n        this.title = options.title;\r\n        this.columns = options.columns;\r\n        this.customColumns = options.customColumns || [];\r\n        this.rows = options.rows;\r\n        this.copyRows = options.rows;\r\n        this.findFields = options.findFields;\r\n\r\n        this.container = options.container;\r\n        this.visibleRows = options.visibleRows;\r\n        this.rowsPerPage = options.rowsPerPage;\r\n        this.rowsPerPageOptions = options.rowsPerPageOptions;\r\n\r\n        this.showActionsMenu = options.showActionsMenu;\r\n        this.headerActions = options.headerActions;\r\n        this.rowsActions = options.rowsActions || [];\r\n        this.selectActions = options.selectActions || [];\r\n\r\n        this.selectedRows = [];\r\n\r\n        this.sort = false;\r\n        this.sortColumn = null;\r\n\r\n        this.page = 1;\r\n        this.pages = 0;\r\n\r\n        this.search = \"\";\r\n        this.isSearch = false;\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.setPages(this.calculatePages());\r\n        this.createTable();\r\n    }\r\n\r\n    setRows(rows) {\r\n        this.rows = rows;\r\n        this.destroy();\r\n        this.setPages(this.calculatePages());\r\n        this.createTable();\r\n    }\r\n\r\n    addRow(row) {\r\n        this.rows = [...this.rows, row];\r\n        this.copyRows = [...this.copyRows, row];\r\n        this.destroy();\r\n        this.setPages(this.calculatePages());\r\n        this.createTable();\r\n    }\r\n\r\n    updateRow(updateRow) {\r\n        this.rows = this.rows.map((row) => (row.id === updateRow.id ? updateRow : row));\r\n        this.copyRows = this.copyRows.map((row) => (row.id === updateRow.id ? updateRow : row));\r\n        this.destroy();\r\n        this.setPages(this.calculatePages());\r\n        this.createTable();\r\n    }\r\n\r\n    deleteRow(deleteRow) {\r\n        this.rows = this.rows.filter((row) => row.id !== deleteRow.id);\r\n        this.copyRows = this.copyRows.filter((row) => row.id !== deleteRow.id);\r\n        this.clearSelectedRows();\r\n        this.setPages(this.calculatePages());\r\n        this.checkPage();\r\n        this.destroy();\r\n        this.createTable();\r\n    }\r\n\r\n    deleteRows(deleteRows) {\r\n        this.rows = this.rows.filter(\r\n            (row) => !deleteRows.some((deleteRow) => deleteRow.id === row.id)\r\n        );\r\n        this.copyRows = this.copyRows.filter(\r\n            (row) => !deleteRows.some((deleteRow) => deleteRow.id === row.id)\r\n        );\r\n        this.clearSelectedRows();\r\n        this.setPages(this.calculatePages());\r\n        this.checkPage();\r\n        this.destroy();\r\n        this.createTable();\r\n    }\r\n\r\n    searchRow() {\r\n        if (this.findFields) {\r\n            this.rows = this.copyRows.filter((row) => {\r\n                const value = this.findFields.reduce(\r\n                    (previousValue, currentValue, currentIndex) => {\r\n                        return !currentIndex\r\n                            ? row[currentValue]\r\n                            : previousValue + \" \" + row[currentValue];\r\n                    },\r\n                    \"\"\r\n                );\r\n\r\n                return value.toLowerCase().includes(this.search.toLowerCase());\r\n            });\r\n        } else {\r\n            this.rows = this.copyRows.filter((row) => {\r\n                return Object.values(row).some((value) => {\r\n                    return (\r\n                        value && value.toString().toLowerCase().includes(this.search.toLowerCase())\r\n                    );\r\n                });\r\n            });\r\n        }\r\n\r\n        this.clearSelectedRows();\r\n        this.setPages(this.calculatePages());\r\n        this.checkPage();\r\n        this.destroy();\r\n        this.createTable();\r\n    }\r\n\r\n    checkPage() {\r\n        if (this.page > this.pages) {\r\n            this.page = this.pages;\r\n        }\r\n    }\r\n\r\n    setPages(pages) {\r\n        this.pages = pages;\r\n    }\r\n\r\n    calculatePages() {\r\n        return Math.ceil(this.rows.length / this.rowsPerPage) || 1;\r\n    }\r\n\r\n    clearSelectedRows() {\r\n        this.selectedRows = [];\r\n    }\r\n\r\n    createTable() {\r\n        this.table = document.createElement(\"div\");\r\n        this.table.classList.add(\"table\");\r\n        this.table.style.height = this.tableSizing().tableHeight + \"px\";\r\n        this.container.appendChild(this.table);\r\n\r\n        const header = this.createHeader();\r\n        this.table.appendChild(header);\r\n\r\n        const tableWrapper = document.createElement(\"div\");\r\n        tableWrapper.style.height = this.tableSizing().wrapperHeight + \"px\";\r\n        tableWrapper.classList.add(\"wrapper\");\r\n        this.table.appendChild(tableWrapper);\r\n\r\n        const table = document.createElement(\"table\");\r\n        tableWrapper.appendChild(table);\r\n\r\n        const thead = this.createThead();\r\n        table.appendChild(thead);\r\n\r\n        const tbody = this.createTbody();\r\n        table.appendChild(tbody);\r\n\r\n        const footer = this.createFooter();\r\n        this.table.appendChild(footer);\r\n\r\n        if (!this.selectedRows.length && this.isSearch) {\r\n            const input = document.querySelector(\".search input\");\r\n            input.focus();\r\n        }\r\n    }\r\n\r\n    tableSizing() {\r\n        const headerHeight = 70;\r\n        const theadHeight = 60;\r\n        const rowHeight = 55;\r\n        const footerHeight = 70;\r\n\r\n        let tableHeight = 0;\r\n        let wrapperHeight = 0;\r\n\r\n        if (this.visibleRows > this.rowsPerPage) {\r\n            wrapperHeight = rowHeight * this.rowsPerPage + theadHeight;\r\n            tableHeight = headerHeight + wrapperHeight + footerHeight;\r\n        }\r\n        if (this.visibleRows <= this.rowsPerPage) {\r\n            wrapperHeight = rowHeight * this.visibleRows + rowHeight / 2 + theadHeight;\r\n            tableHeight = headerHeight + wrapperHeight + footerHeight;\r\n        }\r\n\r\n        return {\r\n            wrapperHeight,\r\n            tableHeight,\r\n        };\r\n    }\r\n\r\n    createHeader() {\r\n        const header = document.createElement(\"div\");\r\n        header.classList.add(\"header\");\r\n\r\n        if (this.selectedRows.length) {\r\n            header.classList.add(\"selected\");\r\n\r\n            const selectedRows = document.createElement(\"div\");\r\n            selectedRows.classList.add(\"selected-rows\");\r\n            if (this.selectedRows.length === 1) {\r\n                selectedRows.textContent = \"1 fila seleccionada\";\r\n            }\r\n            if (this.selectedRows.length > 1) {\r\n                selectedRows.textContent = this.selectedRows.length + \" filas seleccionadas\";\r\n            }\r\n            header.appendChild(selectedRows);\r\n\r\n            const actions = document.createElement(\"div\");\r\n            actions.classList.add(\"actions\");\r\n            header.appendChild(actions);\r\n\r\n            this.selectActions.forEach((action) => {\r\n                const button = new _mio_IconButton_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n                    ariaLabel: action.name,\r\n                    buttonSize: \"large\",\r\n                    svgSize: \"large\",\r\n                    icon: action.icon.cloneNode(true),\r\n                    onClick: () => action.callback(this.selectedRows),\r\n                });\r\n                actions.appendChild(button.get());\r\n            });\r\n\r\n            return header;\r\n        }\r\n\r\n        if (!this.selectedRows.length && this.isSearch) {\r\n            header.classList.add(\"search\");\r\n\r\n            const form = document.createElement(\"form\");\r\n            form.noValidate;\r\n            header.appendChild(form);\r\n\r\n            const input = document.createElement(\"input\");\r\n            input.type = \"text\";\r\n            input.placeholder = \"Buscar\";\r\n            input.value = this.search;\r\n            input.addEventListener(\"keyup\", this.handleSubmitSearch.bind(this));\r\n            form.appendChild(input);\r\n\r\n            const label = document.createElement(\"label\");\r\n            label.htmlFor = \"search\";\r\n            label.textContent = \"Buscar\";\r\n            form.appendChild(label);\r\n\r\n            const button = new _mio_IconButton_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n                ariaLabel: \"Cerrar busqueda\",\r\n                buttonSize: \"large\",\r\n                svgSize: \"large\",\r\n                icon: _modules_Icons_js__WEBPACK_IMPORTED_MODULE_0__.icons.get(\"xLg\"),\r\n                onClick: this.handleCloseSearch.bind(this),\r\n            });\r\n            header.appendChild(button.get());\r\n\r\n            return header;\r\n        }\r\n\r\n        if (!this.selectedRows.length) {\r\n            const title = document.createElement(\"div\");\r\n            title.classList.add(\"title\");\r\n            title.textContent = this.title;\r\n            header.appendChild(title);\r\n\r\n            const actions = document.createElement(\"div\");\r\n            actions.classList.add(\"actions\");\r\n            header.appendChild(actions);\r\n\r\n            const button = new _mio_IconButton_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n                ariaLabel: \"Buscar\",\r\n                buttonSize: \"large\",\r\n                svgSize: \"large\",\r\n                icon: _modules_Icons_js__WEBPACK_IMPORTED_MODULE_0__.icons.get(\"search\"),\r\n                onClick: this.handleClickSearch.bind(this),\r\n            });\r\n            actions.appendChild(button.get());\r\n\r\n            this.headerActions.forEach((action) => {\r\n                const button = new _mio_IconButton_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n                    ariaLabel: action.name,\r\n                    buttonSize: \"large\",\r\n                    svgSize: \"large\",\r\n                    icon: action.icon.cloneNode(true),\r\n                    onClick: action.callback,\r\n                });\r\n                actions.appendChild(button.get());\r\n            });\r\n\r\n            return header;\r\n        }\r\n    }\r\n\r\n    createThead() {\r\n        const thead = document.createElement(\"thead\");\r\n\r\n        const tr = document.createElement(\"tr\");\r\n        thead.appendChild(tr);\r\n\r\n        const thCheckAll = document.createElement(\"th\");\r\n        tr.appendChild(thCheckAll);\r\n\r\n        const form = document.createElement(\"form\");\r\n        form.classList.add(\"mio-form\");\r\n        thCheckAll.appendChild(form);\r\n\r\n        const checkAll = new _mio_Checkbox_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            label: {\r\n                text: \"\",\r\n                for: \"checkAll\",\r\n            },\r\n            input: {\r\n                name: \"checkAll\",\r\n                id: \"checkAll\",\r\n                value: this.selectedRows.length && this.selectedRows.length === this.rows.length,\r\n            },\r\n            onClick: this.handleCheckAll.bind(this),\r\n        });\r\n        form.appendChild(checkAll.getField());\r\n\r\n        this.columns.forEach((column) => {\r\n            const th = document.createElement(\"th\");\r\n            tr.appendChild(th);\r\n\r\n            const button = document.createElement(\"button\");\r\n            button.type = \"button\";\r\n            button.ariaLabel = \"Ordenar\";\r\n            button.addEventListener(\"click\", this.handleSort.bind(this, column));\r\n            th.appendChild(button);\r\n\r\n            const name = document.createElement(\"div\");\r\n            name.classList.add(\"name\");\r\n            name.textContent = column.headerName;\r\n            button.appendChild(name);\r\n\r\n            const sort = document.createElement(\"div\");\r\n            sort.classList.add(\"sort\", \"asc\");\r\n            if (this.sortColumn === column && this.sort) {\r\n                sort.classList.remove(\"asc\");\r\n                sort.classList.add(\"asc\");\r\n            }\r\n            if (this.sortColumn === column && !this.sort) {\r\n                sort.classList.remove(\"asc\");\r\n                sort.classList.add(\"desc\");\r\n            }\r\n            button.appendChild(sort);\r\n\r\n            const sortIcon = _modules_Icons_js__WEBPACK_IMPORTED_MODULE_0__.icons.get(\"arrowUpShort\");\r\n            sort.appendChild(sortIcon);\r\n        });\r\n\r\n        this.customColumns.forEach((column) => {\r\n            const th = document.createElement(\"th\");\r\n            tr.appendChild(th);\r\n\r\n            const button = document.createElement(\"button\");\r\n            button.type = \"button\";\r\n            button.ariaLabel = \"Ordenar\";\r\n            button.addEventListener(\"click\", this.handleSort.bind(this, column));\r\n            th.appendChild(button);\r\n\r\n            const name = document.createElement(\"div\");\r\n            name.classList.add(\"name\");\r\n            name.textContent = column.headerName;\r\n            button.appendChild(name);\r\n\r\n            const sort = document.createElement(\"div\");\r\n            sort.classList.add(\"sort\", \"asc\");\r\n            if (this.sortColumn === column && this.sort) {\r\n                sort.classList.remove(\"asc\");\r\n                sort.classList.add(\"asc\");\r\n            }\r\n            if (this.sortColumn === column && !this.sort) {\r\n                sort.classList.remove(\"asc\");\r\n                sort.classList.add(\"desc\");\r\n            }\r\n            button.appendChild(sort);\r\n\r\n            const sortIcon = _modules_Icons_js__WEBPACK_IMPORTED_MODULE_0__.icons.get(\"arrowUpShort\");\r\n            sort.appendChild(sortIcon);\r\n        });\r\n\r\n        const thActions = document.createElement(\"th\");\r\n        thActions.textContent = \"Acciones\";\r\n        tr.appendChild(thActions);\r\n\r\n        return thead;\r\n    }\r\n\r\n    createTbody() {\r\n        const tbody = document.createElement(\"tbody\");\r\n\r\n        this.rows.forEach((row, index) => {\r\n            if (\r\n                index < this.rowsPerPage * (this.page - 1) ||\r\n                index >= this.rowsPerPage * this.page\r\n            ) {\r\n                return;\r\n            }\r\n\r\n            const tr = document.createElement(\"tr\");\r\n            const exists = this.selectedRows.some((selectedRow) => selectedRow === row);\r\n            if (exists) {\r\n                tr.classList.add(\"selected\");\r\n            }\r\n            tr.addEventListener(\"click\", this.handleRowClick.bind(this, row));\r\n            tbody.appendChild(tr);\r\n\r\n            const tdCheck = document.createElement(\"td\");\r\n            tr.appendChild(tdCheck);\r\n\r\n            const form = document.createElement(\"form\");\r\n            form.classList.add(\"mio-form\");\r\n            tdCheck.appendChild(form);\r\n\r\n            const check = new _mio_Checkbox_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n                label: {\r\n                    text: \"\",\r\n                    for: `check${row.id}`,\r\n                },\r\n                input: {\r\n                    name: `check${row.id}`,\r\n                    id: `check${row.id}`,\r\n                    value: exists,\r\n                },\r\n                onClick: this.handleCheck.bind(this, row),\r\n            });\r\n            form.appendChild(check.getField());\r\n\r\n            this.columns.forEach((column) => {\r\n                const td = document.createElement(\"td\");\r\n                if (column.formatter) {\r\n                    td.textContent = column.formatter(row[column.field]);\r\n                } else {\r\n                    td.textContent = row[column.field];\r\n                }\r\n                tr.appendChild(td);\r\n            });\r\n\r\n            this.customColumns.forEach((column) => {\r\n                const td = document.createElement(\"td\");\r\n                tr.appendChild(td);\r\n\r\n                const content = column.content(row);\r\n                td.appendChild(content);\r\n            });\r\n\r\n            const tdActions = document.createElement(\"td\");\r\n            tdActions.classList.add(\"actions\");\r\n            tr.appendChild(tdActions);\r\n\r\n            const actionsContainer = document.createElement(\"div\");\r\n            tdActions.appendChild(actionsContainer);\r\n\r\n            if (this.showActionsMenu) {\r\n                const menuButton = new _mio_IconButton_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n                    ariaLabel: \"Menu Acciones\",\r\n                    buttonSize: \"large\",\r\n                    svgSize: \"medium\",\r\n                    icon: _modules_Icons_js__WEBPACK_IMPORTED_MODULE_0__.icons.get(\"threeDotsVertical\"),\r\n                    onClick: () => {},\r\n                });\r\n                actionsContainer.appendChild(menuButton.get());\r\n\r\n                let items = [];\r\n                this.rowsActions.forEach((action) => {\r\n                    items.push({\r\n                        type: \"button\",\r\n                        text: action.name,\r\n                        ariaLabel: action.name,\r\n                        icon: action.icon,\r\n                        onClick: () => action.callback(row),\r\n                    });\r\n                });\r\n\r\n                const menu = new _Menu_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n                    target: menuButton.get(),\r\n                    items: items,\r\n                });\r\n            } else {\r\n                this.rowsActions.forEach((action) => {\r\n                    const button = new _mio_IconButton_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n                        ariaLabel: action.name,\r\n                        buttonSize: \"large\",\r\n                        svgSize: \"medium\",\r\n                        icon: action.icon.cloneNode(true),\r\n                        callback: (e) => {\r\n                            e.stopPropagation();\r\n                            action.callback(row);\r\n                        },\r\n                    });\r\n                    actionsContainer.appendChild(button.get());\r\n                });\r\n            }\r\n        });\r\n\r\n        return tbody;\r\n    }\r\n\r\n    createFooter() {\r\n        const footer = document.createElement(\"div\");\r\n        footer.classList.add(\"footer\");\r\n\r\n        const colLeft = document.createElement(\"div\");\r\n        colLeft.classList.add(\"col-left\");\r\n        footer.appendChild(colLeft);\r\n\r\n        const rowsPerPage = document.createElement(\"div\");\r\n        rowsPerPage.classList.add(\"rows-per-page\");\r\n        colLeft.appendChild(rowsPerPage);\r\n\r\n        const span = document.createElement(\"span\");\r\n        span.textContent = \"Filas por página:\";\r\n        rowsPerPage.appendChild(span);\r\n\r\n        const select = document.createElement(\"select\");\r\n        select.addEventListener(\"change\", this.handleRowsPerPage.bind(this));\r\n        rowsPerPage.appendChild(select);\r\n\r\n        this.rowsPerPageOptions.forEach((option) => {\r\n            const optionElement = document.createElement(\"option\");\r\n            optionElement.value = option;\r\n            optionElement.textContent = option;\r\n            if (option === this.rowsPerPage) {\r\n                optionElement.selected = true;\r\n            }\r\n            select.appendChild(optionElement);\r\n        });\r\n\r\n        const colRight = document.createElement(\"div\");\r\n        colRight.classList.add(\"col-right\");\r\n        footer.appendChild(colRight);\r\n\r\n        const rows = document.createElement(\"div\");\r\n        rows.classList.add(\"rows\");\r\n        let text = \"\";\r\n        if (this.rows.length) {\r\n            text += (this.page - 1) * this.rowsPerPage + 1 + \"-\";\r\n        } else {\r\n            text += \"0-\";\r\n        }\r\n        if (this.page * this.rowsPerPage > this.rows.length) {\r\n            text += this.rows.length + \" de \" + this.rows.length;\r\n        } else {\r\n            text += this.page * this.rowsPerPage + \" de \" + this.rows.length;\r\n        }\r\n        rows.textContent = text;\r\n        colRight.appendChild(rows);\r\n\r\n        const pagination = document.createElement(\"div\");\r\n        pagination.classList.add(\"pagination\");\r\n        colRight.appendChild(pagination);\r\n\r\n        const prev = document.createElement(\"button\");\r\n        prev.type = \"button\";\r\n        prev.ariaLabel = \"Anterior\";\r\n        if (this.page === 1) {\r\n            prev.disabled = true;\r\n        }\r\n        prev.addEventListener(\"click\", this.handlePrev.bind(this));\r\n        pagination.appendChild(prev);\r\n\r\n        const prevIcon = _modules_Icons_js__WEBPACK_IMPORTED_MODULE_0__.icons.get(\"chevronLeft\");\r\n        prev.appendChild(prevIcon);\r\n\r\n        const next = document.createElement(\"button\");\r\n        next.type = \"button\";\r\n        next.ariaLabel = \"Siguiente\";\r\n        if (this.page === this.pages) {\r\n            next.disabled = true;\r\n        }\r\n        next.addEventListener(\"click\", this.handleNext.bind(this));\r\n        pagination.appendChild(next);\r\n\r\n        const nextIcon = _modules_Icons_js__WEBPACK_IMPORTED_MODULE_0__.icons.get(\"chevronRight\");\r\n        next.appendChild(nextIcon);\r\n\r\n        return footer;\r\n    }\r\n\r\n    handleCheckAll(value) {\r\n        this.selectedRows = value ? this.rows : [];\r\n        this.destroy();\r\n        this.createTable();\r\n    }\r\n\r\n    handleSort(column) {\r\n        if (this.sortColumn === column) {\r\n            this.sort = !this.sort;\r\n        } else {\r\n            this.sort = true;\r\n            this.sortColumn = column;\r\n        }\r\n\r\n        this.rows.sort((a, b) => {\r\n            const aValue = a[column.field];\r\n            const bValue = b[column.field];\r\n\r\n            if (this.sort) {\r\n                return aValue > bValue ? 1 : -1;\r\n            } else {\r\n                return aValue < bValue ? 1 : -1;\r\n            }\r\n        });\r\n\r\n        this.destroy();\r\n        this.createTable();\r\n    }\r\n\r\n    handleCheck(row, value) {\r\n        if (value) {\r\n            this.selectedRows = [...this.selectedRows, row];\r\n        } else {\r\n            this.selectedRows = this.selectedRows.filter((selectedRow) => selectedRow !== row);\r\n        }\r\n        this.destroy();\r\n        this.createTable();\r\n    }\r\n\r\n    handleRowClick(row, e) {\r\n        const tableRow = e.currentTarget;\r\n        tableRow.classList.toggle(\"selected\");\r\n\r\n        const checkbox = tableRow.querySelector(\"input[type=checkbox]\");\r\n        checkbox.checked = !checkbox.checked;\r\n\r\n        if (checkbox.checked) {\r\n            this.selectedRows = [...this.selectedRows, row];\r\n        } else {\r\n            this.selectedRows = this.selectedRows.filter((selectedRow) => selectedRow !== row);\r\n        }\r\n        this.destroy();\r\n        this.createTable();\r\n    }\r\n\r\n    handleClickSearch() {\r\n        this.isSearch = true;\r\n        this.destroy();\r\n        this.createTable();\r\n    }\r\n\r\n    handleSubmitSearch(e) {\r\n        this.search = e.target.value;\r\n        this.searchRow();\r\n    }\r\n\r\n    handleCloseSearch() {\r\n        this.search = \"\";\r\n        this.isSearch = false;\r\n        this.searchRow();\r\n    }\r\n\r\n    handleRowsPerPage(e) {\r\n        const select = e.currentTarget;\r\n\r\n        // this.rowsPerPage =\r\n        //     this.rows.length < parseInt(select.value) ? this.rows.length : parseInt(select.value);\r\n        this.rowsPerPage = parseInt(select.value);\r\n        this.pages = Math.ceil(this.rows.length / this.rowsPerPage);\r\n\r\n        this.checkPage();\r\n        this.destroy();\r\n        this.createTable();\r\n    }\r\n\r\n    handlePrev() {\r\n        this.page--;\r\n        this.destroy();\r\n        this.createTable();\r\n    }\r\n\r\n    handleNext() {\r\n        this.page++;\r\n        this.destroy();\r\n        this.createTable();\r\n    }\r\n\r\n    repaint(patients) {\r\n        this.rows = patients;\r\n        this.destroy();\r\n        this.createTable();\r\n    }\r\n\r\n    destroy() {\r\n        this.table.remove();\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Table);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/Table.js?");

/***/ }),

/***/ "./src/js/classes/Thumbs.js":
/*!**********************************!*\
  !*** ./src/js/classes/Thumbs.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _modules_Tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules/Tools */ \"./src/js/modules/Tools.js\");\n/* harmony import */ var _modules_Icons__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../modules/Icons */ \"./src/js/modules/Icons.js\");\n\r\n\r\n\r\nclass Thumbs {\r\n    constructor(data) {\r\n        Object.assign(this, data);\r\n    }\r\n\r\n    add(file, options) {\r\n        const filesArea = document.querySelector(\"#files-area\");\r\n        const thumb = this.create(file, options);\r\n        filesArea.appendChild(thumb);\r\n    }\r\n\r\n    show(files, options) {\r\n        const filesArea = document.querySelector(\"#files-area\");\r\n\r\n        _modules_Tools__WEBPACK_IMPORTED_MODULE_0__.tools.cleanHTML(filesArea);\r\n\r\n        const fragment = document.createDocumentFragment();\r\n        files.forEach((file) => {\r\n            const thumb = this.create(file, options);\r\n            fragment.appendChild(thumb);\r\n        });\r\n        filesArea.appendChild(fragment);\r\n    }\r\n\r\n    clear() {\r\n        const filesArea = document.querySelector(\"#files-area\");\r\n        _modules_Tools__WEBPACK_IMPORTED_MODULE_0__.tools.cleanHTML(filesArea);\r\n    }\r\n\r\n    create(file, options) {\r\n        const { name, size, image, pages, unitPrice, totalPrice } = file;\r\n\r\n        const thumbEl = document.createElement(\"div\");\r\n        thumbEl.classList.add(\"thumb\");\r\n        thumbEl.addEventListener(\"click\", () => {\r\n            if (innerWidth < 1024) {\r\n                const filesArea = document.querySelector(\"#files-area\");\r\n                const thumbs = filesArea.querySelectorAll(\".thumb\");\r\n\r\n                thumbs.forEach((thumb) => {\r\n                    if (thumb !== thumbEl) {\r\n                        thumb.classList.remove(\"active\");\r\n                    }\r\n                });\r\n\r\n                thumbEl.classList.toggle(\"active\");\r\n            }\r\n        });\r\n\r\n        const tooltip = document.createElement(\"div\");\r\n        tooltip.classList.add(\"thumb-tooltip\");\r\n        thumbEl.appendChild(tooltip);\r\n\r\n        const spanPages = document.createElement(\"span\");\r\n        spanPages.textContent = `${_modules_Tools__WEBPACK_IMPORTED_MODULE_0__.tools.formatBytes(size)} - ${pages} ${\r\n            pages === 1 ? \"página\" : \"páginas\"\r\n        }`;\r\n        tooltip.appendChild(spanPages);\r\n\r\n        const deleteContainer = document.createElement(\"div\");\r\n        deleteContainer.classList.add(\"delete\");\r\n        thumbEl.appendChild(deleteContainer);\r\n\r\n        const deleteBtn = document.createElement(\"button\");\r\n        deleteBtn.type = \"button\";\r\n        deleteBtn.addEventListener(\"click\", (e) => {\r\n            e.stopPropagation();\r\n            this.onDelete(file);\r\n        });\r\n        deleteContainer.appendChild(deleteBtn);\r\n\r\n        const deleteIcon = _modules_Icons__WEBPACK_IMPORTED_MODULE_1__.icons.get(\"trash\");\r\n        deleteBtn.appendChild(deleteIcon);\r\n\r\n        const imageDiv = document.createElement(\"div\");\r\n        imageDiv.classList.add(\"image\");\r\n        thumbEl.appendChild(imageDiv);\r\n\r\n        const img = document.createElement(\"img\");\r\n        img.src = image;\r\n        img.alt = `Thumbnail ${name}`;\r\n        if (options.color === \"color\") {\r\n            img.classList.add(\"color\");\r\n        }\r\n        imageDiv.appendChild(img);\r\n\r\n        const nameDiv = document.createElement(\"div\");\r\n        nameDiv.classList.add(\"name\");\r\n        nameDiv.textContent = name;\r\n        thumbEl.appendChild(nameDiv);\r\n\r\n        const price = document.createElement(\"div\");\r\n        price.classList.add(\"price\");\r\n        thumbEl.appendChild(price);\r\n\r\n        const spanUnitPrice = document.createElement(\"span\");\r\n        spanUnitPrice.classList.add(\"unit\");\r\n        spanUnitPrice.textContent = _modules_Tools__WEBPACK_IMPORTED_MODULE_0__.tools.formatCurrency(unitPrice);\r\n        price.appendChild(spanUnitPrice);\r\n\r\n        const spanTotalPrice = document.createElement(\"span\");\r\n        spanTotalPrice.classList.add(\"total\");\r\n        spanTotalPrice.textContent = _modules_Tools__WEBPACK_IMPORTED_MODULE_0__.tools.formatCurrency(totalPrice);\r\n        price.appendChild(spanTotalPrice);\r\n\r\n        return thumbEl;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Thumbs);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/Thumbs.js?");

/***/ }),

/***/ "./src/js/classes/Tooltip.js":
/*!***********************************!*\
  !*** ./src/js/classes/Tooltip.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass Tooltip {\r\n    constructor(data) {\r\n        Object.assign(this, data);\r\n\r\n        this.isActive = false;\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        window.addEventListener(\"scroll\", this.handleScroll.bind(this));\r\n        this.target.addEventListener(\"mouseenter\", this.handleMouseEnter.bind(this));\r\n        this.target.addEventListener(\"mouseleave\", this.handleMouseLeave.bind(this));\r\n    }\r\n\r\n    handleScroll() {\r\n        if (this.isActive) {\r\n\r\n            this.setPosition();\r\n        }\r\n    }\r\n\r\n    handleMouseEnter() {\r\n        this.isActive = true;\r\n\r\n        this.tooltipEl = this.create();\r\n        document.body.appendChild(this.tooltipEl);\r\n\r\n        this.setPosition();\r\n    }\r\n\r\n    handleMouseLeave() {\r\n        this.isActive = false;\r\n\r\n        this.remove();\r\n    }\r\n\r\n    create() {\r\n        const tooltip = document.createElement(\"div\");\r\n        tooltip.addEventListener(\"mouseenter\", () => {\r\n            this.isActive = true;\r\n        });\r\n        tooltip.addEventListener(\"mouseleave\", () => {\r\n            this.isActive = false;\r\n        });\r\n        tooltip.classList.add(\"tooltip\", this.position);\r\n\r\n        const span = document.createElement(\"span\");\r\n        span.textContent = this.message;\r\n        tooltip.appendChild(span);\r\n\r\n        return tooltip;\r\n    }\r\n\r\n    remove() {\r\n        this.tooltipEl.remove();\r\n    }\r\n\r\n    setPosition() {\r\n        const rect = this.target.getBoundingClientRect();\r\n\r\n        this.tooltipEl.style.left =\r\n            rect.left + this.target.offsetWidth / 2 - this.tooltipEl.offsetWidth / 2 + \"px\";\r\n\r\n        if (this.position === \"bottom\") {\r\n            if (\r\n                rect.top + this.tooltipEl.offsetHeight + this.target.offsetHeight + 10 >\r\n                window.innerHeight\r\n            ) {\r\n                this.tooltipEl.style.top = rect.top - this.tooltipEl.offsetHeight - 10 + \"px\";\r\n                this.tooltipEl.classList.remove(\"bottom\");\r\n                this.tooltipEl.classList.add(\"top\");\r\n            } else {\r\n                this.tooltipEl.style.top = rect.top + this.target.offsetHeight + 10 + \"px\";\r\n            }\r\n        } else {\r\n            if (rect.top - this.tooltipEl.offsetHeight - 10 < 0) {\r\n                this.tooltipEl.style.top = rect.top + this.target.offsetHeight + 10 + \"px\";\r\n                this.tooltipEl.classList.remove(\"top\");\r\n                this.tooltipEl.classList.add(\"bottom\");\r\n            } else {\r\n                this.tooltipEl.style.top = rect.top - this.tooltipEl.offsetHeight - 10 + \"px\";\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Tooltip);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/Tooltip.js?");

/***/ }),

/***/ "./src/js/classes/Upload.js":
/*!**********************************!*\
  !*** ./src/js/classes/Upload.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Confirm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Confirm */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _modules_Tools__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../modules/Tools */ \"./src/js/modules/Tools.js\");\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../app */ \"./src/js/app.js\");\n\r\n\r\n\r\n\r\nclass Upload {\r\n    constructor({ cart, details, addresses, onUpload, onClick }) {\r\n        this.cart = cart;\r\n        this.details = details;\r\n        this.addresses = addresses;\r\n\r\n        this.onUpload = onUpload;\r\n        this.onClick = onClick;\r\n\r\n        this.xhr = null;\r\n\r\n        this.isUpload = false;\r\n        this.order = null;\r\n    }\r\n\r\n    create() {\r\n        const uploadEl = document.createElement(\"div\");\r\n        uploadEl.classList.add(\"upload\");\r\n\r\n        const titleEl = document.createElement(\"div\");\r\n        titleEl.classList.add(\"title\");\r\n        titleEl.textContent = \"Sube tus impresiones a nuestros servidores para continuar.\";\r\n        uploadEl.appendChild(titleEl);\r\n\r\n        const progressEl = document.createElement(\"div\");\r\n        progressEl.classList.add(\"progress\");\r\n        uploadEl.appendChild(progressEl);\r\n\r\n        const progressValueEl = document.createElement(\"div\");\r\n        progressValueEl.id = \"progress\";\r\n        progressValueEl.classList.add(\"value\");\r\n        progressEl.appendChild(progressValueEl);\r\n\r\n        const infoEl = document.createElement(\"div\");\r\n        infoEl.classList.add(\"info\");\r\n        uploadEl.appendChild(infoEl);\r\n\r\n        const percentageEl = document.createElement(\"div\");\r\n        percentageEl.id = \"percentage\";\r\n        percentageEl.classList.add(\"percentage\");\r\n        infoEl.appendChild(percentageEl);\r\n\r\n        const bytesEl = document.createElement(\"div\");\r\n        bytesEl.id = \"bytes\";\r\n        bytesEl.classList.add(\"bytes\");\r\n        infoEl.appendChild(bytesEl);\r\n\r\n        const messageEl = document.createElement(\"div\");\r\n        messageEl.id = \"message\";\r\n        messageEl.classList.add(\"message\");\r\n        uploadEl.appendChild(messageEl);\r\n\r\n        const actionsEl = document.createElement(\"div\");\r\n        actionsEl.classList.add(\"actions\");\r\n        uploadEl.appendChild(actionsEl);\r\n\r\n        const uploadBtnEl = document.createElement(\"button\");\r\n        uploadBtnEl.id = \"upload-btn\";\r\n        uploadBtnEl.classList.add(\"btn\", \"primary-btn\", \"pulse\");\r\n        uploadBtnEl.ariaLabel = \"Subir archivos\";\r\n        uploadBtnEl.textContent = \"Subir impresiones\";\r\n        uploadBtnEl.addEventListener(\"click\", this.handleUpload.bind(this));\r\n        actionsEl.appendChild(uploadBtnEl);\r\n\r\n        const cancelBtnEl = document.createElement(\"button\");\r\n        cancelBtnEl.id = \"cancel-btn\";\r\n        cancelBtnEl.classList.add(\"btn\", \"secondary-btn\", \"hidden\");\r\n        cancelBtnEl.ariaLabel = \"Cancelar subida\";\r\n        cancelBtnEl.textContent = \"Cancelar\";\r\n        cancelBtnEl.addEventListener(\"click\", this.handleCancel.bind(this));\r\n        actionsEl.appendChild(cancelBtnEl);\r\n\r\n        const paymentBtnEl = document.createElement(\"button\");\r\n        paymentBtnEl.id = \"payment-btn\";\r\n        paymentBtnEl.classList.add(\"btn\", \"primary-btn\", \"pulse\", \"hidden\");\r\n        paymentBtnEl.ariaLabel = \"Pagar\";\r\n        paymentBtnEl.textContent = \"Pagar ahora\";\r\n        paymentBtnEl.addEventListener(\"click\", () => {\r\n            this.onClick(this.order);\r\n        });\r\n        actionsEl.appendChild(paymentBtnEl);\r\n\r\n        return uploadEl;\r\n    }\r\n\r\n    async handleUpload() {\r\n        this.xhr = new XMLHttpRequest();\r\n\r\n        const data = new FormData();\r\n\r\n        data.append(\"details\", JSON.stringify(this.details.get()));\r\n        data.append(\"shippingAddress\", JSON.stringify(this.addresses.getSelectedShippingAddress()));\r\n        data.append(\"billingAddress\", JSON.stringify(this.addresses.getSelectedBillingAddress()));\r\n        data.append(\"cart\", JSON.stringify(this.cart.get()));\r\n\r\n        this.cart.get().forEach((item, i) => {\r\n            item.files.forEach((file, j) => {\r\n                data.append(`${i}[]`, file.file);\r\n            });\r\n        });\r\n\r\n        const result = await this.uploadFiles(data);\r\n\r\n        if (result.status !== 200) {\r\n            this.clear();\r\n            return;\r\n        }\r\n    }\r\n\r\n    handleCancel() {\r\n        this.xhr.abort();\r\n        this.clear();\r\n    }\r\n\r\n    async uploadFiles(data) {\r\n        try {\r\n            const url = \"/api/order/create\";\r\n            const result = await this.request({ method: \"POST\", url, data, type: \"json\" });\r\n\r\n            if (result.status === 200) {\r\n                this.order = result.response.order;\r\n\r\n                this.onUpload(result.response.order);\r\n            }\r\n\r\n            return result;\r\n        } catch (error) {\r\n            return error;\r\n        }\r\n    }\r\n\r\n    request({ method, url, data, type }) {\r\n        const self = this;\r\n\r\n        return new Promise((resolve, reject) => {\r\n            this.xhr.responseType = type;\r\n            this.xhr.open(method, url);\r\n            this.xhr.addEventListener(\"loadstart\", loadstart);\r\n            this.xhr.addEventListener(\"load\", load);\r\n            this.xhr.addEventListener(\"loadend\", loadend);\r\n            this.xhr.upload.addEventListener(\"progress\", progress);\r\n            this.xhr.addEventListener(\"error\", error);\r\n            this.xhr.addEventListener(\"abort\", abort);\r\n            this.xhr.send(data);\r\n\r\n            function loadstart() {\r\n                const message = document.querySelector(\"#message\");\r\n                const uploadBtn = document.querySelector(\"#upload-btn\");\r\n                const cancelBtn = document.querySelector(\"#cancel-btn\");\r\n\r\n                message.classList.add(\"active\");\r\n                message.textContent = \"Por favor, espera mientras se suben tus archivos...\";\r\n\r\n                uploadBtn.classList.add(\"hidden\");\r\n\r\n                self.isUpload = true;\r\n\r\n                _app__WEBPACK_IMPORTED_MODULE_2__.navigator.setOnBeforeunload(async () => {\r\n                    if (self.isUpload) {\r\n                        const confirm = new _Confirm__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n                            title: \"¿Cancelar subida?\",\r\n                            description: \"Hay archivos subiéndose, ¿estás seguro de que deseas salir?\",\r\n                            accept: \"Salir\",\r\n                            cancel: \"Cancelar\",\r\n                        });\r\n                        const confirmResponse = await confirm.question();\r\n\r\n                        if (!confirmResponse) {\r\n                            return false;\r\n                        }\r\n\r\n                        self.xhr.abort();\r\n                        return true;\r\n                    }\r\n                });\r\n            }\r\n\r\n            function load() {\r\n                if (this.status === 200) {\r\n                    resolve({\r\n                        status: this.status,\r\n                        response: this.response,\r\n                    });\r\n                } else {\r\n                    reject({ status: this.status });\r\n                }\r\n            }\r\n\r\n            function loadend() {\r\n                const percentage = document.querySelector(\"#percentage\");\r\n                const message = document.querySelector(\"#message\");\r\n                const uploadBtn = document.querySelector(\"#upload-btn\");\r\n                const cancelBtn = document.querySelector(\"#cancel-btn\");\r\n                const paymentBtn = document.querySelector(\"#payment-btn\");\r\n\r\n                percentage.textContent = \"100%\";\r\n                if (this.status === 200) {\r\n                    message.textContent = \"¡Archivos subidos correctamente!\";\r\n                    paymentBtn.classList.remove(\"hidden\");\r\n                    return;\r\n                }\r\n                message.textContent = \"Subida de archivos cancelada\";\r\n                uploadBtn.classList.remove(\"hidden\");\r\n            }\r\n\r\n            function progress(e) {\r\n                if (e.lengthComputable) {\r\n                    const progress = document.querySelector(\"#progress\");\r\n                    const percentage = document.querySelector(\"#percentage\");\r\n                    const bytes = document.querySelector(\"#bytes\");\r\n\r\n                    const percentComplete = ((e.loaded / e.total) * 100).toFixed(2);\r\n\r\n                    progress.style.width = `${percentComplete}%`;\r\n                    percentage.textContent = `${percentComplete}% subido... por favor espera`;\r\n                    bytes.textContent = `Subido ${_modules_Tools__WEBPACK_IMPORTED_MODULE_1__.tools.formatBytes(\r\n                        e.loaded\r\n                    )} de ${_modules_Tools__WEBPACK_IMPORTED_MODULE_1__.tools.formatBytes(e.total)}`;\r\n                }\r\n            }\r\n\r\n            function error() {\r\n                reject({ status: this.status });\r\n            }\r\n\r\n            function abort(e) {\r\n                reject({ status: this.status });\r\n            }\r\n        });\r\n    }\r\n\r\n    clear() {\r\n        const progress = document.querySelector(\"#progress\");\r\n        const percentage = document.querySelector(\"#percentage\");\r\n        const bytes = document.querySelector(\"#bytes\");\r\n\r\n        requestAnimationFrame(() => {\r\n            progress.style.transition = \"none\";\r\n            progress.style.width = 0;\r\n            percentage.textContent = \"\";\r\n            bytes.textContent = \"\";\r\n            requestAnimationFrame(() => {\r\n                progress.removeAttribute(\"style\");\r\n            });\r\n        });\r\n    }\r\n\r\n    complete() {\r\n        const progress = document.querySelector(\"#progress\");\r\n        const percentage = document.querySelector(\"#percentage\");\r\n        const bytes = document.querySelector(\"#bytes\");\r\n        const message = document.querySelector(\"#message\");\r\n        const uploadBtn = document.querySelector(\"#upload-btn\");\r\n        const cancelBtn = document.querySelector(\"#cancel-btn\");\r\n        const paymentBtn = document.querySelector(\"#payment-btn\");\r\n\r\n        progress.style.width = \"100%\";\r\n        percentage.textContent = \"100%\";\r\n        const size = this.cart.get().reduce((acc, item) => {\r\n            return acc + item.resume.size;\r\n        }, 0);\r\n        bytes.textContent = `Subido ${_modules_Tools__WEBPACK_IMPORTED_MODULE_1__.tools.formatBytes(size)} de ${_modules_Tools__WEBPACK_IMPORTED_MODULE_1__.tools.formatBytes(size)}`;\r\n        message.textContent = \"¡Archivos subidos correctamente!\";\r\n\r\n        uploadBtn.classList.add(\"hidden\");\r\n        paymentBtn.classList.remove(\"hidden\");\r\n    }\r\n\r\n    show() {\r\n        const uploadContainer = document.querySelector(\"#upload\");\r\n\r\n        this.uploadEl = this.create();\r\n\r\n        uploadContainer.appendChild(this.uploadEl);\r\n\r\n        if (this.isUpload) {\r\n            this.complete();\r\n        }\r\n    }\r\n\r\n    repaint() {\r\n        if (this.uploadEl) {\r\n            this.uploadEl.remove();\r\n        }\r\n\r\n        this.show();\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Upload);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/Upload.js?");

/***/ }),

/***/ "./src/js/classes/auth/Login.js":
/*!**************************************!*\
  !*** ./src/js/classes/auth/Login.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _mio_Input__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mio/Input */ \"./src/js/classes/mio/Input.js\");\n/* harmony import */ var _mio_IconButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../mio/IconButton */ \"./src/js/classes/mio/IconButton.js\");\n/* harmony import */ var _mio_Checkbox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../mio/Checkbox */ \"./src/js/classes/mio/Checkbox.js\");\n/* harmony import */ var _LoadingButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../LoadingButton */ \"./src/js/classes/LoadingButton.js\");\n/* harmony import */ var _Popup__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Popup */ \"./src/js/classes/Popup.js\");\n/* harmony import */ var _modules_Icons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../modules/Icons */ \"./src/js/modules/Icons.js\");\n/* harmony import */ var _modules_Api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../modules/Api */ \"./src/js/modules/Api.js\");\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../app */ \"./src/js/app.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Login {\r\n    constructor({ req }) {\r\n        this.values = {\r\n            email: \"\",\r\n            currentPassword: \"\",\r\n            remember: false,\r\n        };\r\n\r\n        this.errors = {\r\n            email: \"\",\r\n            currentPassword: \"\",\r\n        };\r\n\r\n        this.req = req;\r\n        this.form = null;\r\n        this.submitBtn = null;\r\n        this.passwordHidden = true;\r\n    }\r\n\r\n    create() {\r\n        const login = document.querySelector(\"#login\");\r\n\r\n        this.form = document.createElement(\"form\");\r\n        this.form.classList.add(\"mio-form\");\r\n        this.form.noValidate = true;\r\n        this.form.addEventListener(\"submit\", this.handleSubmit.bind(this));\r\n        login.appendChild(this.form);\r\n\r\n        const email = new _mio_Input__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Email\",\r\n                for: \"email\",\r\n            },\r\n            input: {\r\n                type: \"email\",\r\n                name: \"email\",\r\n                id: \"email\",\r\n                autocomplete: \"username\",\r\n                value: this.values.email,\r\n            },\r\n            error: this.errors.email.length > 0,\r\n            message: this.errors.email,\r\n            onInput: (value) => {\r\n                this.values.email = value;\r\n                this.errors.email = \"\";\r\n            },\r\n        });\r\n        this.form.appendChild(email.getField());\r\n\r\n        const visibility = new _mio_IconButton__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            ariaLabel: \"Mostrar contraseña\",\r\n            buttonSize: \"medium\",\r\n            svgSize: \"large\",\r\n            icon: _modules_Icons__WEBPACK_IMPORTED_MODULE_5__.icons.get(`${this.passwordHidden ? \"eyeFill\" : \"eyeSlashFill\"}`),\r\n            onClick: () => {\r\n                this.passwordHidden = !this.passwordHidden;\r\n                this.repaint();\r\n            },\r\n        });\r\n\r\n        const currentPassword = new _mio_Input__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Contraseña\",\r\n                for: \"currentPassword\",\r\n            },\r\n            input: {\r\n                type: `${this.passwordHidden ? \"password\" : \"text\"}`,\r\n                name: \"currentPassword\",\r\n                id: \"currentPassword\",\r\n                autocomplete: \"current-password\",\r\n                value: this.values.currentPassword,\r\n            },\r\n            adornment: visibility.get(),\r\n            error: this.errors.currentPassword.length > 0,\r\n            message: this.errors.currentPassword,\r\n            onInput: (value) => {\r\n                this.values.currentPassword = value;\r\n                this.errors.currentPassword = \"\";\r\n            },\r\n        });\r\n        this.form.appendChild(currentPassword.getField());\r\n\r\n        const remeber = new _mio_Checkbox__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            label: {\r\n                text: \"Recuérdame\",\r\n                for: \"remember\",\r\n            },\r\n            input: {\r\n                name: \"remember\",\r\n                id: \"remember\",\r\n                value: this.values.remember,\r\n            },\r\n            onClick: (value) => {\r\n                this.values.remember = value;\r\n                this.repaint();\r\n            },\r\n        });\r\n        this.form.appendChild(remeber.getField());\r\n\r\n        const submitField = document.createElement(\"div\");\r\n        submitField.classList.add(\"mio-field\");\r\n        this.form.appendChild(submitField);\r\n\r\n        this.submitBtn = new _LoadingButton__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            type: \"submit\",\r\n            text: \"Iniciar sesión\",\r\n            classes: [\"btn\", \"primary-btn\"],\r\n        });\r\n        submitField.appendChild(this.submitBtn.get());\r\n    }\r\n\r\n    async handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        const response = await _modules_Api__WEBPACK_IMPORTED_MODULE_6__.api.post(\"/api/user/login\", this.values);\r\n\r\n        this.submitBtn.stop();\r\n\r\n        if (response.status === \"error\") {\r\n            this.setErrors(response.errors);\r\n            this.repaint();\r\n            return;\r\n        }\r\n\r\n        const popup = new _Popup__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            title: `¡Bienvenido ${response.user.name}!`,\r\n            message: `${\r\n                this.req.path === \"checkout\"\r\n                    ? \"Puedes seguir con el proceso de compra\"\r\n                    : \"Te vamos a redirigir a la página principal\"\r\n            }`,\r\n            type: \"success\",\r\n            timer: 4000,\r\n        });\r\n        await popup.open();\r\n\r\n        if (this.req.path === \"checkout\") {\r\n            _app__WEBPACK_IMPORTED_MODULE_7__.navigator.reload();\r\n            return;\r\n        }\r\n\r\n        _app__WEBPACK_IMPORTED_MODULE_7__.navigator.goTo(\"/\");\r\n    }\r\n\r\n    setErrors(responseErrors) {\r\n        for (const key of Object.keys(responseErrors)) {\r\n            if (this.errors[key] !== undefined) {\r\n                this.errors[key] = responseErrors[key];\r\n            }\r\n        }\r\n    }\r\n\r\n    repaint() {\r\n        this.form.remove();\r\n        this.create();\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Login);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/auth/Login.js?");

/***/ }),

/***/ "./src/js/classes/mio/Checkbox.js":
/*!****************************************!*\
  !*** ./src/js/classes/mio/Checkbox.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Form_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Form.js */ \"./src/js/classes/mio/Form.js\");\n/* harmony import */ var _IconButton_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./IconButton.js */ \"./src/js/classes/mio/IconButton.js\");\n/* harmony import */ var _modules_Icons_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../modules/Icons.js */ \"./src/js/modules/Icons.js\");\n\r\n\r\n\r\n\r\nclass Checkbox extends _Form_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(data) {\r\n        super(data);\r\n\r\n        Object.assign(this, data);\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.field = this.create();\r\n    }\r\n\r\n    create() {\r\n        const field = this.createField();\r\n\r\n        const wrapper = this.createWrapper();\r\n        field.appendChild(wrapper);\r\n\r\n        this.checkbox = this.createCheckbox();\r\n        wrapper.appendChild(this.checkbox);\r\n\r\n        const label = this.createLabel();\r\n        wrapper.appendChild(label);\r\n\r\n        if (this.message) {\r\n            const message = this.createMessage();\r\n            field.appendChild(message);\r\n        }\r\n\r\n        return field;\r\n    }\r\n\r\n    createCheckbox() {\r\n        const input = document.createElement(\"input\");\r\n        input.classList.add(\"mio-checkbox-input\");\r\n\r\n        input.type = \"checkbox\";\r\n        input.name = this.input.name;\r\n        input.id = this.input.id;\r\n\r\n        if (this.input.value) {\r\n            input.checked = true;\r\n        }\r\n\r\n        return input;\r\n    }\r\n\r\n    createLabel() {\r\n        const label = document.createElement(\"label\");\r\n        label.classList.add(\"mio-checkbox-label\");\r\n        label.htmlFor = this.label.for;\r\n        label.addEventListener(\"click\", () => {\r\n            this.checkbox.checked = !this.checkbox.checked;\r\n            this.removeMessage();\r\n            this.onClick(this.checkbox.checked);\r\n        });\r\n\r\n        const checkIcon = new _IconButton_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            ariaLabel: \"Recuérdame\",\r\n            buttonSize: \"large\",\r\n            svgSize: \"large\",\r\n            icon: _modules_Icons_js__WEBPACK_IMPORTED_MODULE_2__.icons.get(`${this.checkbox.checked ? \"checkSquareFill\" : \"square\"}`),\r\n            onClick: () => {\r\n                this.checkbox.checked = !this.checkbox.checked;\r\n                this.removeMessage();\r\n                this.onClick(this.checkbox.checked);\r\n            },\r\n        });\r\n        label.appendChild(checkIcon.get());\r\n\r\n        if (this.label.text) {\r\n            const text = document.createElement(\"span\");\r\n            text.classList.add(\"mio-checkbox-text\");\r\n            text.innerText = this.label.text;\r\n            label.appendChild(text);\r\n        }\r\n\r\n        return label;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Checkbox);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/mio/Checkbox.js?");

/***/ }),

/***/ "./src/js/classes/mio/Form.js":
/*!************************************!*\
  !*** ./src/js/classes/mio/Form.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass Form {\r\n    constructor() {\r\n        if (this.constructor === Form) {\r\n            throw new TypeError(\"Abstract class 'Form' cannot be instantiated directly.\");\r\n        }\r\n\r\n        window.addEventListener(\"load\", () => {\r\n            const autofilledInput = this.field.querySelector(\"input:-webkit-autofill\");\r\n\r\n            if (autofilledInput) {\r\n                this.field.classList.add(\"active\");\r\n            }\r\n        });\r\n    }\r\n\r\n    getField() {\r\n        return this.field;\r\n    }\r\n\r\n    createField() {\r\n        const field = document.createElement(\"div\");\r\n        field.classList.add(\"mio-field\");\r\n        if (this.input.value !== \"\") {\r\n            field.classList.add(\"active\");\r\n        }\r\n        if (this.error) {\r\n            field.classList.add(\"error\");\r\n        }\r\n\r\n        return field;\r\n    }\r\n\r\n    createWrapper() {\r\n        const wrapper = document.createElement(\"div\");\r\n        wrapper.classList.add(\"mio-wrapper\");\r\n\r\n        return wrapper;\r\n    }\r\n\r\n    createLabel() {\r\n        const label = document.createElement(\"label\");\r\n        label.classList.add(\"mio-label\");\r\n        label.textContent = this.label.text;\r\n        label.htmlFor = this.label.for;\r\n\r\n        return label;\r\n    }\r\n\r\n    createAdornment() {\r\n        this.adornmentEl = document.createElement(\"div\");\r\n        this.adornmentEl.classList.add(\"mio-adornment\");\r\n\r\n        this.adornmentEl.appendChild(this.adornment);\r\n\r\n        return this.adornmentEl;\r\n    }\r\n\r\n    createMessage() {\r\n        if (!this.message) {\r\n            return;\r\n        }\r\n\r\n        this.messageEl = document.createElement(\"div\");\r\n        this.messageEl.classList.add(\"mio-message\");\r\n        if (this.error) {\r\n            this.messageEl.classList.add(\"mio-error\");\r\n        }\r\n        this.messageEl.textContent = this.message;\r\n\r\n        return this.messageEl;\r\n    }\r\n\r\n    removeMessage() {\r\n        if (!this.messageEl) {\r\n            return;\r\n        }\r\n        this.messageEl.remove();\r\n        if (this.error) {\r\n            this.field.classList.remove(\"error\");\r\n            this.messageEl.classList.remove(\"mio-error\");\r\n        }\r\n    }\r\n\r\n    setValue(value) {\r\n        this.input.value = value;\r\n        this.field.classList.add(\"active\");\r\n        this.removeMessage();\r\n    }\r\n\r\n    handleBlur(e) {\r\n        console.log(\"blur\");\r\n        if (!e.target.value) {\r\n            this.field.classList.remove(\"active\");\r\n        }\r\n        this.field.classList.remove(\"focus\");\r\n\r\n        if (this.onBlur) {\r\n            this.onBlur(e.target.value);\r\n        }\r\n    }\r\n\r\n    handleFocus() {\r\n        console.log(\"focus\");\r\n        this.field.classList.add(\"active\");\r\n        this.field.classList.add(\"focus\");\r\n    }\r\n\r\n    handleInput(e) {\r\n        console.log(\"input\");\r\n        if (!this.manualErrorHandling) {\r\n            this.removeMessage();\r\n        }\r\n\r\n        if (this.onInput) {\r\n            this.onInput(e.target.value);\r\n        }\r\n    }\r\n\r\n    showError(message) {\r\n        this.error = true;\r\n        this.message = message;\r\n        this.field.classList.add(\"error\");\r\n        this.field.appendChild(this.createMessage());\r\n    }\r\n\r\n    removeError() {\r\n        this.error = false;\r\n        this.message = null;\r\n        this.field.classList.remove(\"error\");\r\n        this.removeMessage();\r\n    }\r\n\r\n    showAdornment(adornment) {\r\n        this.adornment = adornment;\r\n        this.wrapper.appendChild(this.createAdornment());\r\n    }\r\n\r\n    removeAdornment() {\r\n        if (!this.adornmentEl) {\r\n            return;\r\n        }\r\n        this.adornment = null;\r\n        this.adornmentEl.remove();\r\n    }\r\n\r\n    focus() {\r\n        this.input.focus();\r\n    }\r\n\r\n    blur() {\r\n        this.input.blur();\r\n    }\r\n\r\n    clear() {\r\n        this.input.value = \"\";\r\n        this.field.classList.remove(\"active\");\r\n\r\n        this.removeError();\r\n        this.removeAdornment();\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Form);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/mio/Form.js?");

/***/ }),

/***/ "./src/js/classes/mio/IconButton.js":
/*!******************************************!*\
  !*** ./src/js/classes/mio/IconButton.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass IconButton {\r\n    constructor(data) {\r\n        Object.assign(this, data);\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.iconButton = this.create();\r\n    }\r\n\r\n    get() {\r\n        return this.iconButton;\r\n    }\r\n\r\n    create() {\r\n        const iconButton = document.createElement(\"button\");\r\n\r\n        iconButton.type = this.type ?? \"button\";\r\n        iconButton.ariaLabel = this.ariaLabel ?? \"\";\r\n\r\n        iconButton.classList.add(\"mio-icon-btn\");\r\n\r\n        switch (this.buttonSize) {\r\n            case \"small\":\r\n                iconButton.classList.add(\"btn-size-small\");\r\n                break;\r\n            case \"medium\":\r\n                iconButton.classList.add(\"btn-size-medium\");\r\n                break;\r\n            case \"large\":\r\n                iconButton.classList.add(\"btn-size-large\");\r\n                break;\r\n            case \"xl\":\r\n                iconButton.classList.add(\"btn-size-xl\");\r\n                break;\r\n            default:\r\n                iconButton.classList.add(\"btn-medium-small\");\r\n                break;\r\n        }\r\n\r\n        switch (this.svgSize) {\r\n            case \"xs\":\r\n                iconButton.classList.add(\"svg-size-xs\");\r\n                break;\r\n            case \"small\":\r\n                iconButton.classList.add(\"svg-size-small\");\r\n                break;\r\n            case \"medium\":\r\n                iconButton.classList.add(\"svg-size-medium\");\r\n                break;\r\n            case \"large\":\r\n                iconButton.classList.add(\"svg-size-large\");\r\n                break;\r\n            case \"xl\":\r\n                iconButton.classList.add(\"svg-size-xl\");\r\n                break;\r\n            default:\r\n                iconButton.classList.add(\"svg-size-medium\");\r\n                break;\r\n        }\r\n\r\n        iconButton.addEventListener(\"click\", (e) => {\r\n            e.stopPropagation();\r\n            this.onClick();\r\n        });\r\n\r\n        iconButton.appendChild(this.icon);\r\n\r\n        return iconButton;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (IconButton);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/mio/IconButton.js?");

/***/ }),

/***/ "./src/js/classes/mio/Input.js":
/*!*************************************!*\
  !*** ./src/js/classes/mio/Input.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Form_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Form.js */ \"./src/js/classes/mio/Form.js\");\n\r\n\r\nclass Input extends _Form_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(data) {\r\n        super(data);\r\n\r\n        Object.assign(this, data);\r\n\r\n        this.create();\r\n    }\r\n\r\n    create() {\r\n        this.field = this.createField();\r\n\r\n        this.wrapper = this.createWrapper();\r\n        this.field.appendChild(this.wrapper);\r\n\r\n        this.label = this.createLabel();\r\n        this.wrapper.appendChild(this.label);\r\n\r\n        this.input = this.createInput();\r\n        this.wrapper.appendChild(this.input);\r\n\r\n        if (this.message && !this.manualErrorHandling) {\r\n            this.field.appendChild(this.createMessage());\r\n        }\r\n\r\n        if (this.adornment) {\r\n            this.wrapper.appendChild(this.createAdornment());\r\n        }\r\n\r\n        return this.field;\r\n    }\r\n\r\n    createInput() {\r\n        const input = document.createElement(\"input\");\r\n        input.classList.add(\"mio-input\");\r\n\r\n        input.type = this.input.type;\r\n        input.name = this.input.name;\r\n        input.id = this.input.id;\r\n        input.value = this.input.value;\r\n        if (this.input.autocomplete) {\r\n            input.autocomplete = this.input.autocomplete;\r\n        }\r\n        if (this.input.placeholder) {\r\n            input.placeholder = this.input.placeholder;\r\n        }\r\n        if (this.input.readOnly) {\r\n            input.readOnly = true;\r\n        }\r\n        if (this.input.maxLength) {\r\n            input.maxLength = this.input.maxLength;\r\n        }\r\n\r\n        input.focus();\r\n\r\n        input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n        input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n        input.addEventListener(\"input\", this.handleInput.bind(this));\r\n\r\n        input.addEventListener(\"change\", () => {\r\n            console.log(\"change\");\r\n        })\r\n\r\n        return input;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Input);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/mio/Input.js?");

/***/ }),

/***/ "./src/js/classes/mio/InputNumber.js":
/*!*******************************************!*\
  !*** ./src/js/classes/mio/InputNumber.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Form__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Form */ \"./src/js/classes/mio/Form.js\");\n/* harmony import */ var _IconButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./IconButton */ \"./src/js/classes/mio/IconButton.js\");\n/* harmony import */ var _modules_Icons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../modules/Icons */ \"./src/js/modules/Icons.js\");\n\r\n\r\n\r\n\r\nclass InputNumber extends _Form__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(data) {\r\n        super(data);\r\n\r\n        Object.assign(this, data);\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.field = this.create();\r\n    }\r\n\r\n    create() {\r\n        const field = this.createField();\r\n\r\n        const wrapper = this.createWrapper();\r\n        field.appendChild(wrapper);\r\n\r\n        const label = this.createLabel();\r\n        wrapper.appendChild(label);\r\n\r\n        this.inputEl = this.createInput();\r\n        wrapper.appendChild(this.inputEl);\r\n\r\n        if (this.message) {\r\n            const message = this.createMessage();\r\n            field.appendChild(message);\r\n        }\r\n\r\n        const incDec = this.createIncDec();\r\n        wrapper.appendChild(incDec);\r\n\r\n        return field;\r\n    }\r\n\r\n    createInput() {\r\n        const input = document.createElement(\"input\");\r\n        input.classList.add(\"mio-input\");\r\n\r\n        input.type = \"number\";\r\n        input.name = this.input.name;\r\n        input.id = this.input.id;\r\n        input.value = this.input.value;\r\n        if (this.input.min) {\r\n            input.min = this.min;\r\n        }\r\n        if (this.input.max) {\r\n            input.max = this.max;\r\n        }\r\n        if (this.input.step) {\r\n            input.step = this.step;\r\n        }\r\n        if (this.input.placeholder) {\r\n            input.placeholder = this.input.placeholder;\r\n        }\r\n\r\n        this.previousValue = input.value;\r\n\r\n        input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n        input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n        input.addEventListener(\"input\", this.handleInput.bind(this));\r\n        input.addEventListener(\"keypress\", this.handleKeypress.bind(this));\r\n\r\n        return input;\r\n    }\r\n\r\n    createIncDec() {\r\n        const incDec = document.createElement(\"div\");\r\n        incDec.classList.add(\"mio-inc-dec\");\r\n\r\n        const increase = new _IconButton__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            icon: _modules_Icons__WEBPACK_IMPORTED_MODULE_2__.icons.get(\"plus\"),\r\n            buttonSize: \"medium\",\r\n            svgSize: \"large\",\r\n            ariaLabel: \"Incrementar\",\r\n            onClick: () => {\r\n                const value = parseInt(this.inputEl.value);\r\n                const step = this.input.step;\r\n                const max = this.input.max;\r\n\r\n                if (max && value + step > max) {\r\n                    return;\r\n                }\r\n                this.inputEl.value = value + step;\r\n                this.previousValue = this.inputEl.value;\r\n\r\n                this.removeMessage();\r\n\r\n                if (this.onClick) {\r\n                    this.onClick(parseInt(this.inputEl.value));\r\n                }\r\n            },\r\n        });\r\n        incDec.appendChild(increase.get());\r\n\r\n        const decrease = new _IconButton__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            icon: _modules_Icons__WEBPACK_IMPORTED_MODULE_2__.icons.get(\"dash\"),\r\n            buttonSize: \"medium\",\r\n            svgSize: \"large\",\r\n            ariaLabel: \"Decrementar\",\r\n            onClick: () => {\r\n                const value = parseInt(this.inputEl.value);\r\n                const step = this.input.step;\r\n                const min = this.input.min;\r\n\r\n                if (min && value - step < min) {\r\n                    return;\r\n                }\r\n\r\n                this.inputEl.value = value - step;\r\n                this.previousValue = this.inputEl.value;\r\n\r\n                this.removeMessage();\r\n\r\n                if (this.onClick) {\r\n                    this.onClick(parseInt(this.inputEl.value));\r\n                }\r\n            },\r\n        });\r\n        incDec.appendChild(decrease.get());\r\n\r\n        return incDec;\r\n    }\r\n\r\n    handleInput(e) {\r\n        const value = parseInt(e.target.value);\r\n        const min = this.input.min;\r\n        const max = this.input.max;\r\n\r\n        if (!value) {\r\n            return;\r\n        }\r\n\r\n        this.removeMessage();\r\n\r\n        if (value < min) {\r\n            e.target.value = min;\r\n        } else if (value > max) {\r\n            e.target.value = max;\r\n        }\r\n\r\n        this.previousValue = value;\r\n        e.target.value = value;\r\n\r\n        if (this.onInput) {\r\n            this.onInput(value);\r\n        }\r\n    }\r\n\r\n    handleKeypress(e) {\r\n        const charCode = e.which ? e.which : e.keyCode;\r\n        if (charCode > 31 && (charCode < 48 || charCode > 57)) {\r\n            e.preventDefault();\r\n        }\r\n    }\r\n\r\n    handleBlur(e) {\r\n        const value = parseInt(e.target.value);\r\n\r\n        if (!value) {\r\n            e.target.value = this.previousValue;\r\n        }\r\n\r\n        this.field.classList.remove(\"focus\");\r\n\r\n        if (this.onBlur) {\r\n            this.onBlur(value);\r\n        }\r\n    }\r\n\r\n    createMessage() {\r\n        if (!this.message) {\r\n            return;\r\n        }\r\n\r\n        this.messageEl = document.createElement(\"div\");\r\n        this.messageEl.classList.add(\"mio-message\");\r\n        if (this.error) {\r\n            this.messageEl.classList.add(\"mio-error\");\r\n        }\r\n        this.messageEl.textContent = this.message;\r\n\r\n        return this.messageEl;\r\n    }\r\n\r\n    removeMessage() {\r\n        if (!this.messageEl) {\r\n            return;\r\n        }\r\n        this.messageEl.remove();\r\n        if (this.error) {\r\n            this.field.classList.remove(\"error\");\r\n            this.messageEl.classList.remove(\"mio-error\");\r\n        }\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (InputNumber);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/mio/InputNumber.js?");

/***/ }),

/***/ "./src/js/classes/mio/Select.js":
/*!**************************************!*\
  !*** ./src/js/classes/mio/Select.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Form__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Form */ \"./src/js/classes/mio/Form.js\");\n/* harmony import */ var _IconButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./IconButton */ \"./src/js/classes/mio/IconButton.js\");\n/* harmony import */ var _modules_Icons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../modules/Icons */ \"./src/js/modules/Icons.js\");\n\r\n\r\n\r\n\r\nclass Select extends _Form__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(data) {\r\n        super(data);\r\n\r\n        Object.assign(this, data);\r\n\r\n        this.activeOptions = false;\r\n\r\n        this.findText = \"\";\r\n        this.timeout = null;\r\n\r\n        this.activeIndex = 0;\r\n        this.selectedIndex = 0;\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        window.addEventListener(\"resize\", this.handleResize.bind(this));\r\n        window.addEventListener(\"scroll\", this.handleResize.bind(this));\r\n\r\n        this.create();\r\n    }\r\n\r\n    handleResize() {\r\n        if (this.customOptions) {\r\n            this.position();\r\n        }\r\n    }\r\n\r\n    create() {\r\n        this.field = this.createField();\r\n\r\n        const wrapper = this.createWrapper();\r\n        this.field.appendChild(wrapper);\r\n\r\n        this.customSelect = this.createCustomSelect();\r\n        wrapper.appendChild(this.customSelect);\r\n\r\n        this.labelEl = this.createLabel();\r\n        wrapper.appendChild(this.labelEl);\r\n\r\n        this.selectEl = this.createSelect();\r\n        wrapper.appendChild(this.selectEl);\r\n\r\n        this.optionsEl = this.createOptions();\r\n        this.selectEl.appendChild(this.optionsEl);\r\n\r\n        if (this.message) {\r\n            const message = this.createMessage();\r\n            this.field.appendChild(message);\r\n        }\r\n    }\r\n\r\n    createField() {\r\n        const field = document.createElement(\"div\");\r\n        field.classList.add(\"mio-field\");\r\n        if (this.selected) {\r\n            field.classList.add(\"active\");\r\n        }\r\n        if (this.error) {\r\n            field.classList.add(\"error\");\r\n        }\r\n\r\n        return field;\r\n    }\r\n\r\n    createCustomSelect() {\r\n        const select = document.createElement(\"div\");\r\n        select.classList.add(\"mio-input\");\r\n        select.addEventListener(\"click\", this.open.bind(this));\r\n\r\n        const span = document.createElement(\"span\");\r\n        span.textContent = \"\\u200b\";\r\n        select.appendChild(span);\r\n\r\n        const adornment = this.createAdornment();\r\n        select.appendChild(adornment);\r\n\r\n        return select;\r\n    }\r\n\r\n    createAdornment() {\r\n        const icon = document.createElement(\"div\");\r\n        icon.classList.add(\"mio-adornment\");\r\n\r\n        const iconButton = new _IconButton__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            type: \"button\",\r\n            ariaLabel: \"Button icon\",\r\n            buttonSize: \"medium\",\r\n            svgSize: \"xs\",\r\n            icon: _modules_Icons__WEBPACK_IMPORTED_MODULE_2__.icons.get(\"caretDownFill\"),\r\n            onClick: this.open.bind(this),\r\n        });\r\n\r\n        icon.appendChild(iconButton.get());\r\n\r\n        return icon;\r\n    }\r\n\r\n    createLabel() {\r\n        const label = document.createElement(\"label\");\r\n        label.classList.add(\"mio-label\");\r\n        label.textContent = this.label.text;\r\n        label.htmlFor = this.label.for;\r\n        label.addEventListener(\"click\", this.open.bind(this));\r\n        return label;\r\n    }\r\n\r\n    createSelect() {\r\n        const select = document.createElement(\"select\");\r\n        select.name = this.select.name;\r\n        select.id = this.select.id;\r\n        select.addEventListener(\"focus\", this.focusSelect.bind(this));\r\n        select.addEventListener(\"keydown\", this.handleKeydown.bind(this));\r\n        select.addEventListener(\"change\", this.handleInput.bind(this));\r\n        return select;\r\n    }\r\n\r\n    createOptions() {\r\n        const fragment = document.createDocumentFragment();\r\n\r\n        const optionEl = new Option();\r\n        fragment.appendChild(optionEl);\r\n\r\n        this.options.forEach((option, index) => {\r\n            const optionEl = new Option(option[this.option.text], option[this.option.value]);\r\n\r\n            if (\r\n                this.selected &&\r\n                this.selected.toString() === option[this.option.value].toString()\r\n            ) {\r\n                optionEl.selected = true;\r\n                this.field.classList.add(\"active\");\r\n                this.selectOption(option, index);\r\n            }\r\n\r\n            fragment.appendChild(optionEl);\r\n        });\r\n\r\n        return fragment;\r\n    }\r\n\r\n    focusSelect() {\r\n        this.selectEl.focus();\r\n        this.field.classList.add(\"active\");\r\n        this.field.classList.add(\"focus\");\r\n    }\r\n\r\n    blurSelect() {\r\n        this.selectEl.blur();\r\n        if (!this.selectedOption) {\r\n            this.field.classList.remove(\"active\");\r\n        }\r\n        this.field.classList.remove(\"focus\");\r\n    }\r\n\r\n    handleKeydown(e) {\r\n        switch (e.key) {\r\n            case \"Escape\":\r\n                this.blurSelect();\r\n                this.closeCustomOptions();\r\n                break;\r\n            case \"Tab\":\r\n                this.blurSelect();\r\n                this.closeCustomOptions();\r\n                break;\r\n            case \"ArrowDown\":\r\n                if (this.activeOptions) {\r\n                    this.blurOption();\r\n                    this.activeIndex = (this.activeIndex + 1) % this.optionsNodes.childNodes.length;\r\n                    this.focusOption();\r\n                } else {\r\n                    this.open();\r\n                }\r\n                break;\r\n            case \"ArrowUp\":\r\n                if (this.activeOptions) {\r\n                    this.blurOption();\r\n                    this.activeIndex =\r\n                        (this.optionsNodes.childNodes.length + (this.activeIndex - 1)) %\r\n                        this.optionsNodes.childNodes.length;\r\n                    this.focusOption();\r\n                }\r\n                break;\r\n            case \"Enter\":\r\n                if (this.activeOptions) {\r\n                    this.selectOption(this.options[this.activeIndex], this.activeIndex);\r\n                    this.onSelect(this.options[this.activeIndex]);\r\n                    this.removeMessage();\r\n                    this.closeCustomOptions();\r\n                } else {\r\n                    this.open();\r\n                }\r\n                break;\r\n            default:\r\n                this.findOption(e.key);\r\n                break;\r\n        }\r\n    }\r\n\r\n    async open() {\r\n        this.activeOptions = true;\r\n        this.focusSelect();\r\n        this.customOptions = this.createCustomOptions();\r\n        document.body.appendChild(this.customOptions);\r\n        this.position();\r\n        this.focusOption();\r\n    }\r\n\r\n    async closeCustomOptions() {\r\n        this.activeOptions = false;\r\n        this.activeIndex = this.selectedIndex;\r\n\r\n        this.blurSelect();\r\n\r\n        if (this.customOptions) {\r\n            this.customOptions.remove();\r\n        }\r\n    }\r\n\r\n    createCustomOptions() {\r\n        const options = document.createElement(\"div\");\r\n        options.classList.add(\"mio-options\");\r\n        options.addEventListener(\"click\", this.closeCustomOptions.bind(this));\r\n\r\n        const content = document.createElement(\"div\");\r\n        content.classList.add(\"content\");\r\n        content.addEventListener(\"click\", (e) => e.stopPropagation());\r\n        options.appendChild(content);\r\n\r\n        this.optionsNodes = content;\r\n\r\n        this.options.forEach((option, index) => {\r\n            const optionEl = document.createElement(\"div\");\r\n            optionEl.classList.add(\"option\");\r\n\r\n            if (option === this.selectedOption) optionEl.classList.add(\"selected\");\r\n            if (index === this.activeIndex) optionEl.classList.add(\"focus\");\r\n\r\n            optionEl.addEventListener(\"click\", () => {\r\n                this.selectOption(option, index);\r\n                this.onSelect(option);\r\n                this.removeMessage();\r\n                this.closeCustomOptions();\r\n            });\r\n\r\n            content.appendChild(optionEl);\r\n\r\n            const span = document.createElement(\"span\");\r\n            span.textContent = option[this.option.text];\r\n            optionEl.appendChild(span);\r\n        });\r\n\r\n        return options;\r\n    }\r\n\r\n    position() {\r\n        const rect = this.field.getBoundingClientRect();\r\n\r\n        this.customOptions.firstChild.style.maxHeight = `${210}px`;\r\n\r\n        if (\r\n            rect.top + this.customOptions.firstChild.offsetHeight + this.field.offsetHeight + 2 >\r\n            window.innerHeight\r\n        ) {\r\n            this.customOptions.firstChild.style.top = `${\r\n                rect.top - this.customOptions.firstChild.offsetHeight - 2\r\n            }px`;\r\n        } else {\r\n            this.customOptions.firstChild.style.top = `${rect.top + this.field.offsetHeight + 2}px`;\r\n        }\r\n\r\n        this.customOptions.firstChild.style.left = `${rect.left}px`;\r\n        this.customOptions.firstChild.style.width = `${this.field.offsetWidth}px`;\r\n    }\r\n\r\n    focusOption() {\r\n        this.optionsNodes.childNodes[this.activeIndex].scrollIntoView(false);\r\n        this.optionsNodes.childNodes[this.activeIndex].classList.add(\"focus\");\r\n    }\r\n\r\n    blurOption() {\r\n        this.optionsNodes.childNodes[this.activeIndex].classList.remove(\"focus\");\r\n    }\r\n\r\n    selectOption(option, index) {\r\n        this.selectedOption = option;\r\n\r\n        this.activeIndex = index;\r\n        this.selectedIndex = index;\r\n\r\n        this.selectEl.value = option[this.option.value];\r\n        this.customSelect.firstElementChild.textContent = option[this.option.text];\r\n    }\r\n\r\n    findOption(key) {\r\n        this.findText += key;\r\n\r\n        clearTimeout(this.timeout);\r\n        this.timeout = setTimeout(() => (this.findText = \"\"), 500);\r\n\r\n        this.options.forEach((option, index) => {\r\n            const text = option[this.option.text].toLowerCase();\r\n            const find = this.findText.toLowerCase();\r\n\r\n            if (text.includes(find)) {\r\n                this.selectEl.options[index].selected = true;\r\n\r\n                this.blurOption();\r\n                this.selectOption(option, index);\r\n                this.onSelect(option);\r\n                this.removeMessage();\r\n                this.focusOption();\r\n\r\n                return;\r\n            }\r\n        });\r\n    }\r\n\r\n    async animationend(target) {\r\n        return new Promise((resolve) => {\r\n            target.addEventListener(\"animationend\", resolve, { once: true });\r\n        });\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Select);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/mio/Select.js?");

/***/ }),

/***/ "./src/js/classes/mio/Switch.js":
/*!**************************************!*\
  !*** ./src/js/classes/mio/Switch.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Form_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Form.js */ \"./src/js/classes/mio/Form.js\");\n\r\n\r\nclass Switch extends _Form_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(data) {\r\n        super(data);\r\n\r\n        Object.assign(this, data);\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.field = this.create();\r\n    }\r\n\r\n    create() {\r\n        const field = this.createField();\r\n\r\n        const wrapper = this.createWrapper();\r\n        field.appendChild(wrapper);\r\n\r\n        this.switch = this.createSwitch();\r\n        wrapper.appendChild(this.switch);\r\n\r\n        const label = this.createLabel();\r\n        wrapper.appendChild(label);\r\n\r\n        if (this.message) {\r\n            const message = this.createMessage();\r\n            field.appendChild(message);\r\n        }\r\n\r\n        return field;\r\n    }\r\n\r\n    createSwitch() {\r\n        const input = document.createElement(\"input\");\r\n        input.classList.add(\"mio-switch-input\");\r\n\r\n        input.type = \"checkbox\";\r\n        input.name = this.input.name;\r\n        input.id = this.input.id;\r\n\r\n        if (this.input.value) {\r\n            input.checked = true;\r\n        }\r\n\r\n        input.addEventListener(\"change\", () => {\r\n            this.removeMessage();\r\n\r\n            this.callback(input.checked);\r\n        });\r\n\r\n        return input;\r\n    }\r\n\r\n    createLabel() {\r\n        const label = document.createElement(\"label\");\r\n        label.classList.add(\"mio-switch-label\", this.size);\r\n        label.textContent = this.label.text;\r\n        label.htmlFor = this.label.for;\r\n\r\n        label.addEventListener(\"click\", async (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            this.switch.checked = !this.switch.checked;\r\n            await this.transitionend(label);\r\n            this.switch.dispatchEvent(new Event(\"change\"));\r\n        });\r\n\r\n        return label;\r\n    }\r\n\r\n    async transitionend(target) {\r\n        return new Promise((resolve) => {\r\n            target.addEventListener(\"transitionend\", resolve, { once: true });\r\n        });\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Switch);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/mio/Switch.js?");

/***/ }),

/***/ "./src/js/classes/mio/Textarea.js":
/*!****************************************!*\
  !*** ./src/js/classes/mio/Textarea.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Form_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Form.js */ \"./src/js/classes/mio/Form.js\");\n\r\n\r\nclass Input extends _Form_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(data) {\r\n        super(data);\r\n\r\n        Object.assign(this, data);\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.field = this.create();\r\n    }\r\n\r\n    create() {\r\n        const field = this.createField();\r\n\r\n        const wrapper = this.createWrapper();\r\n        field.appendChild(wrapper);\r\n\r\n        const label = this.createLabel();\r\n        wrapper.appendChild(label);\r\n\r\n        const input = this.createTextarea();\r\n        wrapper.appendChild(input);\r\n\r\n        if (this.message) {\r\n            const message = this.createMessage();\r\n            field.appendChild(message);\r\n        }\r\n\r\n        return field;\r\n    }\r\n\r\n    createTextarea() {\r\n        const textarea = document.createElement(\"textarea\");\r\n        textarea.classList.add(\"mio-input\");\r\n        textarea.name = this.input.name;\r\n        textarea.id = this.input.id;\r\n        textarea.rows = this.input.rows ?? \"\";\r\n        textarea.value = this.input.value;\r\n        if (this.input.maxlength) {\r\n            textarea.maxLength = this.input.maxlength;\r\n        }\r\n\r\n        textarea.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n        textarea.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n        textarea.addEventListener(\"input\", this.handleInput.bind(this));\r\n\r\n        return textarea;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Input);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/classes/mio/Textarea.js?");

/***/ }),

/***/ "./src/js/modules/Addresses.js":
/*!*************************************!*\
  !*** ./src/js/modules/Addresses.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addresses\": () => (/* binding */ addresses)\n/* harmony export */ });\n/* harmony import */ var _classes_Cart__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../classes/Cart */ \"./src/js/classes/Cart.js\");\n/* harmony import */ var _classes_Options__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../classes/Options */ \"./src/js/classes/Options.js\");\n/* harmony import */ var _classes_Files__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../classes/Files */ \"./src/js/classes/Files.js\");\n/* harmony import */ var _classes_Addresses__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../classes/Addresses */ \"./src/js/classes/Addresses.js\");\n/* harmony import */ var _classes_Spinner__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../classes/Spinner */ \"./src/js/classes/Spinner.js\");\n/* harmony import */ var _classes_Popup__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../classes/Popup */ \"./src/js/classes/Popup.js\");\n/* harmony import */ var _classes_Confirm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../classes/Confirm */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _IndexedDB__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./IndexedDB */ \"./src/js/modules/IndexedDB.js\");\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../app */ \"./src/js/app.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst addresses = async () => {\r\n    let isOpen = false;\r\n    let isAnimated = false;\r\n\r\n    const handleUpdateCartItem = async (item) => {\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset()]);\r\n\r\n        options.setValues(item.options);\r\n        options.setUpdate(true);\r\n        files.set(item.files);\r\n\r\n        await Promise.all([options.save(), files.save()]);\r\n        await Promise.all([spinner.close(), cart.close()]);\r\n\r\n        _app__WEBPACK_IMPORTED_MODULE_8__.navigator.goTo(\"/imprimir\");\r\n    };\r\n\r\n    const handleDeleteCartItem = async (item) => {\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            title: \"¿Eliminar impresión?\",\r\n            description:\r\n                \"La impresion se eliminará del carrito. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.delete(item)]);\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            title: \"¡Impresión eliminada!\",\r\n            message: \"La impresión ha sido eliminada correctamente del carrito.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n\r\n        cart.close();\r\n    };\r\n\r\n    const handleClearCart = async () => {\r\n        if (!cart.length()) {\r\n            return;\r\n        }\r\n\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            title: \"¿Vaciar carrito?\",\r\n            description: \"El carrito se vaciará. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Vaciar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.clear()]);\r\n\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            title: \"¡Carrito vacío!\",\r\n            message: \"El carrito ha sido vaciado correctamente.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n        await cart.close();\r\n    };\r\n\r\n    const handleResize = () => {\r\n        if (window.innerWidth >= 768 && isOpen) {\r\n            isOpen = false;\r\n\r\n            userSidebar.classList.remove(\"active\", \"in\", \"out\");\r\n        }\r\n    };\r\n\r\n    const handleOpenUserSidebar = async () => {\r\n        if (!isOpen && !isAnimated) {\r\n            isOpen = true;\r\n            isAnimated = true;\r\n\r\n            userSidebar.classList.add(\"active\", \"in\");\r\n            await animationend(userSidebar);\r\n\r\n            isAnimated = false;\r\n        }\r\n    };\r\n\r\n    const handleCloseUserSidebar = async (e) => {\r\n        if (\r\n            (e.target === userSidebar || e.currentTarget === closeUserSidebarBtn) &&\r\n            isOpen &&\r\n            !isAnimated\r\n        ) {\r\n            isOpen = false;\r\n            isAnimated = true;\r\n\r\n            if (innerWidth < 768) {\r\n                userSidebar.classList.add(\"out\");\r\n                await animationend(userSidebar);\r\n                userSidebar.classList.remove(\"active\", \"in\", \"out\");\r\n            }\r\n\r\n            isAnimated = false;\r\n        }\r\n    };\r\n\r\n    const animationend = (target) => {\r\n        return new Promise((resolve) => {\r\n            target.addEventListener(\"animationend\", resolve, { once: true });\r\n        });\r\n    };\r\n\r\n    const userSidebar = document.querySelector(\"#user-sidebar\");\r\n    const openUserSidebarBtn = document.querySelector(\"#open-user-sidebar-btn\");\r\n    const closeUserSidebarBtn = document.querySelector(\"#close-user-sidebar-btn\");\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n    openUserSidebarBtn.addEventListener(\"click\", handleOpenUserSidebar);\r\n    closeUserSidebarBtn.addEventListener(\"click\", handleCloseUserSidebar);\r\n    userSidebar.addEventListener(\"click\", handleCloseUserSidebar);\r\n\r\n    const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n        parent: document.querySelector(\"#addresses\").parentElement,\r\n    });\r\n    await spinner.open();\r\n\r\n    const addresses = new _classes_Addresses__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\r\n    await addresses.init();\r\n    addresses.repaint();\r\n\r\n    await _IndexedDB__WEBPACK_IMPORTED_MODULE_7__.indexedDB.createIndexedDB();\r\n    const cartDB = await _IndexedDB__WEBPACK_IMPORTED_MODULE_7__.indexedDB.getRecords(\"cart\");\r\n\r\n    await spinner.close();\r\n\r\n    \r\n\r\n    const cart = new _classes_Cart__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n        cart: cartDB,\r\n        onUpdate: handleUpdateCartItem,\r\n        onDelete: handleDeleteCartItem,\r\n        onClear: handleClearCart,\r\n    });\r\n    const options = new _classes_Options__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\r\n    const files = new _classes_Files__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\r\n};\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/modules/Addresses.js?");

/***/ }),

/***/ "./src/js/modules/Api.js":
/*!*******************************!*\
  !*** ./src/js/modules/Api.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"api\": () => (/* binding */ api)\n/* harmony export */ });\nconst api = (() => {\r\n    const config = {\r\n        headers: {\r\n            Accept: \"*/*\",\r\n        },\r\n    };\r\n\r\n    const request = async (url, type = \"json\") => {\r\n        try {\r\n            const response = await fetch(url, config);\r\n            if (type === \"json\") {\r\n                return await response.json();\r\n            }\r\n            if (type === \"text\") {\r\n                return await response.text();\r\n            }\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n\r\n    const get = (url, type) => {\r\n        config.method = \"GET\";\r\n        config.body = null;\r\n        return request(url, type);\r\n    };\r\n\r\n    const post = (url, data) => {\r\n        config.method = \"POST\";\r\n        config.body = isFormData(data) ? data : JSON.stringify(data);\r\n        return request(url);\r\n    };\r\n\r\n    const put = (url, data) => {\r\n        config.method = \"PUT\";\r\n        config.body = isFormData(data) ? data : JSON.stringify(data);\r\n        return request(url);\r\n    };\r\n\r\n    const del = (url, data) => {\r\n        config.method = \"DELETE\";\r\n        config.body = isFormData(data) ? data : JSON.stringify(data);\r\n        return request(url);\r\n    };\r\n\r\n    const isFormData = (data) => {\r\n        return data instanceof FormData;\r\n    };\r\n\r\n    return {\r\n        get,\r\n        post,\r\n        put,\r\n        delete: del,\r\n    };\r\n})();\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/modules/Api.js?");

/***/ }),

/***/ "./src/js/modules/Checkout.js":
/*!************************************!*\
  !*** ./src/js/modules/Checkout.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"checkout\": () => (/* binding */ checkout)\n/* harmony export */ });\n/* harmony import */ var _classes_Cart__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../classes/Cart */ \"./src/js/classes/Cart.js\");\n/* harmony import */ var _classes_Options__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../classes/Options */ \"./src/js/classes/Options.js\");\n/* harmony import */ var _classes_Files__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../classes/Files */ \"./src/js/classes/Files.js\");\n/* harmony import */ var _classes_auth_Login__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../classes/auth/Login */ \"./src/js/classes/auth/Login.js\");\n/* harmony import */ var _classes_Steps__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../classes/Steps */ \"./src/js/classes/Steps.js\");\n/* harmony import */ var _classes_Items__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../classes/Items */ \"./src/js/classes/Items.js\");\n/* harmony import */ var _classes_Addresses__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../classes/Addresses */ \"./src/js/classes/Addresses.js\");\n/* harmony import */ var _classes_Details__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../classes/Details */ \"./src/js/classes/Details.js\");\n/* harmony import */ var _classes_Upload__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../classes/Upload */ \"./src/js/classes/Upload.js\");\n/* harmony import */ var _classes_Spinner__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../classes/Spinner */ \"./src/js/classes/Spinner.js\");\n/* harmony import */ var _classes_Popup__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../classes/Popup */ \"./src/js/classes/Popup.js\");\n/* harmony import */ var _classes_Confirm__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../classes/Confirm */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _IndexedDB__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./IndexedDB */ \"./src/js/modules/IndexedDB.js\");\n/* harmony import */ var _Api__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Api */ \"./src/js/modules/Api.js\");\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../app */ \"./src/js/app.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst checkout = async (req) => {\r\n    const handleUpdateCartItem = async (item) => {\r\n        if (upload.isUpload) {\r\n            return;\r\n        }\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_9__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset()]);\r\n\r\n        options.setValues(item.options);\r\n        options.setUpdate(true);\r\n        files.set(item.files);\r\n\r\n        await Promise.all([options.save(), files.save()]);\r\n        await Promise.all([spinner.close(), cart.close()]);\r\n\r\n        _app__WEBPACK_IMPORTED_MODULE_14__.navigator.goTo(\"/imprimir\");\r\n    };\r\n\r\n    const handleDeleteCartItem = async (item) => {\r\n        if (upload.isUpload) {\r\n            return;\r\n        }\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_11__[\"default\"]({\r\n            title: \"¿Eliminar impresión?\",\r\n            description:\r\n                \"La impresion se eliminará del carrito. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_9__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.delete(item)]);\r\n\r\n        cart.repaint();\r\n        items.repaint();\r\n        details.repaint();\r\n\r\n        await spinner.close();\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_10__[\"default\"]({\r\n            title: \"¡Impresión eliminada!\",\r\n            message: \"La impresión ha sido eliminada correctamente del carrito.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n        await cart.close();\r\n    };\r\n\r\n    const handleClearCart = async () => {\r\n        if (upload.isUpload) {\r\n            return;\r\n        }\r\n\r\n        if (!cart.length()) {\r\n            return;\r\n        }\r\n\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_11__[\"default\"]({\r\n            title: \"¿Vaciar carrito?\",\r\n            description: \"El carrito se vaciará. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Vaciar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_9__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.clear()]);\r\n\r\n        cart.repaint();\r\n        items.repaint();\r\n        details.repaint();\r\n\r\n        await spinner.close();\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_10__[\"default\"]({\r\n            title: \"¡Carrito vacío!\",\r\n            message: \"El carrito ha sido vaciado correctamente.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n        await cart.close();\r\n    };\r\n\r\n    const handleLoad = async () => {\r\n        const isAuth = await getAuth();\r\n\r\n        if (!isAuth) {\r\n            steps.init();\r\n            login.create(req);\r\n            return;\r\n        }\r\n\r\n        await addresses.init();\r\n\r\n        stepShipment();\r\n    };\r\n\r\n    const handleNextStep = async () => {\r\n        if (upload.isUpload) {\r\n            return;\r\n        }\r\n\r\n        const isAuth = await getAuth();\r\n        if (!isAuth) {\r\n            return;\r\n        }\r\n\r\n        if (cart.isEmpty()) {\r\n            details.orderBtn.stop();\r\n            return;\r\n        }\r\n\r\n        details.orderBtn.stop();\r\n\r\n        steps.next();\r\n\r\n        switch (steps.getIndex()) {\r\n            case 0:\r\n                stepShipment();\r\n                break;\r\n            case 1:\r\n                stepAddresses();\r\n                break;\r\n            case 2:\r\n                if (!addresses.hasSelectedAddresses()) {\r\n                    return;\r\n                }\r\n                stepUpload();\r\n                break;\r\n        }\r\n    };\r\n\r\n    const handleClickStep = async (index) => {\r\n        if (upload.isUpload) {\r\n            return;\r\n        }\r\n\r\n        const isAuth = await getAuth();\r\n        if (!isAuth) {\r\n            return;\r\n        }\r\n\r\n        if (cart.isEmpty()) {\r\n            return;\r\n        }\r\n\r\n        steps.setIndex(index);\r\n\r\n        switch (index) {\r\n            case 0:\r\n                stepShipment();\r\n                break;\r\n            case 1:\r\n                stepAddresses();\r\n                break;\r\n            case 2:\r\n                if (!addresses.hasSelectedAddresses()) {\r\n                    return;\r\n                }\r\n                stepUpload();\r\n                break;\r\n            case 3:\r\n                return;\r\n        }\r\n    };\r\n\r\n    const stepShipment = () => {\r\n        const checkout = document.querySelector(\"#checkout\");\r\n\r\n        cleanHTML(checkout);\r\n\r\n        const stepsEl = document.createElement(\"div\");\r\n        stepsEl.id = \"steps\";\r\n        checkout.appendChild(stepsEl);\r\n\r\n        const container = document.createElement(\"div\");\r\n        container.classList.add(\"container\");\r\n        checkout.appendChild(container);\r\n\r\n        const itemsEl = document.createElement(\"div\");\r\n        itemsEl.id = \"items\";\r\n        container.appendChild(itemsEl);\r\n\r\n        const detailsEl = document.createElement(\"div\");\r\n        detailsEl.id = \"details\";\r\n        container.appendChild(detailsEl);\r\n\r\n        steps.init();\r\n        items.init();\r\n        details.init();\r\n    };\r\n\r\n    const stepAddresses = async () => {\r\n        const checkout = document.querySelector(\"#checkout\");\r\n\r\n        cleanHTML(checkout);\r\n\r\n        const stepsEl = document.createElement(\"div\");\r\n        stepsEl.id = \"steps\";\r\n        checkout.appendChild(stepsEl);\r\n\r\n        const container = document.createElement(\"div\");\r\n        container.classList.add(\"container\");\r\n        checkout.appendChild(container);\r\n\r\n        const addressesEl = document.createElement(\"div\");\r\n        addressesEl.id = \"addresses\";\r\n        container.appendChild(addressesEl);\r\n\r\n        const detailsEl = document.createElement(\"div\");\r\n        detailsEl.id = \"details\";\r\n        container.appendChild(detailsEl);\r\n\r\n        steps.repaint();\r\n        addresses.repaint();\r\n        details.repaint();\r\n    };\r\n\r\n    const stepUpload = () => {\r\n        const checkout = document.querySelector(\"#checkout\");\r\n\r\n        cleanHTML(checkout);\r\n\r\n        const stepsEl = document.createElement(\"div\");\r\n        stepsEl.id = \"steps\";\r\n        checkout.appendChild(stepsEl);\r\n\r\n        const container = document.createElement(\"div\");\r\n        container.classList.add(\"container\");\r\n        checkout.appendChild(container);\r\n\r\n        const uploadEl = document.createElement(\"div\");\r\n        uploadEl.id = \"upload\";\r\n        container.appendChild(uploadEl);\r\n\r\n        steps.repaint();\r\n        upload.repaint();\r\n    };\r\n\r\n    const getAuth = async () => {\r\n        const response = await _Api__WEBPACK_IMPORTED_MODULE_13__.api.get(\"/api/user/auth\");\r\n\r\n        return response.auth;\r\n    };\r\n\r\n    const cleanHTML = (el) => {\r\n        while (el.firstChild) {\r\n            el.removeChild(el.firstChild);\r\n        }\r\n    };\r\n\r\n    const handleUpload = async () => {\r\n        await Promise.all([options.reset(), files.reset(), cart.clear()]);\r\n        cart.repaint();\r\n    };\r\n\r\n    const handlePayment = async (order) => {\r\n        _app__WEBPACK_IMPORTED_MODULE_14__.navigator.setOnBeforeunload(null);\r\n\r\n        const response = await _Api__WEBPACK_IMPORTED_MODULE_13__.api.post(\"/api/order/redsys-data\", order);\r\n\r\n        const form = document.createElement(\"form\");\r\n        form.action = \"https://sis-t.redsys.es:25443/sis/realizarPago\";\r\n        form.method = \"POST\";\r\n        form.target = \"_blank\";\r\n        form.style.display = \"none\";\r\n\r\n        const inputDs_SignatureVersion = document.createElement(\"input\");\r\n        inputDs_SignatureVersion.name = \"Ds_SignatureVersion\";\r\n        inputDs_SignatureVersion.value = response.data.Ds_SignatureVersion;\r\n        form.appendChild(inputDs_SignatureVersion);\r\n\r\n        const inputDs_MerchantParameters = document.createElement(\"input\");\r\n        inputDs_MerchantParameters.name = \"Ds_MerchantParameters\";\r\n        inputDs_MerchantParameters.value = response.data.Ds_MerchantParameters;\r\n        form.appendChild(inputDs_MerchantParameters);\r\n\r\n        const inputDs_Signature = document.createElement(\"input\");\r\n        inputDs_Signature.name = \"Ds_Signature\";\r\n        inputDs_Signature.value = response.data.Ds_Signature;\r\n        form.appendChild(inputDs_Signature);\r\n\r\n        document.body.appendChild(form);\r\n        form.submit();\r\n        document.body.removeChild(form);\r\n\r\n        _app__WEBPACK_IMPORTED_MODULE_14__.navigator.goTo(\"/\");\r\n    };\r\n\r\n    await _IndexedDB__WEBPACK_IMPORTED_MODULE_12__.indexedDB.createIndexedDB();\r\n\r\n    const cartDB = await _IndexedDB__WEBPACK_IMPORTED_MODULE_12__.indexedDB.getRecords(\"cart\");\r\n\r\n    const cart = new _classes_Cart__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n        cart: cartDB,\r\n        onUpdate: handleUpdateCartItem,\r\n        onDelete: handleDeleteCartItem,\r\n        onClear: handleClearCart,\r\n    });\r\n\r\n    const options = new _classes_Options__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\r\n\r\n    const files = new _classes_Files__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\r\n\r\n    const login = new _classes_auth_Login__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n        req,\r\n    });\r\n\r\n    const steps = new _classes_Steps__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n        index: 0,\r\n        onClick: handleClickStep,\r\n    });\r\n\r\n    const items = new _classes_Items__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n        cart,\r\n        onUpdate: handleUpdateCartItem,\r\n        onDelete: handleDeleteCartItem,\r\n    });\r\n\r\n    const addresses = new _classes_Addresses__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\r\n\r\n    const details = new _classes_Details__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n        cart,\r\n        nextStepText: \"Realizar pedido\",\r\n        onClick: handleNextStep,\r\n    });\r\n\r\n    const upload = new _classes_Upload__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\r\n        cart,\r\n        details,\r\n        addresses,\r\n        onUpload: handleUpload,\r\n        onClick: handlePayment,\r\n    });\r\n\r\n    handleLoad();\r\n};\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/modules/Checkout.js?");

/***/ }),

/***/ "./src/js/modules/Codes.js":
/*!*********************************!*\
  !*** ./src/js/modules/Codes.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"codes\": () => (/* binding */ codes)\n/* harmony export */ });\n/* harmony import */ var _classes_mio_Input__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../classes/mio/Input */ \"./src/js/classes/mio/Input.js\");\n/* harmony import */ var _classes_mio_Switch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../classes/mio/Switch */ \"./src/js/classes/mio/Switch.js\");\n/* harmony import */ var _classes_Cart__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../classes/Cart */ \"./src/js/classes/Cart.js\");\n/* harmony import */ var _classes_Options__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../classes/Options */ \"./src/js/classes/Options.js\");\n/* harmony import */ var _classes_Files__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../classes/Files */ \"./src/js/classes/Files.js\");\n/* harmony import */ var _classes_Spinner__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../classes/Spinner */ \"./src/js/classes/Spinner.js\");\n/* harmony import */ var _classes_Popup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../classes/Popup */ \"./src/js/classes/Popup.js\");\n/* harmony import */ var _classes_Confirm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../classes/Confirm */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _classes_Modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../classes/Modal */ \"./src/js/classes/Modal.js\");\n/* harmony import */ var _classes_Table__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../classes/Table */ \"./src/js/classes/Table.js\");\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../app */ \"./src/js/app.js\");\n/* harmony import */ var _IndexedDB__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./IndexedDB */ \"./src/js/modules/IndexedDB.js\");\n/* harmony import */ var _Icons__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Icons */ \"./src/js/modules/Icons.js\");\n/* harmony import */ var _Api__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Api */ \"./src/js/modules/Api.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst codes = async () => {\r\n    let code = null;\r\n    let codes = [];\r\n\r\n    let values = {\r\n        name: \"\",\r\n        code: \"\",\r\n        discount: 0,\r\n    };\r\n\r\n    let errors = {\r\n        name: \"\",\r\n        code: \"\",\r\n        discount: \"\",\r\n    };\r\n\r\n    let modal = null;\r\n\r\n    let isOpen = false;\r\n    let isAnimated = false;\r\n\r\n    const handleUpdateCartItem = async (item) => {\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset()]);\r\n\r\n        options.setValues(item.options);\r\n        options.setUpdate(true);\r\n        files.set(item.files);\r\n\r\n        await Promise.all([options.save(), files.save()]);\r\n        await Promise.all([spinner.close(), cart.close()]);\r\n\r\n        _app__WEBPACK_IMPORTED_MODULE_10__.navigator.goTo(\"/imprimir\");\r\n    };\r\n\r\n    const handleDeleteCartItem = async (item) => {\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            title: \"¿Eliminar impresión?\",\r\n            description:\r\n                \"La impresion se eliminará del carrito. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.delete(item)]);\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            title: \"¡Impresión eliminada!\",\r\n            message: \"La impresión ha sido eliminada correctamente del carrito.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n\r\n        cart.close();\r\n    };\r\n\r\n    const handleClearCart = async () => {\r\n        if (!cart.length()) {\r\n            return;\r\n        }\r\n\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            title: \"¿Vaciar carrito?\",\r\n            description: \"El carrito se vaciará. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Vaciar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.clear()]);\r\n\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            title: \"¡Carrito vacío!\",\r\n            message: \"El carrito ha sido vaciado correctamente.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n        await cart.close();\r\n    };\r\n\r\n    const handleResize = () => {\r\n        if (window.innerWidth >= 768 && isOpen) {\r\n            isOpen = false;\r\n\r\n            userSidebar.classList.remove(\"active\", \"in\", \"out\");\r\n        }\r\n    };\r\n\r\n    const handleOpenUserSidebar = async () => {\r\n        if (!isOpen && !isAnimated) {\r\n            isOpen = true;\r\n            isAnimated = true;\r\n\r\n            userSidebar.classList.add(\"active\", \"in\");\r\n            await animationend(userSidebar);\r\n\r\n            isAnimated = false;\r\n        }\r\n    };\r\n\r\n    const handleCloseUserSidebar = async (e) => {\r\n        if (\r\n            (e.target === userSidebar || e.currentTarget === closeUserSidebarBtn) &&\r\n            isOpen &&\r\n            !isAnimated\r\n        ) {\r\n            isOpen = false;\r\n            isAnimated = true;\r\n\r\n            if (innerWidth < 768) {\r\n                userSidebar.classList.add(\"out\");\r\n                await animationend(userSidebar);\r\n                userSidebar.classList.remove(\"active\", \"in\", \"out\");\r\n            }\r\n\r\n            isAnimated = false;\r\n        }\r\n    };\r\n\r\n    const animationend = (target) => {\r\n        return new Promise((resolve) => {\r\n            target.addEventListener(\"animationend\", resolve, { once: true });\r\n        });\r\n    };\r\n\r\n    const readCodes = async () => {\r\n        const response = await _Api__WEBPACK_IMPORTED_MODULE_13__.api.get(\"/api/code\");\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n        codes = response.codes;\r\n    };\r\n\r\n    const createSwitchForm = (row) => {\r\n        const form = document.createElement(\"form\");\r\n        form.classList.add(\"mio-form\");\r\n\r\n        const active = new _classes_mio_Switch__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            label: {\r\n                text: \"\",\r\n                for: `active${row.id}`,\r\n            },\r\n            input: {\r\n                name: `active${row.id}`,\r\n                id: `active${row.id}`,\r\n                value: row.active,\r\n            },\r\n            size: \"small\",\r\n            callback: (value) => {\r\n                code = row;\r\n                code.active = value;\r\n                updateCodeActive();\r\n            },\r\n        });\r\n\r\n        form.appendChild(active.getField());\r\n\r\n        return form;\r\n    };\r\n\r\n    const updateCodeActive = async () => {\r\n        const response = await _Api__WEBPACK_IMPORTED_MODULE_13__.api.put(\"/api/code/active\", code);\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n        table.updateRow(response.code);\r\n    };\r\n\r\n    const handleCreateCode = () => {\r\n        modal = new _classes_Modal__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\r\n            title: \"Crear código\",\r\n            content: createCodeForm(),\r\n            action: \"Crear\",\r\n            maxWidth: \"700px\",\r\n            fullscreenButton: true,\r\n            actionCallback: () => createCode(),\r\n            closeCallback: () => {\r\n                resetValues();\r\n                resetErrors();\r\n            },\r\n            fullscreenCallback: () => {},\r\n        });\r\n    };\r\n\r\n    const createCode = async () => {\r\n        const response = await _Api__WEBPACK_IMPORTED_MODULE_13__.api.post(\"/api/code\", values);\r\n\r\n        if (response.status === \"error\") {\r\n            setErrors(response.errors);\r\n            modal.repaint(createCodeForm());\r\n            return;\r\n        }\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            title: \"¡Código creado!\",\r\n            message: \"El código ha sido creado correctamente.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n        await modal.close();\r\n\r\n        table.addRow(response.code);\r\n    };\r\n\r\n    const handleUpdateCode = async (row) => {\r\n        code = row;\r\n        setValues(row);\r\n\r\n        modal = new _classes_Modal__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\r\n            title: \"Actualizar código\",\r\n            content: createCodeForm(),\r\n            action: \"Actualizar\",\r\n            maxWidth: \"700px\",\r\n            fullscreenButton: true,\r\n            actionCallback: () => updateCode(),\r\n            closeCallback: () => {\r\n                resetValues();\r\n                resetErrors();\r\n            },\r\n            fullscreenCallback: () => {},\r\n        });\r\n    };\r\n\r\n    const updateCode = async () => {\r\n        const data = { ...code, ...values };\r\n\r\n        const response = await _Api__WEBPACK_IMPORTED_MODULE_13__.api.put(\"/api/code\", data);\r\n\r\n        if (response.status === \"error\") {\r\n            setErrors(response.errors);\r\n            modal.repaint(createCodeForm());\r\n            return;\r\n        }\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            title: \"¡Código actualizado!\",\r\n            message: \"El código ha sido actualizado correctamente.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n        await modal.close();\r\n\r\n        table.updateRow(response.code);\r\n    };\r\n\r\n    const handleDeleteCode = async (row) => {\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            title: \"¿Eliminar código?\",\r\n            description:\r\n                \"¿Estás seguro de eliminar esta código? Los datos no podrán ser recuperados.\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const response = await _Api__WEBPACK_IMPORTED_MODULE_13__.api[\"delete\"](\"/api/code\", { id: row.id });\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            title: \"¡Código eliminado!\",\r\n            message: \"El código ha sido eliminado correctamente.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n\r\n        table.deleteRow(row);\r\n    };\r\n\r\n    const handleDeleteCodes = async (rows) => {\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            title: `¿Eliminar ${rows.length > 1 ? \"códigos\" : \"código\"}?`,\r\n            description: `¿Estás seguro de eliminar  ${\r\n                rows.length > 1 ? \"estos códigos\" : \"esta código\"\r\n            }? Los datos no podrán ser recuperados.`,\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const response = await _Api__WEBPACK_IMPORTED_MODULE_13__.api[\"delete\"](\"/api/code/multiple\", rows);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            title: `¡${rows.length > 1 ? \"Códigos eliminados\" : \"Código eliminado\"}!`,\r\n            message: `${\r\n                rows.length > 1 ? \"Los códigos han sido eliminados\" : \"El codigo ha sido eliminado\"\r\n            } correctamente!`,\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n\r\n        table.deleteRows(rows);\r\n    };\r\n\r\n    const resetValues = () => {\r\n        for (const key of Object.keys(values)) {\r\n            if (key === \"predetermined\") {\r\n                values[key] = false;\r\n            } else {\r\n                values[key] = \"\";\r\n            }\r\n        }\r\n    };\r\n\r\n    const resetErrors = () => {\r\n        for (const key of Object.keys(errors)) {\r\n            errors[key] = \"\";\r\n        }\r\n    };\r\n\r\n    const setValues = (row) => {\r\n        for (const key of Object.keys(values)) {\r\n            values[key] = row[key];\r\n        }\r\n    };\r\n\r\n    const setErrors = (responseErrors) => {\r\n        for (const key of Object.keys(responseErrors)) {\r\n            if (errors[key] !== undefined) {\r\n                errors[key] = responseErrors[key];\r\n            }\r\n        }\r\n    };\r\n\r\n    const createCodeForm = () => {\r\n        const form = document.createElement(\"form\");\r\n        form.classList.add(\"mio-form\");\r\n        form.noValidate = true;\r\n\r\n        const name = new _classes_mio_Input__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Nombre\",\r\n                for: \"name\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"name\",\r\n                id: \"name\",\r\n                value: values.name,\r\n            },\r\n            error: errors.name.length > 0,\r\n            message: errors.name,\r\n            onInput: (value) => {\r\n                values.name = value;\r\n                errors.name = \"\";\r\n            },\r\n        });\r\n        form.appendChild(name.getField());\r\n\r\n        const code = new _classes_mio_Input__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Código\",\r\n                for: \"code\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"code\",\r\n                id: \"code\",\r\n                value: values.code,\r\n            },\r\n            error: errors.code.length > 0,\r\n            message: errors.code,\r\n            onInput: (value) => {\r\n                values.code = value;\r\n                errors.code = \"\";\r\n            },\r\n        });\r\n        form.appendChild(code.getField());\r\n\r\n        const discount = new _classes_mio_Input__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Descuento\",\r\n                for: \"discount\",\r\n            },\r\n            input: {\r\n                type: \"number\",\r\n                name: \"discount\",\r\n                id: \"discount\",\r\n                value: values.discount,\r\n            },\r\n            error: errors.discount.length > 0,\r\n            message: errors.discount,\r\n            onInput: async (value) => {\r\n                values.discount = value.length > 0 ? value : 0;\r\n                errors.discount = \"\";\r\n            },\r\n        });\r\n        form.appendChild(discount.getField());\r\n\r\n        return form;\r\n    };\r\n\r\n    const codesContainer = document.querySelector(\"#codes\");\r\n    const userSidebar = document.querySelector(\"#user-sidebar\");\r\n    const openUserSidebarBtn = document.querySelector(\"#open-user-sidebar-btn\");\r\n    const closeUserSidebarBtn = document.querySelector(\"#close-user-sidebar-btn\");\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n    openUserSidebarBtn.addEventListener(\"click\", handleOpenUserSidebar);\r\n    closeUserSidebarBtn.addEventListener(\"click\", handleCloseUserSidebar);\r\n    userSidebar.addEventListener(\"click\", handleCloseUserSidebar);\r\n\r\n    const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n        parent: document.querySelector(\"#codes\").parentElement,\r\n    });\r\n    await spinner.open();\r\n\r\n    await readCodes();\r\n\r\n    await _IndexedDB__WEBPACK_IMPORTED_MODULE_11__.indexedDB.createIndexedDB();\r\n    const cartDB = await _IndexedDB__WEBPACK_IMPORTED_MODULE_11__.indexedDB.getRecords(\"cart\");\r\n\r\n    await spinner.close();\r\n\r\n    const cart = new _classes_Cart__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n        cart: cartDB,\r\n        onUpdate: handleUpdateCartItem,\r\n        onDelete: handleDeleteCartItem,\r\n        onClear: handleClearCart,\r\n    });\r\n    const options = new _classes_Options__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\r\n    const files = new _classes_Files__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\r\n\r\n    const columns = [\r\n        { field: \"id\", headerName: \"Id\" },\r\n        { field: \"name\", headerName: \"Nombre\" },\r\n        { field: \"code\", headerName: \"Código\" },\r\n        { field: \"discount\", headerName: \"Descuento\" },\r\n    ];\r\n\r\n    const table = new _classes_Table__WEBPACK_IMPORTED_MODULE_9__[\"default\"]({\r\n        title: \"Códigos\",\r\n        columns: columns,\r\n        customColumns: [\r\n            {\r\n                field: \"active\",\r\n                headerName: \"Activo\",\r\n                content: createSwitchForm,\r\n            },\r\n        ],\r\n        rows: codes,\r\n        findFields: [\"name\", \"code\"],\r\n        container: codesContainer,\r\n        visibleRows: 10,\r\n        rowsPerPage: 15,\r\n        rowsPerPageOptions: [5, 10, 15],\r\n        showActionsMenu: true,\r\n        headerActions: [\r\n            {\r\n                name: \"Crear código\",\r\n                icon: _Icons__WEBPACK_IMPORTED_MODULE_12__.icons.get(\"plusLg\"),\r\n                callback: handleCreateCode,\r\n            },\r\n        ],\r\n        rowsActions: [\r\n            {\r\n                name: \"Editar código\",\r\n                icon: _Icons__WEBPACK_IMPORTED_MODULE_12__.icons.get(\"pencilSquare\"),\r\n                callback: handleUpdateCode,\r\n            },\r\n            {\r\n                name: \"Eliminar código\",\r\n                icon: _Icons__WEBPACK_IMPORTED_MODULE_12__.icons.get(\"trash\"),\r\n                callback: handleDeleteCode,\r\n            },\r\n        ],\r\n        selectActions: [\r\n            {\r\n                name: \"Eliminar códigos\",\r\n                icon: _Icons__WEBPACK_IMPORTED_MODULE_12__.icons.get(\"trash\"),\r\n                callback: handleDeleteCodes,\r\n            },\r\n        ],\r\n    });\r\n};\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/modules/Codes.js?");

/***/ }),

/***/ "./src/js/modules/Contact.js":
/*!***********************************!*\
  !*** ./src/js/modules/Contact.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"contact\": () => (/* binding */ contact)\n/* harmony export */ });\n/* harmony import */ var _classes_Cart__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../classes/Cart */ \"./src/js/classes/Cart.js\");\n/* harmony import */ var _classes_Options__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../classes/Options */ \"./src/js/classes/Options.js\");\n/* harmony import */ var _classes_Files__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../classes/Files */ \"./src/js/classes/Files.js\");\n/* harmony import */ var _classes_mio_Input__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../classes/mio/Input */ \"./src/js/classes/mio/Input.js\");\n/* harmony import */ var _classes_mio_Textarea__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../classes/mio/Textarea */ \"./src/js/classes/mio/Textarea.js\");\n/* harmony import */ var _classes_mio_Checkbox__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../classes/mio/Checkbox */ \"./src/js/classes/mio/Checkbox.js\");\n/* harmony import */ var _classes_LoadingButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../classes/LoadingButton */ \"./src/js/classes/LoadingButton.js\");\n/* harmony import */ var _classes_Spinner__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../classes/Spinner */ \"./src/js/classes/Spinner.js\");\n/* harmony import */ var _classes_Popup__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../classes/Popup */ \"./src/js/classes/Popup.js\");\n/* harmony import */ var _classes_Confirm__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../classes/Confirm */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _classes_Collapse__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../classes/Collapse */ \"./src/js/classes/Collapse.js\");\n/* harmony import */ var _IndexedDB__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./IndexedDB */ \"./src/js/modules/IndexedDB.js\");\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../app */ \"./src/js/app.js\");\n/* harmony import */ var _Api__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Api */ \"./src/js/modules/Api.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst contact = async () => {\r\n    const values = {\r\n        name: \"\",\r\n        email: \"\",\r\n        phone: \"\",\r\n        message: \"\",\r\n        accept: false,\r\n    };\r\n\r\n    const errors = {\r\n        name: \"\",\r\n        email: \"\",\r\n        phone: \"\",\r\n        message: \"\",\r\n        accept: \"\",\r\n    };\r\n\r\n    let contactForm = null;\r\n    let submitBtn = null;\r\n\r\n    const handleUpdateCartItem = async (item) => {\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset()]);\r\n\r\n        options.setValues(item.options);\r\n        options.setUpdate(true);\r\n        files.set(item.files);\r\n\r\n        await Promise.all([options.save(), files.save()]);\r\n        await Promise.all([spinner.close(), cart.close()]);\r\n\r\n        _app__WEBPACK_IMPORTED_MODULE_12__.navigator.goTo(\"/imprimir\");\r\n    };\r\n\r\n    const handleDeleteCartItem = async (item) => {\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_9__[\"default\"]({\r\n            title: \"¿Eliminar impresión?\",\r\n            description:\r\n                \"La impresion se eliminará del carrito. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.delete(item)]);\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\r\n            title: \"¡Impresión eliminada!\",\r\n            message: \"La impresión ha sido eliminada correctamente del carrito.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n\r\n        cart.close();\r\n    };\r\n\r\n    const handleClearCart = async () => {\r\n        if (!cart.length()) {\r\n            return;\r\n        }\r\n\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_9__[\"default\"]({\r\n            title: \"¿Vaciar carrito?\",\r\n            description: \"El carrito se vaciará. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Vaciar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.clear()]);\r\n\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\r\n            title: \"¡Carrito vacío!\",\r\n            message: \"El carrito ha sido vaciado correctamente.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n        await cart.close();\r\n    };\r\n\r\n    const handleAccordion = async (e) => {\r\n        const targetItem = e.target.closest(\".item\");\r\n        if (targetItem && targetItem.firstElementChild.classList.contains(\"active\")) {\r\n            const accordion = document.querySelector(\"#accordion\");\r\n            const accordionItems = accordion.querySelectorAll(\".item\");\r\n            const targetItem = e.target.closest(\".item\");\r\n\r\n            accordionItems.forEach((item) => {\r\n                if (item !== targetItem && item.firstElementChild.classList.contains(\"active\")) {\r\n                    item.firstElementChild.click();\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    const createContactForm = () => {\r\n        const contact = document.querySelector(\"#contact\");\r\n\r\n        contactForm = document.createElement(\"form\");\r\n        contactForm.classList.add(\"mio-form\");\r\n        contactForm.noValidate = true;\r\n        contactForm.addEventListener(\"submit\", handleSubmit);\r\n        contact.appendChild(contactForm);\r\n\r\n        const name = new _classes_mio_Input__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            label: {\r\n                text: \"Nombre\",\r\n                for: \"name\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"name\",\r\n                id: \"name\",\r\n                value: values.name,\r\n            },\r\n            error: errors.name.length > 0,\r\n            message: errors.name,\r\n            onInput: (value) => {\r\n                values.name = value;\r\n                errors.name = \"\";\r\n            },\r\n        });\r\n        contactForm.appendChild(name.getField());\r\n\r\n        const email = new _classes_mio_Input__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            label: {\r\n                text: \"Email\",\r\n                for: \"email\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"email\",\r\n                id: \"email\",\r\n                value: values.email,\r\n            },\r\n            error: errors.email.length > 0,\r\n            message: errors.email,\r\n            onInput: (value) => {\r\n                values.email = value;\r\n                errors.email = \"\";\r\n            },\r\n        });\r\n        contactForm.appendChild(email.getField());\r\n\r\n        const phone = new _classes_mio_Input__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            label: {\r\n                text: \"Teléfono\",\r\n                for: \"phone\",\r\n            },\r\n            input: {\r\n                type: \"tel\",\r\n                phone: \"phone\",\r\n                id: \"phone\",\r\n                value: values.phone,\r\n            },\r\n            error: errors.phone.length > 0,\r\n            message: errors.phone,\r\n            onInput: (value) => {\r\n                values.phone = value;\r\n                errors.phone = \"\";\r\n            },\r\n        });\r\n        contactForm.appendChild(phone.getField());\r\n\r\n        const message = new _classes_mio_Textarea__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Mensaje\",\r\n                for: \"message\",\r\n            },\r\n            input: {\r\n                name: \"message\",\r\n                id: \"message\",\r\n                rows: 3,\r\n                value: values.message,\r\n            },\r\n            error: errors.message.length > 0,\r\n            message: errors.message,\r\n            onInput: (value) => {\r\n                values.message = value;\r\n                errors.message = \"\";\r\n            },\r\n        });\r\n        contactForm.appendChild(message.getField());\r\n\r\n        const accept = new _classes_mio_Checkbox__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            label: {\r\n                text: \"He leído y acepto la Política de Privacidad\",\r\n                for: \"accept\",\r\n            },\r\n            input: {\r\n                name: \"accept\",\r\n                id: \"accept\",\r\n                value: values.accept,\r\n            },\r\n            error: errors.accept.length > 0,\r\n            message: errors.accept,\r\n            onClick: (value) => {\r\n                values.accept = value;\r\n                errors.accept = \"\";\r\n                repaint();\r\n            },\r\n        });\r\n        contactForm.appendChild(accept.getField());\r\n\r\n        const submitField = document.createElement(\"div\");\r\n        submitField.classList.add(\"mio-field\");\r\n        contactForm.appendChild(submitField);\r\n\r\n        submitBtn = new _classes_LoadingButton__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            type: \"submit\",\r\n            text: \"Enviar\",\r\n            classes: [\"btn\", \"primary-btn\"],\r\n            onClick: () => {},\r\n        });\r\n        submitField.appendChild(submitBtn.get());\r\n    };\r\n\r\n    const resetValues = () => {\r\n        for (const key of Object.keys(values)) {\r\n            if (key === \"accept\") {\r\n                values[key] = false;\r\n            } else {\r\n                values[key] = \"\";\r\n            }\r\n        }\r\n    };\r\n\r\n    const resetErrors = () => {\r\n        for (const key of Object.keys(errors)) {\r\n            errors[key] = \"\";\r\n        }\r\n    };\r\n\r\n    const setErrors = (responseErrors) => {\r\n        for (const key of Object.keys(responseErrors)) {\r\n            if (errors[key] !== undefined) {\r\n                errors[key] = responseErrors[key];\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const response = await _Api__WEBPACK_IMPORTED_MODULE_13__.api.post(\"/api/contact\", values);\r\n\r\n        if (response.status === \"error\") {\r\n            setErrors(response.errors);\r\n            contactForm.remove();\r\n            createContactForm();\r\n            return;\r\n        }\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\r\n            title: \"¡Mensaje enviado!\",\r\n            message:\r\n                \"Gracias por contactar con nosotros. Nos pondremos en contacto contigo lo antes posible.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n\r\n        resetValues();\r\n        resetErrors();\r\n        contactForm.remove();\r\n        createContactForm();\r\n    };\r\n\r\n    const repaint = () => {\r\n        contactForm.remove();\r\n        createContactForm();\r\n    };\r\n\r\n    const accordion = document.querySelector(\"#accordion\");\r\n    const accordionItems = accordion.querySelectorAll(\".item\");\r\n\r\n    accordionItems.forEach((item) => {\r\n        const target = item.firstElementChild;\r\n        const container = item.lastElementChild;\r\n        new _classes_Collapse__WEBPACK_IMPORTED_MODULE_10__[\"default\"]({\r\n            target,\r\n            container,\r\n            collapsed: true,\r\n        });\r\n    });\r\n\r\n    createContactForm();\r\n\r\n    accordion.addEventListener(\"click\", handleAccordion);\r\n\r\n    await _IndexedDB__WEBPACK_IMPORTED_MODULE_11__.indexedDB.createIndexedDB();\r\n    const cartDB = await _IndexedDB__WEBPACK_IMPORTED_MODULE_11__.indexedDB.getRecords(\"cart\");\r\n\r\n    const cart = new _classes_Cart__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n        cart: cartDB,\r\n        onUpdate: handleUpdateCartItem,\r\n        onDelete: handleDeleteCartItem,\r\n        onClear: handleClearCart,\r\n    });\r\n    const options = new _classes_Options__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\r\n    const files = new _classes_Files__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\r\n};\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/modules/Contact.js?");

/***/ }),

/***/ "./src/js/modules/Home.js":
/*!********************************!*\
  !*** ./src/js/modules/Home.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"home\": () => (/* binding */ home)\n/* harmony export */ });\n/* harmony import */ var _classes_Cart__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../classes/Cart */ \"./src/js/classes/Cart.js\");\n/* harmony import */ var _classes_Options__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../classes/Options */ \"./src/js/classes/Options.js\");\n/* harmony import */ var _classes_Files__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../classes/Files */ \"./src/js/classes/Files.js\");\n/* harmony import */ var _classes_Spinner__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../classes/Spinner */ \"./src/js/classes/Spinner.js\");\n/* harmony import */ var _classes_Popup__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../classes/Popup */ \"./src/js/classes/Popup.js\");\n/* harmony import */ var _classes_Confirm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../classes/Confirm */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _IndexedDB__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./IndexedDB */ \"./src/js/modules/IndexedDB.js\");\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../app */ \"./src/js/app.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst home = async () => {\r\n    const handleUpdateCartItem = async (item) => {\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset()]);\r\n\r\n        options.setValues(item.options);\r\n        options.setUpdate(true);\r\n        files.set(item.files);\r\n\r\n        await Promise.all([options.save(), files.save()]);\r\n        await Promise.all([spinner.close(), cart.close()]);\r\n\r\n        _app__WEBPACK_IMPORTED_MODULE_7__.navigator.goTo(\"/imprimir\");\r\n    };\r\n\r\n    const handleDeleteCartItem = async (item) => {\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            title: \"¿Eliminar impresión?\",\r\n            description:\r\n                \"La impresion se eliminará del carrito. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.delete(item)]);\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            title: \"¡Impresión eliminada!\",\r\n            message: \"La impresión ha sido eliminada correctamente del carrito.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n\r\n        cart.close();\r\n    };\r\n\r\n    const handleClearCart = async () => {\r\n        if (!cart.length()) {\r\n            return;\r\n        }\r\n\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            title: \"¿Vaciar carrito?\",\r\n            description: \"El carrito se vaciará. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Vaciar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.clear()]);\r\n\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            title: \"¡Carrito vacío!\",\r\n            message: \"El carrito ha sido vaciado correctamente.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n        await cart.close();\r\n    };\r\n\r\n    await _IndexedDB__WEBPACK_IMPORTED_MODULE_6__.indexedDB.createIndexedDB();\r\n    const cartDB = await _IndexedDB__WEBPACK_IMPORTED_MODULE_6__.indexedDB.getRecords(\"cart\");\r\n\r\n    const cart = new _classes_Cart__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n        cart: cartDB,\r\n        onUpdate: handleUpdateCartItem,\r\n        onDelete: handleDeleteCartItem,\r\n        onClear: handleClearCart,\r\n    });\r\n    const options = new _classes_Options__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\r\n    const files = new _classes_Files__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\r\n};\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/modules/Home.js?");

/***/ }),

/***/ "./src/js/modules/Icons.js":
/*!*********************************!*\
  !*** ./src/js/modules/Icons.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"icons\": () => (/* binding */ icons)\n/* harmony export */ });\nconst icons = (() => {\r\n    const icons = [\r\n        {\r\n            name: \"pencilSquare\",\r\n            paths: [\r\n                {\r\n                    d: \"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\",\r\n                },\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"search\",\r\n            paths: [\r\n                {\r\n                    d: \"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"trash\",\r\n            paths: [\r\n                {\r\n                    d: \"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\",\r\n                },\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"chevronRight\",\r\n            paths: [\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"chevronDown\",\r\n            paths: [\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"chevronLeft\",\r\n            paths: [\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"chevronDoubleRight\",\r\n            paths: [\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8 3.646 2.354a.5.5 0 0 1 0-.708z\",\r\n                },\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8 7.646 2.354a.5.5 0 0 1 0-.708z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"chevronDoubleLeft\",\r\n            paths: [\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z\",\r\n                },\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"caretUpFill\",\r\n            paths: [\r\n                {\r\n                    d: \"m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"caretDownFill\",\r\n            paths: [\r\n                {\r\n                    d: \"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"xLg\",\r\n            paths: [\r\n                {\r\n                    d: \"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"arrowRight\",\r\n            paths: [\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"arrowUpShort\",\r\n            paths: [\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M8 12a.5.5 0 0 0 .5-.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 .5.5z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"threeDots\",\r\n            paths: [\r\n                {\r\n                    d: \"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"threeDotsVertical\",\r\n            paths: [\r\n                {\r\n                    d: \"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"filePDF\",\r\n            paths: [\r\n                {\r\n                    d: \"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z\",\r\n                },\r\n                {\r\n                    d: \"M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"fileText\",\r\n            paths: [\r\n                {\r\n                    d: \"M5 4a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zM5 8a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm0 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1H5z\",\r\n                },\r\n                {\r\n                    d: \"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"eraserFill\",\r\n            paths: [\r\n                {\r\n                    d: \"M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"arrowsFullscreen\",\r\n            paths: [\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707zm4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707zm0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707zm-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"fileCheck\",\r\n            paths: [\r\n                {\r\n                    d: \"M10.854 6.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 8.793l2.646-2.647a.5.5 0 0 1 .708 0z\",\r\n                },\r\n                {\r\n                    d: \"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"filePlus\",\r\n            paths: [\r\n                {\r\n                    d: \"M8.5 6a.5.5 0 0 0-1 0v1.5H6a.5.5 0 0 0 0 1h1.5V10a.5.5 0 0 0 1 0V8.5H10a.5.5 0 0 0 0-1H8.5V6z\",\r\n                },\r\n                {\r\n                    d: \"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"envelope\",\r\n            paths: [\r\n                {\r\n                    d: \"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"clipboard2Pulse\",\r\n            paths: [\r\n                {\r\n                    d: \"M9.5 0a.5.5 0 0 1 .5.5.5.5 0 0 0 .5.5.5.5 0 0 1 .5.5V2a.5.5 0 0 1-.5.5h-5A.5.5 0 0 1 5 2v-.5a.5.5 0 0 1 .5-.5.5.5 0 0 0 .5-.5.5.5 0 0 1 .5-.5h3Z\",\r\n                },\r\n                {\r\n                    d: \"M3 2.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 0 0-1h-.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1H12a.5.5 0 0 0 0 1h.5a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-12Z\",\r\n                },\r\n                {\r\n                    d: \"M9.979 5.356a.5.5 0 0 0-.968.04L7.92 10.49l-.94-3.135a.5.5 0 0 0-.926-.08L4.69 10H4.5a.5.5 0 0 0 0 1H5a.5.5 0 0 0 .447-.276l.936-1.873 1.138 3.793a.5.5 0 0 0 .968-.04L9.58 7.51l.94 3.135A.5.5 0 0 0 11 11h.5a.5.5 0 0 0 0-1h-.128L9.979 5.356Z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"plus\",\r\n            paths: [\r\n                {\r\n                    d: \"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"dash\",\r\n            paths: [\r\n                {\r\n                    d: \"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"files\",\r\n            width: \"448\",\r\n            height: \"512\",\r\n            paths: [\r\n                {\r\n                    d: \"M438.6 102.6l-93.08-93.26C339.6 3.371 331.5 0 322.1 0H192.5C157.2 0 128.6 28.65 128.6 64v288c0 35.35 28.6 64 63.88 64h191.6C419.3 416 448 387.3 448 352V125.3C448 116.8 444.6 108.6 438.6 102.6zM336.2 22.62L425.4 112h-81.22c-4.398 0-7.985-3.594-7.985-8V22.62zM432 352c0 26.47-21.49 48-47.91 48H192.5c-26.42 0-47.91-21.53-47.91-48V64c0-26.47 21.49-48 47.91-48h127.8v88c0 13.22 10.76 24 23.95 24h87.83V352zM310.8 448c-3.944 0-7.279 2.898-7.837 6.805C299.6 478.1 279.6 496 255.5 496H63.88c-26.46 0-47.91-21.49-47.91-48V160c0-26.51 21.45-48 47.91-48h23.95c4.412 0 7.985-3.582 7.985-8S92.25 96 87.83 96H63.88C28.6 96 0 124.7 0 160v288c0 35.34 28.69 64 63.97 64h191.5c32.2 0 58.83-23.87 63.24-54.91C319.4 452.3 315.6 448 310.8 448z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"eyeFill\",\r\n            width: \"24\",\r\n            height: \"24\",\r\n            paths: [\r\n                {\r\n                    d: \"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"eyeSlashFill\",\r\n            width: \"24\",\r\n            height: \"24\",\r\n            paths: [\r\n                {\r\n                    d: \"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"square\",\r\n            width: \"24\",\r\n            height: \"24\",\r\n            paths: [\r\n                {\r\n                    d: \"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"checkSquareFill\",\r\n            width: \"24\",\r\n            height: \"24\",\r\n            paths: [\r\n                {\r\n                    d: \"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"check2Circle\",\r\n            paths: [\r\n                {\r\n                    d: \"M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z\",\r\n                },\r\n                {\r\n                    d: \"M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"exclamationCircle\",\r\n            paths: [\r\n                {\r\n                    d: \"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\",\r\n                },\r\n                {\r\n                    d: \"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"xCircle\",\r\n            paths: [\r\n                {\r\n                    d: \"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\",\r\n                },\r\n                {\r\n                    d: \"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"x\",\r\n            paths: [\r\n                {\r\n                    d: \"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"checkCircle\",\r\n            paths: [\r\n                {\r\n                    d: \"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\",\r\n                },\r\n                {\r\n                    d: \"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"checkLg\",\r\n            paths: [\r\n                {\r\n                    d: \"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\",\r\n                },\r\n                {\r\n                    d: \"M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"check\",\r\n            paths: [\r\n                {\r\n                    d: \"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"basket\",\r\n            paths: [\r\n                {\r\n                    d: \"M5.757 1.071a.5.5 0 0 1 .172.686L3.383 6h9.234L10.07 1.757a.5.5 0 1 1 .858-.514L13.783 6H15a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1v4.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 13.5V9a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h1.217L5.07 1.243a.5.5 0 0 1 .686-.172zM2 9v4.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V9H2zM1 7v1h14V7H1zm3 3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 4 10zm2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 6 10zm2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 8 10zm2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5zm2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"truck\",\r\n            paths: [\r\n                {\r\n                    d: \"M0 3.5A1.5 1.5 0 0 1 1.5 2h9A1.5 1.5 0 0 1 12 3.5V5h1.02a1.5 1.5 0 0 1 1.17.563l1.481 1.85a1.5 1.5 0 0 1 .329.938V10.5a1.5 1.5 0 0 1-1.5 1.5H14a2 2 0 1 1-4 0H5a2 2 0 1 1-3.998-.085A1.5 1.5 0 0 1 0 10.5v-7zm1.294 7.456A1.999 1.999 0 0 1 4.732 11h5.536a2.01 2.01 0 0 1 .732-.732V3.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .294.456zM12 10a2 2 0 0 1 1.732 1h.768a.5.5 0 0 0 .5-.5V8.35a.5.5 0 0 0-.11-.312l-1.48-1.85A.5.5 0 0 0 13.02 6H12v4zm-9 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm9 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"cloudUpload\",\r\n            paths: [\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M4.406 1.342A5.53 5.53 0 0 1 8 0c2.69 0 4.923 2 5.166 4.579C14.758 4.804 16 6.137 16 7.773 16 9.569 14.502 11 12.687 11H10a.5.5 0 0 1 0-1h2.688C13.979 10 15 8.988 15 7.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 2.825 10.328 1 8 1a4.53 4.53 0 0 0-2.941 1.1c-.757.652-1.153 1.438-1.153 2.055v.448l-.445.049C2.064 4.805 1 5.952 1 7.318 1 8.785 2.23 10 3.781 10H6a.5.5 0 0 1 0 1H3.781C1.708 11 0 9.366 0 7.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383z\",\r\n                },\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M7.646 4.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V14.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"creditCard\",\r\n            paths: [\r\n                {\r\n                    d: \"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v1h14V4a1 1 0 0 0-1-1H2zm13 4H1v5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V7z\",\r\n                },\r\n                {\r\n                    d: \"M2 10a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-1z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"cartCircleCheck\",\r\n            width: \"640\",\r\n            height: \"512\",\r\n            paths: [\r\n                {\r\n                    d: \"M64 0C67.64 0 70.82 2.458 71.74 5.98L78.53 32H541.8C562.1 32 578.3 52.25 572.6 72.66L537.6 196.9C532.4 195.7 527.2 194.7 521.8 193.9L557.2 68.33C560 58.13 552.4 48 541.8 48H82.7L141.1 272H348.5C345.1 277.2 342 282.5 339.2 288H145.3L166.2 368H319.1C319.1 373.4 320.2 378.7 320.7 384H159.1C156.4 384 153.2 381.5 152.3 378L57.82 16H8C3.582 16 0 12.42 0 8C0 3.582 3.582 .0003 8 .0003L64 0zM128 464C128 437.5 149.5 416 176 416C202.5 416 224 437.5 224 464C224 490.5 202.5 512 176 512C149.5 512 128 490.5 128 464zM176 496C193.7 496 208 481.7 208 464C208 446.3 193.7 432 176 432C158.3 432 144 446.3 144 464C144 481.7 158.3 496 176 496zM565.7 322.3C568.8 325.5 568.8 330.5 565.7 333.7L485.7 413.7C482.5 416.8 477.5 416.8 474.3 413.7L426.3 365.7C423.2 362.5 423.2 357.5 426.3 354.3C429.5 351.2 434.5 351.2 437.7 354.3L480 396.7L554.3 322.3C557.5 319.2 562.5 319.2 565.7 322.3H565.7zM352 368C352 288.5 416.5 224 496 224C575.5 224 640 288.5 640 368C640 447.5 575.5 512 496 512C416.5 512 352 447.5 352 368zM496 496C566.7 496 624 438.7 624 368C624 297.3 566.7 240 496 240C425.3 240 368 297.3 368 368C368 438.7 425.3 496 496 496z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"bagShopping\",\r\n            width: \"640\",\r\n            height: \"512\",\r\n            paths: [\r\n                {\r\n                    d: \"M128 128V96C128 42.98 170.1 0 224 0C277 0 320 42.98 320 96V128H400C426.5 128 448 149.5 448 176V416C448 469 405 512 352 512H96C42.98 512 0 469 0 416V176C0 149.5 21.49 128 48 128H128zM144 128H304V96C304 51.82 268.2 16 224 16C179.8 16 144 51.82 144 96V128zM48 144C30.33 144 16 158.3 16 176V416C16 460.2 51.82 496 96 496H352C396.2 496 432 460.2 432 416V176C432 158.3 417.7 144 400 144H320V232C320 236.4 316.4 240 312 240C307.6 240 304 236.4 304 232V144H144V232C144 236.4 140.4 240 136 240C131.6 240 128 236.4 128 232V144H48z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"plus\",\r\n            paths: [\r\n                {\r\n                    d: \"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"plusLg\",\r\n            paths: [\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"download\",\r\n            paths: [\r\n                {\r\n                    d: \"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z\",\r\n                },\r\n                {\r\n                    d: \"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z\",\r\n                },\r\n            ],\r\n        },\r\n    ];\r\n\r\n    const createIcon = (icon) => {\r\n        const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\r\n        svg.setAttribute(\"width\", `${icon.width || 16}`);\r\n        svg.setAttribute(\"height\", `${icon.height || 16}`);\r\n        svg.setAttribute(\"fill\", \"currentColor\");\r\n        svg.setAttribute(\"viewBox\", `0 0 ${icon.width || 16} ${icon.height || 16}`);\r\n        svg.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\");\r\n\r\n        icon.paths.forEach((path) => {\r\n            const pathElement = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\r\n            if (path.fillRule) {\r\n                pathElement.setAttribute(\"fill-rule\", path.fillRule);\r\n            }\r\n            pathElement.setAttribute(\"d\", path.d);\r\n            svg.appendChild(pathElement);\r\n        });\r\n\r\n        return svg;\r\n    };\r\n\r\n    const get = (name) => {\r\n        const icon = icons.find((icon) => icon.name === name);\r\n        if (!icon) {\r\n            return null;\r\n        }\r\n        return createIcon(icon);\r\n    };\r\n\r\n    return {\r\n        get,\r\n    };\r\n})();\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/modules/Icons.js?");

/***/ }),

/***/ "./src/js/modules/IndexedDB.js":
/*!*************************************!*\
  !*** ./src/js/modules/IndexedDB.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"indexedDB\": () => (/* binding */ indexedDB)\n/* harmony export */ });\nconst indexedDB = (() => {\r\n    let db;\r\n\r\n    const createIndexedDB = () => {\r\n        return new Promise((resolve, reject) => {\r\n            const request = window.indexedDB.open(\"lacopiadera\", 1);\r\n\r\n            request.onsuccess = async () => {\r\n                db = request.result;\r\n                resolve();\r\n            };\r\n\r\n            request.onupgradeneeded = () => {\r\n                const db = request.result;\r\n                db.createObjectStore(\"cart\", { keyPath: \"id\", autoIncrement: true });\r\n                db.createObjectStore(\"files\", { keyPath: \"id\", autoIncrement: true });\r\n                db.createObjectStore(\"options\", { keyPath: \"id\", autoIncrement: true });\r\n                db.createObjectStore(\"details\", { keyPath: \"id\", autoIncrement: true });\r\n                db.createObjectStore(\"addresses\", { keyPath: \"id\", autoIncrement: true });\r\n            };\r\n\r\n            request.onerror = () => reject(request.error);\r\n        });\r\n    };\r\n\r\n    const getRecords = (table) => {\r\n        return new Promise((resolve, reject) => {\r\n            const transaction = db.transaction(table);\r\n            const objectStore = transaction.objectStore(table);\r\n            const request = objectStore.openCursor();\r\n\r\n            let data = [];\r\n\r\n            request.onsuccess = () => {\r\n                const cursor = request.result;\r\n                if (cursor) {\r\n                    data = [...data, cursor.value];\r\n                    cursor.continue();\r\n                }\r\n            };\r\n\r\n            transaction.oncomplete = () => resolve(data);\r\n            request.onerror = () => reject(request.error);\r\n        });\r\n    };\r\n\r\n    const getRecord = (id, table) => {\r\n        return new Promise((resolve, reject) => {\r\n            const transaction = db.transaction(table);\r\n            const objectStore = transaction.objectStore(table);\r\n            const request = objectStore.get(id);\r\n\r\n            transaction.oncomplete = () => resolve(request.result);\r\n            request.onerror = () => reject(request.error);\r\n        });\r\n    };\r\n\r\n    const addRecords = (data, table) => {\r\n        return new Promise((resolve, reject) => {\r\n            const transaction = db.transaction([table], \"readwrite\");\r\n            const objectStore = transaction.objectStore(table);\r\n\r\n            let request;\r\n            for (let i = 0; i < data.length; i++) {\r\n                request = objectStore.add(data[i]);\r\n            }\r\n\r\n            transaction.oncomplete = () => resolve(request);\r\n            transaction.onerror = () => reject(request.error);\r\n        });\r\n    };\r\n\r\n    const addRecord = (data, table) => {\r\n        return new Promise((resolve, reject) => {\r\n            const transaction = db.transaction([table], \"readwrite\");\r\n            const objectStore = transaction.objectStore(table);\r\n            const request = objectStore.add(data);\r\n\r\n            transaction.oncomplete = () => resolve(request.result);\r\n            transaction.onerror = () => reject(request.error);\r\n        });\r\n    };\r\n\r\n    const updateRecord = (data, table) => {\r\n        return new Promise((resolve, reject) => {\r\n            const transaction = db.transaction([table], \"readwrite\");\r\n            const objectStore = transaction.objectStore(table);\r\n            const request = objectStore.put(data);\r\n\r\n            transaction.oncomplete = () => resolve(request.result);\r\n            transaction.onerror = () => reject(request.error);\r\n        });\r\n    };\r\n\r\n    const deleteRecord = (id, table) => {\r\n        return new Promise((resolve, reject) => {\r\n            const transaction = db.transaction([table], \"readwrite\");\r\n            const objectStore = transaction.objectStore(table);\r\n            const request = objectStore.delete(id);\r\n\r\n            transaction.oncomplete = () => resolve(request);\r\n            request.onerror = () => reject(request.error);\r\n        });\r\n    };\r\n\r\n    const clearRecords = (table) => {\r\n        return new Promise((resolve, reject) => {\r\n            const transaction = db.transaction([table], \"readwrite\");\r\n            const objectStore = transaction.objectStore(table);\r\n            const request = objectStore.clear();\r\n\r\n            transaction.oncomplete = () => resolve(request);\r\n            request.onerror = () => reject(request.error);\r\n        });\r\n    };\r\n\r\n    return {\r\n        createIndexedDB,\r\n        getRecords,\r\n        getRecord,\r\n        addRecords,\r\n        addRecord,\r\n        updateRecord,\r\n        deleteRecord,\r\n        clearRecords,\r\n    };\r\n})();\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/modules/IndexedDB.js?");

/***/ }),

/***/ "./src/js/modules/Layout.js":
/*!**********************************!*\
  !*** ./src/js/modules/Layout.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"layout\": () => (/* binding */ layout)\n/* harmony export */ });\nconst layout = (() => {\r\n    let pageYOffset = 0;\r\n    let isSidebarOpened = false;\r\n    let isSidebarAnimated = false;\r\n    let isUserPanelOpened = false;\r\n\r\n    const init = () => {\r\n        const hamburguerBtn = document.querySelector(\"#hamburguer-btn\");\r\n        const sidebar = document.querySelector(\"#main-sidebar\");\r\n        const userPanelBtn = document.querySelector(\"#user-panel-btn\");\r\n        const userPanel = document.querySelector(\"#user-panel\");\r\n\r\n        window.addEventListener(\"resize\", handleResize);\r\n        hamburguerBtn.addEventListener(\"click\", handleHamburguerBtn);\r\n        sidebar.addEventListener(\"click\", handleSidebar);\r\n        userPanelBtn.addEventListener(\"click\", handleUserPanelBtn);\r\n        userPanel.addEventListener(\"click\", handleUserPanel);\r\n\r\n        pageYOffset = 0;\r\n        isSidebarOpened = false;\r\n        isSidebarAnimated = false;\r\n        isUserPanelOpened = false;\r\n    };\r\n\r\n    const handleResize = async () => {\r\n        const hamburguerBtn = document.querySelector(\"#hamburguer-btn\");\r\n        const sidebar = document.querySelector(\"#main-sidebar\");\r\n        const userPanelBtn = document.querySelector(\"#user-panel-btn\");\r\n        const userPanel = document.querySelector(\"#user-panel\");\r\n\r\n        if (window.innerWidth >= 1024 && isSidebarOpened) {\r\n            isSidebarOpened = false;\r\n            isSidebarAnimated = true;\r\n\r\n            noScroll(false);\r\n\r\n            hamburguerBtn.classList.remove(\"active\");\r\n            sidebar.classList.add(\"out\");\r\n            await animationend(sidebar);\r\n            sidebar.classList.remove(\"active\", \"in\", \"out\");\r\n\r\n            isSidebarAnimated = false;\r\n            return;\r\n        }\r\n\r\n        positionUserPanel(userPanelBtn, userPanel);\r\n    };\r\n\r\n    const handleHamburguerBtn = async () => {\r\n        const hamburguerBtn = document.querySelector(\"#hamburguer-btn\");\r\n        const sidebar = document.querySelector(\"#main-sidebar\");\r\n\r\n        if (isSidebarOpened && !isSidebarAnimated) {\r\n            isSidebarOpened = false;\r\n            isSidebarAnimated = true;\r\n\r\n            noScroll(false);\r\n\r\n            hamburguerBtn.classList.remove(\"active\");\r\n            sidebar.classList.add(\"out\");\r\n            await animationend(sidebar);\r\n            sidebar.classList.remove(\"active\", \"in\", \"out\");\r\n\r\n            isSidebarAnimated = false;\r\n            return;\r\n        }\r\n\r\n        if (!isSidebarOpened && !isSidebarAnimated) {\r\n            isSidebarOpened = true;\r\n            isSidebarAnimated = true;\r\n\r\n            noScroll(true);\r\n\r\n            hamburguerBtn.classList.add(\"active\");\r\n            sidebar.classList.add(\"active\", \"in\");\r\n            await animationend(sidebar);\r\n\r\n            isSidebarAnimated = false;\r\n            return;\r\n        }\r\n    };\r\n\r\n    const handleSidebar = async (e) => {\r\n        const hamburguerBtn = document.querySelector(\"#hamburguer-btn\");\r\n        const sidebar = document.querySelector(\"#main-sidebar\");\r\n\r\n        if (e.target.id === \"main-sidebar\" && isSidebarOpened && !isSidebarAnimated) {\r\n            isSidebarOpened = false;\r\n            isSidebarAnimated = true;\r\n\r\n            noScroll(false);\r\n\r\n            hamburguerBtn.classList.remove(\"active\");\r\n            sidebar.classList.add(\"out\");\r\n            await animationend(sidebar);\r\n            sidebar.classList.remove(\"active\", \"in\", \"out\");\r\n\r\n            isSidebarAnimated = false;\r\n        }\r\n    };\r\n\r\n    const handleUserPanelBtn = async () => {\r\n        const userPanel = document.querySelector(\"#user-panel\");\r\n\r\n        isUserPanelOpened = true;\r\n\r\n        userPanel.classList.add(\"active\", \"in\");\r\n        positionUserPanel();\r\n        await animationend(userPanel);\r\n    };\r\n\r\n    const handleUserPanel = async (e) => {\r\n        const userPanel = document.querySelector(\"#user-panel\");\r\n\r\n        if (e.target.id === \"user-panel\") {\r\n            isUserPanelOpened = false;\r\n\r\n            userPanel.classList.add(\"out\");\r\n            await animationend(userPanel);\r\n            userPanel.classList.remove(\"active\", \"in\", \"out\");\r\n        }\r\n    };\r\n\r\n    const positionUserPanel = () => {\r\n        if (!isUserPanelOpened) {\r\n            return;\r\n        }\r\n\r\n        const header = document.querySelector(\"header .container\");\r\n        const userPanelBtn = document.querySelector(\"#user-panel-btn\");\r\n        const userPanel = document.querySelector(\"#user-panel\");\r\n        const arrow = document.querySelector(\"#user-panel .arrow\");\r\n\r\n        const rect = userPanelBtn.getBoundingClientRect();\r\n\r\n        const style = getComputedStyle(header);\r\n        const marginRight = parseInt(style.marginRight);\r\n\r\n        const top = rect.top + userPanelBtn.offsetHeight + 14;\r\n        userPanel.firstElementChild.style.top = `${top}px`;\r\n\r\n        if (innerWidth < 480) {\r\n            const width = document.body.offsetWidth - 20;\r\n            const right = (document.body.offsetWidth - width) / 2;\r\n            const rightArrow = width - rect.right + 10 + rect.width / 2 - arrow.offsetWidth / 2;\r\n\r\n            userPanel.firstElementChild.style.maxWidth = width + \"px\";\r\n            userPanel.firstElementChild.style.right = right + \"px\";\r\n            arrow.style.right = rightArrow + \"px\";\r\n        } else if (innerWidth < 768) {\r\n            const width = document.body.offsetWidth;\r\n            const right = marginRight + 20;\r\n            const rightArrow =\r\n                width - rect.right - 20 + rect.width / 2 - arrow.offsetWidth / 2 - marginRight;\r\n\r\n            userPanel.firstElementChild.style.maxWidth = \"320px\";\r\n            userPanel.firstElementChild.style.right = right + \"px\";\r\n            arrow.style.right = rightArrow + \"px\";\r\n        } else if (innerWidth < 1024) {\r\n            const width = document.body.offsetWidth;\r\n            const right = marginRight + 30;\r\n            const rightArrow =\r\n                width - rect.right - 30 + rect.width / 2 - arrow.offsetWidth / 2 - marginRight;\r\n\r\n            userPanel.firstElementChild.style.maxWidth = \"320px\";\r\n            userPanel.firstElementChild.style.right = right + \"px\";\r\n            arrow.style.right = rightArrow + \"px\";\r\n        } else {\r\n            const width = document.body.offsetWidth;\r\n            const right = marginRight + 40;\r\n            const rightArrow =\r\n                width - rect.right - 40 + rect.width / 2 - arrow.offsetWidth / 2 - marginRight;\r\n\r\n            userPanel.firstElementChild.style.maxWidth = \"320px\";\r\n            userPanel.firstElementChild.style.right = right + \"px\";\r\n            arrow.style.right = rightArrow + \"px\";\r\n        }\r\n    };\r\n\r\n    const noScroll = (active) => {\r\n        const hasScrollbar = window.innerWidth > document.documentElement.clientWidth;\r\n\r\n        if (!hasScrollbar) {\r\n            return;\r\n        }\r\n\r\n        if (active) {\r\n            pageYOffset = window.pageYOffset;\r\n\r\n            document.body.style.top = `-${pageYOffset}px`;\r\n            document.body.classList.add(\"noscroll\");\r\n            return;\r\n        }\r\n\r\n        document.body.removeAttribute(\"style\");\r\n        document.body.classList.remove(\"noscroll\");\r\n        window.scroll(0, pageYOffset);\r\n\r\n        pageYOffset = 0;\r\n    };\r\n\r\n    const animationend = (target) => {\r\n        return new Promise((resolve) => {\r\n            target.addEventListener(\"animationend\", resolve, { once: true });\r\n        });\r\n    };\r\n\r\n    return {\r\n        init,\r\n    };\r\n})();\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/modules/Layout.js?");

/***/ }),

/***/ "./src/js/modules/Orders.js":
/*!**********************************!*\
  !*** ./src/js/modules/Orders.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"orders\": () => (/* binding */ orders)\n/* harmony export */ });\n/* harmony import */ var _classes_Cart__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../classes/Cart */ \"./src/js/classes/Cart.js\");\n/* harmony import */ var _classes_Options__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../classes/Options */ \"./src/js/classes/Options.js\");\n/* harmony import */ var _classes_Files__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../classes/Files */ \"./src/js/classes/Files.js\");\n/* harmony import */ var _classes_Spinner__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../classes/Spinner */ \"./src/js/classes/Spinner.js\");\n/* harmony import */ var _classes_Popup__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../classes/Popup */ \"./src/js/classes/Popup.js\");\n/* harmony import */ var _classes_Confirm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../classes/Confirm */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _IndexedDB__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./IndexedDB */ \"./src/js/modules/IndexedDB.js\");\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../app */ \"./src/js/app.js\");\n/* harmony import */ var _classes_Orders__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../classes/Orders */ \"./src/js/classes/Orders.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst orders = async () => {\r\n    let isOpen = false;\r\n    let isAnimated = false;\r\n\r\n    const handleUpdateCartItem = async (item) => {\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset()]);\r\n\r\n        options.setValues(item.options);\r\n        options.setUpdate(true);\r\n        files.set(item.files);\r\n\r\n        await Promise.all([options.save(), files.save()]);\r\n        await Promise.all([spinner.close(), cart.close()]);\r\n\r\n        _app__WEBPACK_IMPORTED_MODULE_7__.navigator.goTo(\"/imprimir\");\r\n    };\r\n\r\n    const handleDeleteCartItem = async (item) => {\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            title: \"¿Eliminar impresión?\",\r\n            description:\r\n                \"La impresion se eliminará del carrito. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.delete(item)]);\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            title: \"¡Impresión eliminada!\",\r\n            message: \"La impresión ha sido eliminada correctamente del carrito.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n\r\n        cart.close();\r\n    };\r\n\r\n    const handleClearCart = async () => {\r\n        if (!cart.length()) {\r\n            return;\r\n        }\r\n\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            title: \"¿Vaciar carrito?\",\r\n            description: \"El carrito se vaciará. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Vaciar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.clear()]);\r\n\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            title: \"¡Carrito vacío!\",\r\n            message: \"El carrito ha sido vaciado correctamente.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n        await cart.close();\r\n    };\r\n\r\n    const handleResize = () => {\r\n        if (window.innerWidth >= 768 && isOpen) {\r\n            isOpen = false;\r\n\r\n            userSidebar.classList.remove(\"active\", \"in\", \"out\");\r\n        }\r\n    };\r\n\r\n    const handleOpenUserSidebar = async () => {\r\n        if (!isOpen && !isAnimated) {\r\n            isOpen = true;\r\n            isAnimated = true;\r\n\r\n            userSidebar.classList.add(\"active\", \"in\");\r\n            await animationend(userSidebar);\r\n\r\n            isAnimated = false;\r\n        }\r\n    };\r\n\r\n    const handleCloseUserSidebar = async (e) => {\r\n        if (\r\n            (e.target === userSidebar || e.currentTarget === closeUserSidebarBtn) &&\r\n            isOpen &&\r\n            !isAnimated\r\n        ) {\r\n            isOpen = false;\r\n            isAnimated = true;\r\n\r\n            if (innerWidth < 768) {\r\n                userSidebar.classList.add(\"out\");\r\n                await animationend(userSidebar);\r\n                userSidebar.classList.remove(\"active\", \"in\", \"out\");\r\n            }\r\n\r\n            isAnimated = false;\r\n        }\r\n    };\r\n\r\n    const animationend = (target) => {\r\n        return new Promise((resolve) => {\r\n            target.addEventListener(\"animationend\", resolve, { once: true });\r\n        });\r\n    };\r\n\r\n    const userSidebar = document.querySelector(\"#user-sidebar\");\r\n    const openUserSidebarBtn = document.querySelector(\"#open-user-sidebar-btn\");\r\n    const closeUserSidebarBtn = document.querySelector(\"#close-user-sidebar-btn\");\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n    openUserSidebarBtn.addEventListener(\"click\", handleOpenUserSidebar);\r\n    closeUserSidebarBtn.addEventListener(\"click\", handleCloseUserSidebar);\r\n    userSidebar.addEventListener(\"click\", handleCloseUserSidebar);\r\n\r\n    const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n        parent: document.querySelector(\"#orders\").parentElement,\r\n    });\r\n    await spinner.open();\r\n\r\n    const orders = new _classes_Orders__WEBPACK_IMPORTED_MODULE_8__[\"default\"]();\r\n    await orders.init();\r\n\r\n    await _IndexedDB__WEBPACK_IMPORTED_MODULE_6__.indexedDB.createIndexedDB();\r\n    const cartDB = await _IndexedDB__WEBPACK_IMPORTED_MODULE_6__.indexedDB.getRecords(\"cart\");\r\n\r\n    await spinner.close();\r\n\r\n    const cart = new _classes_Cart__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n        cart: cartDB,\r\n        onUpdate: handleUpdateCartItem,\r\n        onDelete: handleDeleteCartItem,\r\n        onClear: handleClearCart,\r\n    });\r\n    const options = new _classes_Options__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\r\n    const files = new _classes_Files__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\r\n};\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/modules/Orders.js?");

/***/ }),

/***/ "./src/js/modules/OrdersAdmin.js":
/*!***************************************!*\
  !*** ./src/js/modules/OrdersAdmin.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ordersAdmin\": () => (/* binding */ ordersAdmin)\n/* harmony export */ });\n/* harmony import */ var _classes_mio_Switch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../classes/mio/Switch */ \"./src/js/classes/mio/Switch.js\");\n/* harmony import */ var _classes_Cart__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../classes/Cart */ \"./src/js/classes/Cart.js\");\n/* harmony import */ var _classes_Options__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../classes/Options */ \"./src/js/classes/Options.js\");\n/* harmony import */ var _classes_Files__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../classes/Files */ \"./src/js/classes/Files.js\");\n/* harmony import */ var _classes_Spinner__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../classes/Spinner */ \"./src/js/classes/Spinner.js\");\n/* harmony import */ var _classes_Popup__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../classes/Popup */ \"./src/js/classes/Popup.js\");\n/* harmony import */ var _classes_Confirm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../classes/Confirm */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _classes_Modal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../classes/Modal */ \"./src/js/classes/Modal.js\");\n/* harmony import */ var _classes_Table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../classes/Table */ \"./src/js/classes/Table.js\");\n/* harmony import */ var _classes_Items__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../classes/Items */ \"./src/js/classes/Items.js\");\n/* harmony import */ var _classes_PreviewOrder__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../classes/PreviewOrder */ \"./src/js/classes/PreviewOrder.js\");\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../app */ \"./src/js/app.js\");\n/* harmony import */ var _IndexedDB__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./IndexedDB */ \"./src/js/modules/IndexedDB.js\");\n/* harmony import */ var _Icons__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Icons */ \"./src/js/modules/Icons.js\");\n/* harmony import */ var _Api__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Api */ \"./src/js/modules/Api.js\");\n/* harmony import */ var _Tools__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Tools */ \"./src/js/modules/Tools.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst ordersAdmin = async () => {\r\n    let order = null;\r\n    let orders = [];\r\n\r\n    let values = {\r\n        paid: false,\r\n    };\r\n\r\n    let errors = {\r\n        name: \"\",\r\n        order: \"\",\r\n        discount: \"\",\r\n    };\r\n\r\n    let modal = null;\r\n\r\n    let isOpen = false;\r\n    let isAnimated = false;\r\n\r\n    const handleUpdateCartItem = async (item) => {\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset()]);\r\n\r\n        options.setValues(item.options);\r\n        options.setUpdate(true);\r\n        files.set(item.files);\r\n\r\n        await Promise.all([options.save(), files.save()]);\r\n        await Promise.all([spinner.close(), cart.close()]);\r\n\r\n        _app__WEBPACK_IMPORTED_MODULE_11__.navigator.goTo(\"/imprimir\");\r\n    };\r\n\r\n    const handleDeleteCartItem = async (item) => {\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            title: \"¿Eliminar impresión?\",\r\n            description:\r\n                \"La impresion se eliminará del carrito. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.delete(item)]);\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            title: \"¡Impresión eliminada!\",\r\n            message: \"La impresión ha sido eliminada correctamente del carrito.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n\r\n        cart.close();\r\n    };\r\n\r\n    const handleClearCart = async () => {\r\n        if (!cart.length()) {\r\n            return;\r\n        }\r\n\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            title: \"¿Vaciar carrito?\",\r\n            description: \"El carrito se vaciará. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Vaciar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.clear()]);\r\n\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            title: \"¡Carrito vacío!\",\r\n            message: \"El carrito ha sido vaciado correctamente.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n        await cart.close();\r\n    };\r\n\r\n    const handleResize = () => {\r\n        if (window.innerWidth >= 768 && isOpen) {\r\n            isOpen = false;\r\n\r\n            userSidebar.classList.remove(\"active\", \"in\", \"out\");\r\n        }\r\n    };\r\n\r\n    const handleOpenUserSidebar = async () => {\r\n        if (!isOpen && !isAnimated) {\r\n            isOpen = true;\r\n            isAnimated = true;\r\n\r\n            userSidebar.classList.add(\"active\", \"in\");\r\n            await animationend(userSidebar);\r\n\r\n            isAnimated = false;\r\n        }\r\n    };\r\n\r\n    const handleCloseUserSidebar = async (e) => {\r\n        if (\r\n            (e.target === userSidebar || e.currentTarget === closeUserSidebarBtn) &&\r\n            isOpen &&\r\n            !isAnimated\r\n        ) {\r\n            isOpen = false;\r\n            isAnimated = true;\r\n\r\n            if (innerWidth < 768) {\r\n                userSidebar.classList.add(\"out\");\r\n                await animationend(userSidebar);\r\n                userSidebar.classList.remove(\"active\", \"in\", \"out\");\r\n            }\r\n\r\n            isAnimated = false;\r\n        }\r\n    };\r\n\r\n    const animationend = (target) => {\r\n        return new Promise((resolve) => {\r\n            target.addEventListener(\"animationend\", resolve, { once: true });\r\n        });\r\n    };\r\n\r\n    const readOrders = async () => {\r\n        const response = await _Api__WEBPACK_IMPORTED_MODULE_14__.api.post(\"/api/order/read\");\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n        orders = response.orders;\r\n    };\r\n\r\n    const handleSeeOrder = async (row) => {\r\n        console.log(row);\r\n        const previewOrder = new _classes_PreviewOrder__WEBPACK_IMPORTED_MODULE_10__[\"default\"]({\r\n            items: row.items,\r\n            onDownload: handleDownload,\r\n        });\r\n\r\n        modal = new _classes_Modal__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            title: \"Ver pedido\",\r\n            content: previewOrder.create(),\r\n            action: \"Aceptar\",\r\n            maxWidth: \"900px\",\r\n            fullscreenButton: true,\r\n            actionCallback: () => {},\r\n            closeCallback: () => {},\r\n            fullscreenCallback: () => {},\r\n        });\r\n    };\r\n\r\n    const handleDownload = async (item) => {\r\n        // console.log(item);\r\n        // return;\r\n        const form = document.createElement(\"form\");\r\n        form.method = \"POST\";\r\n        form.action = \"/api/order/download\";\r\n\r\n        const inputOrderId = document.createElement(\"input\");\r\n        inputOrderId.type = \"hidden\";\r\n        inputOrderId.name = \"orderId\";\r\n        inputOrderId.value = item.orderId;\r\n        form.appendChild(inputOrderId);\r\n\r\n        const inputItemId = document.createElement(\"input\");\r\n        inputItemId.type = \"hidden\";\r\n        inputItemId.name = \"id\";\r\n        inputItemId.value = item.id;\r\n        form.appendChild(inputItemId);\r\n        \r\n        document.body.appendChild(form);\r\n        form.submit();\r\n        document.body.removeChild(form);\r\n    };\r\n\r\n    const handleUpdateOrder = async (row) => {\r\n        order = row;\r\n        setValues(row);\r\n\r\n        modal = new _classes_Modal__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            title: \"Actualizar pedido\",\r\n            content: createOrderForm(),\r\n            action: \"Actualizar\",\r\n            maxWidth: \"700px\",\r\n            fullscreenButton: true,\r\n            actionCallback: () => updateOrder(),\r\n            closeCallback: () => {\r\n                resetValues();\r\n                resetErrors();\r\n            },\r\n            fullscreenCallback: () => {},\r\n        });\r\n    };\r\n\r\n    const updateOrder = async () => {\r\n        const data = { ...order, ...values };\r\n\r\n        const response = await _Api__WEBPACK_IMPORTED_MODULE_14__.api.put(\"/api/order\", data);\r\n\r\n        if (response.status === \"error\") {\r\n            setErrors(response.errors);\r\n            modal.repaint(createOrderForm());\r\n            return;\r\n        }\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            title: \"¡Pedido actualizado!\",\r\n            message: \"El pedido ha sido actualizado correctamente.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n        await modal.close();\r\n\r\n        table.updateRow(response.order);\r\n    };\r\n\r\n    const handleDeleteOrder = async (row) => {\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            title: \"¿Eliminar pedido?\",\r\n            description:\r\n                \"¿Estás seguro de eliminar este pedido? Los datos no podrán ser recuperados.\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const response = await _Api__WEBPACK_IMPORTED_MODULE_14__.api[\"delete\"](\"/api/order\", row);\r\n\r\n        if (response.status === \"error\") {\r\n            const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n                title: \"¡Error!\",\r\n                message: response.message,\r\n                type: \"error\",\r\n                timer: 3000,\r\n            });\r\n            await popup.open();\r\n            return;\r\n        }\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            title: \"¡Pedido eliminado!\",\r\n            message: \"El pedido ha sido eliminado correctamente.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n\r\n        table.deleteRow(row);\r\n    };\r\n\r\n    const handleDeleteOrders = async (rows) => {\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            title: `¿Eliminar ${rows.length > 1 ? \"pedidos\" : \"pedido\"}?`,\r\n            description: `¿Estás seguro de eliminar  ${\r\n                rows.length > 1 ? \"estos pedidos\" : \"esta pedido\"\r\n            }? Los datos no podrán ser recuperados.`,\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const response = await _Api__WEBPACK_IMPORTED_MODULE_14__.api[\"delete\"](\"/api/order/multiple\", rows);\r\n\r\n        if (response.status === \"error\") {\r\n            const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n                title: \"¡Error!\",\r\n                message: response.message,\r\n                type: \"error\",\r\n                timer: 3000,\r\n            });\r\n            await popup.open();\r\n            return;\r\n        }\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            title: `¡${rows.length > 1 ? \"Pedidos eliminados\" : \"Pedido eliminado\"}!`,\r\n            message: `${\r\n                rows.length > 1 ? \"Los pedidos han sido eliminados\" : \"El codigo ha sido eliminado\"\r\n            } correctamente!`,\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n\r\n        table.deleteRows(rows);\r\n    };\r\n\r\n    const handleDownloadDocuments = async (row) => {\r\n        console.log(row);\r\n        // return;\r\n        const form = document.createElement(\"form\");\r\n        form.method = \"POST\";\r\n        form.action = \"/api/order/download/all\";\r\n\r\n        const input = document.createElement(\"input\");\r\n        input.type = \"hidden\";\r\n        input.name = \"id\";\r\n        input.value = row.id;\r\n\r\n        form.appendChild(input);\r\n        document.body.appendChild(form);\r\n        form.submit();\r\n        document.body.removeChild(form);\r\n    };\r\n\r\n    const handleGenerateInvoicePDF = async (row) => {\r\n        if (!row.paid) {\r\n            const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n                title: \"¡Error!\",\r\n                message: \"El pedido no ha sido pagado.\",\r\n                type: \"error\",\r\n                timer: 3000,\r\n            });\r\n            await popup.open();\r\n            return;\r\n        }\r\n\r\n        const response = await _Api__WEBPACK_IMPORTED_MODULE_14__.api.post(\"/api/order/invoice\", row);\r\n\r\n        const linkSource = `data:application/pdf;base64,${response.base64}`;\r\n        const downloadLink = document.createElement(\"a\");\r\n        const fileName = response.fileName;\r\n\r\n        downloadLink.href = linkSource;\r\n        downloadLink.download = fileName;\r\n        downloadLink.click();\r\n    };\r\n\r\n    const resetValues = () => {\r\n        for (const key of Object.keys(values)) {\r\n            if (key === \"predetermined\") {\r\n                values[key] = false;\r\n            } else {\r\n                values[key] = \"\";\r\n            }\r\n        }\r\n    };\r\n\r\n    const resetErrors = () => {\r\n        for (const key of Object.keys(errors)) {\r\n            errors[key] = \"\";\r\n        }\r\n    };\r\n\r\n    const setValues = (row) => {\r\n        for (const key of Object.keys(values)) {\r\n            values[key] = row[key];\r\n        }\r\n    };\r\n\r\n    const setErrors = (responseErrors) => {\r\n        for (const key of Object.keys(responseErrors)) {\r\n            if (errors[key] !== undefined) {\r\n                errors[key] = responseErrors[key];\r\n            }\r\n        }\r\n    };\r\n\r\n    const createOrderForm = () => {\r\n        const form = document.createElement(\"form\");\r\n        form.classList.add(\"mio-form\");\r\n        form.noValidate = true;\r\n\r\n        const paid = new _classes_mio_Switch__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Pagado\",\r\n                for: \"paid\",\r\n            },\r\n            input: {\r\n                name: \"paid\",\r\n                id: \"paid\",\r\n                value: values.paid,\r\n            },\r\n            size: \"medium\",\r\n            callback: (value) => {\r\n                values.paid = value;\r\n            },\r\n        });\r\n        form.appendChild(paid.getField());\r\n\r\n        return form;\r\n    };\r\n\r\n    const ordersContainer = document.querySelector(\"#orders-admin\");\r\n    const userSidebar = document.querySelector(\"#user-sidebar\");\r\n    const openUserSidebarBtn = document.querySelector(\"#open-user-sidebar-btn\");\r\n    const closeUserSidebarBtn = document.querySelector(\"#close-user-sidebar-btn\");\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n    openUserSidebarBtn.addEventListener(\"click\", handleOpenUserSidebar);\r\n    closeUserSidebarBtn.addEventListener(\"click\", handleCloseUserSidebar);\r\n    userSidebar.addEventListener(\"click\", handleCloseUserSidebar);\r\n\r\n    const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n        parent: document.querySelector(\"#orders-admin\").parentElement,\r\n    });\r\n    await spinner.open();\r\n\r\n    await readOrders();\r\n\r\n    await _IndexedDB__WEBPACK_IMPORTED_MODULE_12__.indexedDB.createIndexedDB();\r\n    const cartDB = await _IndexedDB__WEBPACK_IMPORTED_MODULE_12__.indexedDB.getRecords(\"cart\");\r\n\r\n    await spinner.close();\r\n\r\n    const cart = new _classes_Cart__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n        cart: cartDB,\r\n        onUpdate: handleUpdateCartItem,\r\n        onDelete: handleDeleteCartItem,\r\n        onClear: handleClearCart,\r\n    });\r\n    const options = new _classes_Options__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\r\n    const files = new _classes_Files__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\r\n\r\n    const columns = [\r\n        { field: \"id\", headerName: \"Id\" },\r\n        { field: \"number\", headerName: \"Pedido\" },\r\n        { field: \"username\", headerName: \"Cliente\" },\r\n        { field: \"total\", headerName: \"Total\" },\r\n        { field: \"paid\", headerName: \"Pagado\", formatter: (paid) => (paid ? \"Sí\" : \"No\") },\r\n        { field: \"createdAt\", headerName: \"Fecha\", formatter: _Tools__WEBPACK_IMPORTED_MODULE_15__.tools.dateTimeFormat },\r\n    ];\r\n\r\n    const table = new _classes_Table__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\r\n        title: \"Pedidos\",\r\n        columns: columns,\r\n        rows: orders,\r\n        findFields: [\"number\", \"username\"],\r\n        container: ordersContainer,\r\n        visibleRows: 10,\r\n        rowsPerPage: 15,\r\n        rowsPerPageOptions: [5, 10, 15],\r\n        showActionsMenu: true,\r\n        headerActions: [],\r\n        rowsActions: [\r\n            {\r\n                name: \"Consultar pedido\",\r\n                icon: _Icons__WEBPACK_IMPORTED_MODULE_13__.icons.get(\"eyeFill\"),\r\n                callback: handleSeeOrder,\r\n            },\r\n            {\r\n                name: \"Editar pedido\",\r\n                icon: _Icons__WEBPACK_IMPORTED_MODULE_13__.icons.get(\"pencilSquare\"),\r\n                callback: handleUpdateOrder,\r\n            },\r\n            {\r\n                name: \"Eliminar pedido\",\r\n                icon: _Icons__WEBPACK_IMPORTED_MODULE_13__.icons.get(\"trash\"),\r\n                callback: handleDeleteOrder,\r\n            },\r\n            {\r\n                name: \"Descargar documentos\",\r\n                icon: _Icons__WEBPACK_IMPORTED_MODULE_13__.icons.get(\"download\"),\r\n                callback: handleDownloadDocuments,\r\n            },\r\n            {\r\n                name: \"Generar factura PDF\",\r\n                icon: _Icons__WEBPACK_IMPORTED_MODULE_13__.icons.get(\"filePDF\"),\r\n                callback: handleGenerateInvoicePDF,\r\n            },\r\n        ],\r\n        selectActions: [\r\n            {\r\n                name: \"Eliminar pedidos\",\r\n                icon: _Icons__WEBPACK_IMPORTED_MODULE_13__.icons.get(\"trash\"),\r\n                callback: handleDeleteOrders,\r\n            },\r\n        ],\r\n    });\r\n};\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/modules/OrdersAdmin.js?");

/***/ }),

/***/ "./src/js/modules/Payment.js":
/*!***********************************!*\
  !*** ./src/js/modules/Payment.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"payment\": () => (/* binding */ payment)\n/* harmony export */ });\n/* harmony import */ var _classes_Cart__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../classes/Cart */ \"./src/js/classes/Cart.js\");\n/* harmony import */ var _classes_Steps__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../classes/Steps */ \"./src/js/classes/Steps.js\");\n\r\n\r\n\r\nconst payment = async (req) => {\r\n    const handleLoad = async () => {\r\n        steps.init();\r\n    };\r\n\r\n    const cart = new _classes_Cart__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n        cart: [],\r\n        onUpdate: () => {},\r\n        onDelete: () => {},\r\n        onClear: () => {},\r\n    });\r\n\r\n    const steps = new _classes_Steps__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n        index: 3,\r\n        disabled: true,\r\n        onClick: () => {},\r\n    });\r\n\r\n    handleLoad();\r\n};\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/modules/Payment.js?");

/***/ }),

/***/ "./src/js/modules/Printer.js":
/*!***********************************!*\
  !*** ./src/js/modules/Printer.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"printer\": () => (/* binding */ printer)\n/* harmony export */ });\n/* harmony import */ var _classes_Files__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../classes/Files */ \"./src/js/classes/Files.js\");\n/* harmony import */ var _classes_File__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../classes/File */ \"./src/js/classes/File.js\");\n/* harmony import */ var _classes_InputFiles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../classes/InputFiles */ \"./src/js/classes/InputFiles.js\");\n/* harmony import */ var _classes_Drop__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../classes/Drop */ \"./src/js/classes/Drop.js\");\n/* harmony import */ var _classes_Thumbs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../classes/Thumbs */ \"./src/js/classes/Thumbs.js\");\n/* harmony import */ var _classes_Options__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../classes/Options */ \"./src/js/classes/Options.js\");\n/* harmony import */ var _classes_Pdf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../classes/Pdf */ \"./src/js/classes/Pdf.js\");\n/* harmony import */ var _classes_Cart__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../classes/Cart */ \"./src/js/classes/Cart.js\");\n/* harmony import */ var _classes_Spinner__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../classes/Spinner */ \"./src/js/classes/Spinner.js\");\n/* harmony import */ var _classes_Popup__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../classes/Popup */ \"./src/js/classes/Popup.js\");\n/* harmony import */ var _classes_Confirm__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../classes/Confirm */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _classes_Resume__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../classes/Resume */ \"./src/js/classes/Resume.js\");\n/* harmony import */ var _classes_Item__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../classes/Item */ \"./src/js/classes/Item.js\");\n/* harmony import */ var _IndexedDB__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./IndexedDB */ \"./src/js/modules/IndexedDB.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst printer = async () => {\r\n    await _IndexedDB__WEBPACK_IMPORTED_MODULE_13__.indexedDB.createIndexedDB();\r\n\r\n    const [filesDB, optionsDB, cartDB] = await Promise.all([\r\n        _IndexedDB__WEBPACK_IMPORTED_MODULE_13__.indexedDB.getRecords(\"files\"),\r\n        _IndexedDB__WEBPACK_IMPORTED_MODULE_13__.indexedDB.getRecords(\"options\"),\r\n        _IndexedDB__WEBPACK_IMPORTED_MODULE_13__.indexedDB.getRecords(\"cart\"),\r\n    ]);\r\n\r\n    const handleLoad = async () => {\r\n        cart.get().forEach((item) => {\r\n            const filesMatch = item.files.some((itemFile) => {\r\n                return files.get().some((file) => file.id === itemFile.id);\r\n            });\r\n\r\n            if (filesMatch) {\r\n                cart.setItem(item);\r\n            }\r\n        });\r\n\r\n        if (files.length() === 0 && cart.getItem() === null && options.getUpdate()) {\r\n            await options.reset();\r\n            options.repaint();\r\n            cart.setItem(null);\r\n        }\r\n    };\r\n\r\n    const handleAddFiles = async (filesParam) => {\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\r\n            parent: document.querySelector(\"#droparea\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        options.setCustomPages(\"all\");\r\n        options.setFrom(1);\r\n        options.setTo(1);\r\n        options.setMaxCustomPagesTo(null);\r\n\r\n        await files.recalculate(options.getValues());\r\n        thumbs.show(files.get(), options.getValues());\r\n\r\n        for (let i = 0; i < filesParam.length; i++) {\r\n            const file = filesParam[i];\r\n\r\n            const { image, pages } = await pdf.getData(file);\r\n\r\n            const fileObject = new _classes_File__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n                file,\r\n                name: file.name,\r\n                size: file.size,\r\n                type: file.type,\r\n                image,\r\n                pages,\r\n                options: options.getValues(),\r\n            });\r\n\r\n            await files.add(fileObject);\r\n            thumbs.add(fileObject, options.getValues());\r\n        }\r\n\r\n        if (files.length() > 1) {\r\n            options.setCustumPagesEnabled(false);\r\n        } else {\r\n            options.setCustumPagesEnabled(true);\r\n            options.setTo(files.getFirst().pages);\r\n            options.setMaxCustomPagesTo(files.getFirst().pages);\r\n        }\r\n\r\n        await options.save();\r\n        options.repaint();\r\n        inputFiles.clear();\r\n\r\n        await spinner.close();\r\n    };\r\n\r\n    const handleDeleteFile = async (file) => {\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_10__[\"default\"]({\r\n            title: \"¿Eliminar archivo?\",\r\n            description: \"El archivo se borrará. ¿Estás seguro de eliminar este archivo?\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        await files.delete(file);\r\n\r\n        if (files.length() === 0 && !cart.getItem()) {\r\n            await Promise.all([options.reset(), files.reset()]);\r\n            options.repaint();\r\n            thumbs.clear();\r\n            return;\r\n        }\r\n\r\n        if (files.length() === 1) {\r\n            options.setCustumPagesEnabled(true);\r\n            options.setTo(files.getFirst().pages);\r\n            options.setMaxCustomPagesTo(files.getFirst().pages);\r\n        }\r\n\r\n        if (files.length() > 1) {\r\n            options.setCustumPagesEnabled(false);\r\n        }\r\n\r\n        thumbs.show(files.get(), options.getValues());\r\n\r\n        await options.save();\r\n        options.repaint();\r\n    };\r\n\r\n    const handleChangeOptions = async () => {\r\n        await files.recalculate(options.getValues());\r\n        thumbs.show(files.get(), options.getValues());\r\n    };\r\n\r\n    const handleCreateItem = async () => {\r\n        if (!files.length()) {\r\n            const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_9__[\"default\"]({\r\n                title: \"¡Error de subida!\",\r\n                message: \"No hay archivos para subir. Por favor, añade archivos.\",\r\n                type: \"error\",\r\n                timer: 3000,\r\n            });\r\n\r\n            options.createBtn.stop();\r\n            await popup.open();\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\r\n            parent: document.querySelector(\"#print\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        const resume = new _classes_Resume__WEBPACK_IMPORTED_MODULE_11__[\"default\"]({\r\n            files: files.get(),\r\n        });\r\n\r\n        const item = new _classes_Item__WEBPACK_IMPORTED_MODULE_12__[\"default\"]({\r\n            files: files.get(),\r\n            options: options.getValues(),\r\n            resume: resume.get(),\r\n        });\r\n\r\n        await cart.add(item);\r\n\r\n        options.createBtn.stop();\r\n        await spinner.close();\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_9__[\"default\"]({\r\n            title: \"¡Impresión añadida!\",\r\n            message: \"La impresión ha sido añadida correctamente al carrito.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n\r\n        await Promise.all([options.reset(), files.reset()]);\r\n\r\n        options.repaint();\r\n        options.close();\r\n\r\n        thumbs.clear();\r\n\r\n        cart.repaint();\r\n        await cart.open();\r\n    };\r\n\r\n    const handleUpdateItem = async () => {\r\n        if (!files.length()) {\r\n            const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_9__[\"default\"]({\r\n                title: \"¡Error de subida!\",\r\n                message: \"No hay archivos para actualizar. Por favor, añade archivos.\",\r\n                type: \"error\",\r\n                timer: 3000,\r\n            });\r\n\r\n            options.updateBtn.stop();\r\n            await popup.open();\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\r\n            parent: document.querySelector(\"#print\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        const resume = new _classes_Resume__WEBPACK_IMPORTED_MODULE_11__[\"default\"]({\r\n            files: files.get(),\r\n        });\r\n\r\n        const item = new _classes_Item__WEBPACK_IMPORTED_MODULE_12__[\"default\"]({\r\n            files: files.get(),\r\n            options: options.getValues(),\r\n            resume: resume.get(),\r\n        });\r\n        item.setId(cart.getItem().id);\r\n\r\n        await cart.update(item);\r\n\r\n        options.updateBtn.stop();\r\n        await spinner.close();\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_9__[\"default\"]({\r\n            title: \"¡Impresión actualizada!\",\r\n            message: \"La impresión ha sido actualizada correctamente.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n\r\n        await Promise.all([options.reset(), files.reset()]);\r\n\r\n        options.repaint();\r\n        options.close();\r\n\r\n        thumbs.clear();\r\n\r\n        cart.repaint();\r\n        await cart.open();\r\n    };\r\n\r\n    const handleCancelItem = async () => {\r\n        await Promise.all([options.reset(), files.reset()]);\r\n        options.repaint();\r\n        thumbs.clear();\r\n        cart.setItem(null);\r\n        await options.close();\r\n    };\r\n\r\n    const handleUpdateCartItem = async (item) => {\r\n        cart.setItem(item);\r\n\r\n        await Promise.all([cart.close(), options.close()]);\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\r\n            parent: document.querySelector(\"#print\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset()]);\r\n\r\n        options.setValues(item.options);\r\n        options.setUpdate(true);\r\n        files.set(item.files);\r\n\r\n        await Promise.all([options.save(), files.save()]);\r\n\r\n        options.repaint();\r\n        thumbs.show(files.get(), options.getValues());\r\n\r\n        await spinner.close();\r\n    };\r\n\r\n    const handleDeleteCartItem = async (item) => {\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_10__[\"default\"]({\r\n            title: \"¿Eliminar impresión?\",\r\n            description:\r\n                \"La impresion se eliminará del carrito. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        if (cart.getItem() === item) {\r\n            await options.close();\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\r\n            parent: document.querySelector(\"#print\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        if (cart.getItem() === item) {\r\n            await Promise.all([options.reset(), files.reset()]);\r\n            options.repaint();\r\n            thumbs.clear();\r\n            cart.setItem(null);\r\n        }\r\n\r\n        await cart.delete(item);\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_9__[\"default\"]({\r\n            title: \"¡Impresión eliminada!\",\r\n            message: \"La impresión ha sido eliminada correctamente del carrito.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n\r\n        if (!cart.length()) {\r\n            await cart.close();\r\n        }\r\n    };\r\n\r\n    const handleClearCart = async () => {\r\n        if (!cart.length()) {\r\n            return;\r\n        }\r\n\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_10__[\"default\"]({\r\n            title: \"¿Vaciar carrito?\",\r\n            description: \"El carrito se vaciará. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Vaciar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        await options.close();\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\r\n            parent: document.querySelector(\"#print\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await cart.clear();\r\n        cart.repaint();\r\n\r\n        if (cart.getItem()) {\r\n            await Promise.all([options.reset(), files.reset()]);\r\n            options.repaint();\r\n            thumbs.clear();\r\n            cart.setItem(null);\r\n        }\r\n\r\n        await spinner.close();\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_9__[\"default\"]({\r\n            title: \"¡Carrito vacío!\",\r\n            message: \"El carrito ha sido vaciado correctamente.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n        await cart.close();\r\n    };\r\n\r\n    const options = new _classes_Options__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n        options: optionsDB[0],\r\n        onChange: handleChangeOptions,\r\n        onCreate: handleCreateItem,\r\n        onUpdate: handleUpdateItem,\r\n        onCancel: handleCancelItem,\r\n    });\r\n    options.init();\r\n\r\n    const pdf = new _classes_Pdf__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\r\n\r\n    const files = new _classes_Files__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n        files: filesDB.map((file) => new _classes_File__WEBPACK_IMPORTED_MODULE_1__[\"default\"](file)),\r\n    });\r\n\r\n    const inputFiles = new _classes_InputFiles__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n        onInput: handleAddFiles,\r\n    });\r\n\r\n    const drop = new _classes_Drop__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n        onDrop: handleAddFiles,\r\n    });\r\n\r\n    const thumbs = new _classes_Thumbs__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n        onDelete: handleDeleteFile,\r\n    });\r\n    thumbs.show(files.get(), options.getValues());\r\n\r\n    const cart = new _classes_Cart__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n        cart: cartDB,\r\n        onUpdate: handleUpdateCartItem,\r\n        onDelete: handleDeleteCartItem,\r\n        onClear: handleClearCart,\r\n    });\r\n\r\n    handleLoad();\r\n};\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/modules/Printer.js?");

/***/ }),

/***/ "./src/js/modules/Profile.js":
/*!***********************************!*\
  !*** ./src/js/modules/Profile.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"profile\": () => (/* binding */ profile)\n/* harmony export */ });\n/* harmony import */ var _classes_mio_Input__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../classes/mio/Input */ \"./src/js/classes/mio/Input.js\");\n/* harmony import */ var _classes_LoadingButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../classes/LoadingButton */ \"./src/js/classes/LoadingButton.js\");\n/* harmony import */ var _classes_Cart__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../classes/Cart */ \"./src/js/classes/Cart.js\");\n/* harmony import */ var _classes_Options__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../classes/Options */ \"./src/js/classes/Options.js\");\n/* harmony import */ var _classes_Files__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../classes/Files */ \"./src/js/classes/Files.js\");\n/* harmony import */ var _classes_Spinner__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../classes/Spinner */ \"./src/js/classes/Spinner.js\");\n/* harmony import */ var _classes_Popup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../classes/Popup */ \"./src/js/classes/Popup.js\");\n/* harmony import */ var _classes_Confirm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../classes/Confirm */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../app */ \"./src/js/app.js\");\n/* harmony import */ var _IndexedDB__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./IndexedDB */ \"./src/js/modules/IndexedDB.js\");\n/* harmony import */ var _Api__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Api */ \"./src/js/modules/Api.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst profile = async () => {\r\n    const values = {\r\n        name: \"\",\r\n        lastname: \"\",\r\n        phone: \"\",\r\n        nif: \"\",\r\n        email: \"\",\r\n    };\r\n\r\n    let errors = {\r\n        name: \"\",\r\n        lastname: \"\",\r\n        phone: \"\",\r\n        nif: \"\",\r\n        email: \"\",\r\n    };\r\n\r\n    let email = null;\r\n    let form = null;\r\n    let submitBtn = null;\r\n\r\n    let isOpen = false;\r\n    let isAnimated = false;\r\n\r\n    const handleUpdateCartItem = async (item) => {\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset()]);\r\n\r\n        options.setValues(item.options);\r\n        options.setUpdate(true);\r\n        files.set(item.files);\r\n\r\n        await Promise.all([options.save(), files.save()]);\r\n        await Promise.all([spinner.close(), cart.close()]);\r\n\r\n        _app__WEBPACK_IMPORTED_MODULE_8__.navigator.goTo(\"/imprimir\");\r\n    };\r\n\r\n    const handleDeleteCartItem = async (item) => {\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            title: \"¿Eliminar impresión?\",\r\n            description:\r\n                \"La impresion se eliminará del carrito. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.delete(item)]);\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            title: \"¡Impresión eliminada!\",\r\n            message: \"La impresión ha sido eliminada correctamente del carrito.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n\r\n        cart.close();\r\n    };\r\n\r\n    const handleClearCart = async () => {\r\n        if (!cart.length()) {\r\n            return;\r\n        }\r\n\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            title: \"¿Vaciar carrito?\",\r\n            description: \"El carrito se vaciará. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Vaciar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.clear()]);\r\n\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            title: \"¡Carrito vacío!\",\r\n            message: \"El carrito ha sido vaciado correctamente.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n        await cart.close();\r\n    };\r\n\r\n    const readProfile = async () => {\r\n        const response = await _Api__WEBPACK_IMPORTED_MODULE_10__.api.get(\"/api/user/profile\");\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n        values.name = response.profile.name;\r\n        values.lastname = response.profile.lastname;\r\n        values.phone = response.profile.phone;\r\n        values.nif = response.profile.nif;\r\n        values.email = response.user.email;\r\n\r\n        email = response.user.email;\r\n    };\r\n\r\n    const createForm = () => {\r\n        const profile = document.querySelector(\"#profile\");\r\n\r\n        form = document.createElement(\"form\");\r\n        form.classList.add(\"mio-form\");\r\n        form.noValidate = true;\r\n        form.addEventListener(\"submit\", handleSubmit);\r\n        profile.appendChild(form);\r\n\r\n        const double1 = document.createElement(\"div\");\r\n        double1.classList.add(\"mio-double\");\r\n        form.appendChild(double1);\r\n\r\n        const name = new _classes_mio_Input__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Nombre\",\r\n                for: \"name\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"name\",\r\n                id: \"name\",\r\n                autocomplete: \"username\",\r\n                value: values.name,\r\n            },\r\n            error: errors.name.length > 0,\r\n            message: errors.name,\r\n            onInput: (value) => {\r\n                values.name = value;\r\n                errors.name = \"\";\r\n            },\r\n        });\r\n        double1.appendChild(name.getField());\r\n\r\n        const lastname = new _classes_mio_Input__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Apellidos\",\r\n                for: \"lastname\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"lastname\",\r\n                id: \"lastname\",\r\n                autocomplete: \"username\",\r\n                value: values.lastname,\r\n            },\r\n            error: errors.lastname.length > 0,\r\n            message: errors.lastname,\r\n            onInput: (value) => {\r\n                values.lastname = value;\r\n                errors.lastname = \"\";\r\n            },\r\n        });\r\n        double1.appendChild(lastname.getField());\r\n\r\n        const double2 = document.createElement(\"div\");\r\n        double2.classList.add(\"mio-double\");\r\n        form.appendChild(double2);\r\n\r\n        const phone = new _classes_mio_Input__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Teléfono\",\r\n                for: \"phone\",\r\n            },\r\n            input: {\r\n                type: \"tel\",\r\n                name: \"phone\",\r\n                id: \"phone\",\r\n                autocomplete: \"username\",\r\n                value: values.phone,\r\n            },\r\n            error: errors.phone.length > 0,\r\n            message: errors.phone,\r\n            onInput: (value) => {\r\n                values.phone = value;\r\n                errors.phone = \"\";\r\n            },\r\n        });\r\n        double2.appendChild(phone.getField());\r\n\r\n        const nif = new _classes_mio_Input__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"NIF\",\r\n                for: \"nif\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"nif\",\r\n                id: \"nif\",\r\n                autocomplete: \"username\",\r\n                value: values.nif,\r\n            },\r\n            error: errors.nif.length > 0,\r\n            message: errors.nif,\r\n            onInput: (value) => {\r\n                values.nif = value;\r\n                errors.nif = \"\";\r\n            },\r\n        });\r\n        double2.appendChild(nif.getField());\r\n\r\n        const email = new _classes_mio_Input__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Email\",\r\n                for: \"email\",\r\n            },\r\n            input: {\r\n                type: \"email\",\r\n                name: \"email\",\r\n                id: \"email\",\r\n                autocomplete: \"username\",\r\n                value: values.email,\r\n            },\r\n            error: errors.email.length > 0,\r\n            message: errors.email,\r\n            onInput: (value) => {\r\n                values.email = value;\r\n                errors.email = \"\";\r\n            },\r\n        });\r\n        form.appendChild(email.getField());\r\n\r\n        const submitField = document.createElement(\"div\");\r\n        submitField.classList.add(\"mio-submit-field\");\r\n        form.appendChild(submitField);\r\n\r\n        submitBtn = new _classes_LoadingButton__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            type: \"submit\",\r\n            text: \"Actualizar datos\",\r\n            classes: [\"btn\", \"primary-btn\"],\r\n        });\r\n        submitField.appendChild(submitBtn.get());\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if (email !== values.email) {\r\n            const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n                title: \"¿Cambiar email?\",\r\n                description:\r\n                    \"El nuevo email se usará para iniciar sesión. ¿Estás seguro de que deseas cambiarlo?\",\r\n                accept: \"Aceptar\",\r\n                cancel: \"Cancelar\",\r\n            });\r\n            const confirmResponse = await confirm.question();\r\n\r\n            if (!confirmResponse) {\r\n                submitBtn.stop();\r\n                return;\r\n            }\r\n        }\r\n\r\n        const response = await _Api__WEBPACK_IMPORTED_MODULE_10__.api.put(\"/api/user/profile\", values);\r\n\r\n        submitBtn.stop();\r\n\r\n        if (response.status === \"error\") {\r\n            setErrors(response.errors);\r\n            repaint();\r\n            return;\r\n        }\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            title: \"Perfil actualizado\",\r\n            message: \"El perfil ha sido actualizado correctamente.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n\r\n        _app__WEBPACK_IMPORTED_MODULE_8__.navigator.reload();\r\n    };\r\n\r\n    const setErrors = (responseErrors) => {\r\n        for (const key of Object.keys(responseErrors)) {\r\n            if (errors[key] !== undefined) {\r\n                errors[key] = responseErrors[key];\r\n            }\r\n        }\r\n    };\r\n\r\n    const repaint = () => {\r\n        form.remove();\r\n        createForm();\r\n    };\r\n\r\n    const handleResize = () => {\r\n        if (window.innerWidth >= 768 && isOpen) {\r\n            isOpen = false;\r\n\r\n            userSidebar.classList.remove(\"active\", \"in\", \"out\");\r\n        }\r\n    };\r\n\r\n    const handleOpenUserSidebar = async () => {\r\n        if (!isOpen && !isAnimated) {\r\n            isOpen = true;\r\n            isAnimated = true;\r\n\r\n            userSidebar.classList.add(\"active\", \"in\");\r\n            await animationend(userSidebar);\r\n\r\n            isAnimated = false;\r\n        }\r\n    };\r\n\r\n    const handleCloseUserSidebar = async (e) => {\r\n        if (\r\n            (e.target === userSidebar || e.currentTarget === closeUserSidebarBtn) &&\r\n            isOpen &&\r\n            !isAnimated\r\n        ) {\r\n            isOpen = false;\r\n            isAnimated = true;\r\n\r\n            if (innerWidth < 768) {\r\n                userSidebar.classList.add(\"out\");\r\n                await animationend(userSidebar);\r\n                userSidebar.classList.remove(\"active\", \"in\", \"out\");\r\n            }\r\n\r\n            isAnimated = false;\r\n        }\r\n    };\r\n\r\n    const animationend = (target) => {\r\n        return new Promise((resolve) => {\r\n            target.addEventListener(\"animationend\", resolve, { once: true });\r\n        });\r\n    };\r\n\r\n    const userSidebar = document.querySelector(\"#user-sidebar\");\r\n    const openUserSidebarBtn = document.querySelector(\"#open-user-sidebar-btn\");\r\n    const closeUserSidebarBtn = document.querySelector(\"#close-user-sidebar-btn\");\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n    openUserSidebarBtn.addEventListener(\"click\", handleOpenUserSidebar);\r\n    closeUserSidebarBtn.addEventListener(\"click\", handleCloseUserSidebar);\r\n    userSidebar.addEventListener(\"click\", handleCloseUserSidebar);\r\n\r\n    const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n        parent: document.querySelector(\"#profile\").parentElement,\r\n    });\r\n    await spinner.open();\r\n\r\n    await readProfile();\r\n    createForm();\r\n\r\n    await _IndexedDB__WEBPACK_IMPORTED_MODULE_9__.indexedDB.createIndexedDB();\r\n    const cartDB = await _IndexedDB__WEBPACK_IMPORTED_MODULE_9__.indexedDB.getRecords(\"cart\");\r\n\r\n    await spinner.close();\r\n\r\n    const cart = new _classes_Cart__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n        cart: cartDB,\r\n        onUpdate: handleUpdateCartItem,\r\n        onDelete: handleDeleteCartItem,\r\n        onClear: handleClearCart,\r\n    });\r\n    const options = new _classes_Options__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\r\n    const files = new _classes_Files__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\r\n};\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/modules/Profile.js?");

/***/ }),

/***/ "./src/js/modules/Router.js":
/*!**********************************!*\
  !*** ./src/js/modules/Router.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst Router = () => {\r\n    const routes = [];\r\n\r\n    const req = {\r\n        params: {},\r\n        path: \"\",\r\n        search: \"\",\r\n        urlSearchParams: null,\r\n    };\r\n\r\n    const add = (uri, callback) => {\r\n        const route = {\r\n            uri,\r\n            callback,\r\n        };\r\n\r\n        routes.push(route);\r\n    };\r\n\r\n    const check = () => {\r\n        const path = window.location.pathname;\r\n        const pathClean = path\r\n            .split(\"/\")\r\n            .filter((x) => x)\r\n            .join(\"/\");\r\n\r\n        const search = window.location.search;\r\n        const urlSearch = new URLSearchParams(search);\r\n\r\n        req.path = pathClean;\r\n        req.search = search;\r\n        req.urlSearchParams = urlSearch;\r\n\r\n        routes.forEach((route) => {\r\n            const routeClean = route.uri\r\n                .split(\"/\")\r\n                .filter((x) => x)\r\n                .join(\"/\");\r\n\r\n            if (!route.uri.includes(\":\")) {\r\n                if (routeClean === pathClean) {\r\n                    if (route.callback) {\r\n                        route.callback(req);\r\n                    }\r\n                }\r\n                return;\r\n            }\r\n\r\n            const routeArray = routeClean.split(\"/\");\r\n            const pathArray = pathClean.split(\"/\");\r\n\r\n            const indexes = routeArray.reduce((previousValue, currentValue, currentIndex) => {\r\n                if (currentValue.startsWith(\":\")) {\r\n                    previousValue.push(currentIndex);\r\n                }\r\n                return previousValue;\r\n            }, []);\r\n\r\n            const patternArray = [...pathArray];\r\n\r\n            indexes.forEach((index) => {\r\n                if (!patternArray[index]) {\r\n                    return;\r\n                }\r\n                patternArray[index] = routeArray[index];\r\n            });\r\n\r\n            const pattern = patternArray.join(\"/\");\r\n\r\n            if (routeClean !== pattern) {\r\n                return;\r\n            }\r\n\r\n            indexes.forEach((index) => {\r\n                req.params[routeArray[index].replace(\":\", \"\")] = pathArray[index];\r\n            });\r\n\r\n            route.callback(req);\r\n        });\r\n    };\r\n\r\n    return {\r\n        add,\r\n        check,\r\n    };\r\n};\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Router);\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/modules/Router.js?");

/***/ }),

/***/ "./src/js/modules/Tools.js":
/*!*********************************!*\
  !*** ./src/js/modules/Tools.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"tools\": () => (/* binding */ tools)\n/* harmony export */ });\nconst tools = (() => {\r\n    const formatCurrency = (amount) => {\r\n        const options = {\r\n            style: \"currency\",\r\n            currency: \"EUR\",\r\n        };\r\n\r\n        return new Intl.NumberFormat(\"es-ES\", options).format(amount);\r\n    };\r\n\r\n    const formatBytes = (bytes, decimals = 2) => {\r\n        if (bytes === 0) return \"0 Bytes\";\r\n\r\n        const k = 1024;\r\n        const dm = decimals < 0 ? 0 : decimals;\r\n        const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\r\n\r\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n\r\n        return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\r\n    };\r\n\r\n    const formatNumber = (amount) => {\r\n        const options = {\r\n            style: \"decimal\",\r\n            minimumFractionDigits: 2,\r\n            maximumFractionDigits: 2,\r\n        };\r\n\r\n        return new Intl.NumberFormat(\"es-ES\", options).format(amount);\r\n    };\r\n\r\n    const dateFormatLong = (date) => {\r\n        const newDate = new Date(date);\r\n        const options = {\r\n            dateStyle: \"long\",\r\n        };\r\n        return new Intl.DateTimeFormat(\"es-ES\", options).format(newDate);\r\n    };\r\n\r\n    const dateFormatShort = (date) => {\r\n        const newDate = new Date(date);\r\n        const options = {\r\n            day: \"2-digit\",\r\n            month: \"2-digit\",\r\n            year: \"numeric\",\r\n        };\r\n        return new Intl.DateTimeFormat(\"es-ES\", options).format(newDate);\r\n    };\r\n\r\n    const dateTimeFormat = (date) => {\r\n        const newDate = new Date(date);\r\n        const options = {\r\n            day: \"2-digit\",\r\n            month: \"2-digit\",\r\n            year: \"numeric\",\r\n            hour: \"2-digit\",\r\n            minute: \"2-digit\",\r\n        };\r\n        return new Intl.DateTimeFormat(\"es-ES\", options).format(newDate);\r\n    };\r\n\r\n    const toSeoUrl = (str) => {\r\n        const a =\r\n            \"àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìıİłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;\";\r\n        const b =\r\n            \"aaaaaaaaaacccddeeeeeeeegghiiiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------\";\r\n        const p = new RegExp(a.split(\"\").join(\"|\"), \"g\");\r\n\r\n        return str\r\n            .toString()\r\n            .toLowerCase()\r\n            .replace(/\\s+/g, \"-\")\r\n            .replace(p, (c) => b.charAt(a.indexOf(c)))\r\n            .replace(/&/g, \"-and-\")\r\n            .replace(/[^\\w\\-]+/g, \"\")\r\n            .replace(/\\-\\-+/g, \"-\")\r\n            .replace(/^-+/, \"\")\r\n            .replace(/-+$/, \"\");\r\n    };\r\n\r\n    const cleanHTML = (el) => {\r\n        while (el.firstChild) {\r\n            el.removeChild(el.firstChild);\r\n        }\r\n    };\r\n\r\n    const getCurrentPage = () => {\r\n        return window.location.pathname.slice(1) || \"index\";\r\n    };\r\n\r\n    const isEmpty = (obj) => {\r\n        for (const i in obj) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n\r\n    const isObject = (obj) => {\r\n        return typeof obj === \"object\" && !Array.isArray(obj) && obj !== null;\r\n    };\r\n\r\n    const isNumeric = (n) => {\r\n        if (typeof str != \"string\") return false;\r\n        return !isNaN(str) && !isNaN(parseFloat(str));\r\n    };\r\n\r\n    const randomUUID = () => {\r\n        return crypto.randomUUID();\r\n    };\r\n\r\n    return {\r\n        formatCurrency,\r\n        formatBytes,\r\n        formatNumber,\r\n        dateFormatLong,\r\n        dateFormatShort,\r\n        dateTimeFormat,\r\n        toSeoUrl,\r\n        cleanHTML,\r\n        getCurrentPage,\r\n        isEmpty,\r\n        isObject,\r\n        isNumeric,\r\n        randomUUID,\r\n    };\r\n})();\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/modules/Tools.js?");

/***/ }),

/***/ "./src/js/modules/auth/Confirm.js":
/*!****************************************!*\
  !*** ./src/js/modules/auth/Confirm.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"confirm\": () => (/* binding */ confirm)\n/* harmony export */ });\n/* harmony import */ var _classes_Cart__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../classes/Cart */ \"./src/js/classes/Cart.js\");\n/* harmony import */ var _classes_Options__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../classes/Options */ \"./src/js/classes/Options.js\");\n/* harmony import */ var _classes_Files__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../classes/Files */ \"./src/js/classes/Files.js\");\n/* harmony import */ var _classes_Spinner__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../classes/Spinner */ \"./src/js/classes/Spinner.js\");\n/* harmony import */ var _classes_Popup__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../classes/Popup */ \"./src/js/classes/Popup.js\");\n/* harmony import */ var _classes_Confirm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../classes/Confirm */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _Icons__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Icons */ \"./src/js/modules/Icons.js\");\n/* harmony import */ var _IndexedDB__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../IndexedDB */ \"./src/js/modules/IndexedDB.js\");\n/* harmony import */ var _Api__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Api */ \"./src/js/modules/Api.js\");\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../app */ \"./src/js/app.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst confirm = async (req) => {\r\n    const handleConfirm = async () => {\r\n        const response = await _Api__WEBPACK_IMPORTED_MODULE_8__.api.post(\"/api/user/confirm\", { token: req.params.token });\r\n\r\n        if (response.status === \"error\") {\r\n            showMessage(\"error\", response.errors.token);\r\n            return;\r\n        }\r\n\r\n        showMessage(\"success\", response.message);\r\n    };\r\n\r\n    const showMessage = (type, message) => {\r\n        const confirm = document.querySelector(\"#confirm\");\r\n\r\n        const messageEl = document.createElement(\"div\");\r\n        messageEl.classList.add(\"message\");\r\n        if (type === \"error\") {\r\n            messageEl.classList.add(\"error\");\r\n\r\n            const icon = _Icons__WEBPACK_IMPORTED_MODULE_6__.icons.get(\"exclamationCircle\");\r\n            messageEl.appendChild(icon);\r\n        } else {\r\n            messageEl.classList.add(\"success\");\r\n\r\n            const icon = _Icons__WEBPACK_IMPORTED_MODULE_6__.icons.get(\"check2Circle\");\r\n            messageEl.appendChild(icon);\r\n        }\r\n        confirm.appendChild(messageEl);\r\n\r\n        const p = document.createElement(\"p\");\r\n        p.textContent = message;\r\n        messageEl.appendChild(p);\r\n    };\r\n\r\n    const handleUpdateCartItem = async (item) => {\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset()]);\r\n\r\n        options.setValues(item.options);\r\n        options.setUpdate(true);\r\n        files.set(item.files);\r\n\r\n        await Promise.all([options.save(), files.save()]);\r\n        await Promise.all([spinner.close(), cart.close()]);\r\n\r\n        _app__WEBPACK_IMPORTED_MODULE_9__.navigator.goTo(\"/imprimir\");\r\n    };\r\n\r\n    const handleDeleteCartItem = async (item) => {\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            title: \"¿Eliminar impresión?\",\r\n            description:\r\n                \"La impresion se eliminará del carrito. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.delete(item)]);\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            title: \"¡Impresión eliminada!\",\r\n            message: \"La impresión ha sido eliminada correctamente del carrito.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n\r\n        cart.close();\r\n    };\r\n\r\n    const handleClearCart = async () => {\r\n        if (!cart.length()) {\r\n            return;\r\n        }\r\n\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            title: \"¿Vaciar carrito?\",\r\n            description: \"El carrito se vaciará. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Vaciar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.clear()]);\r\n\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            title: \"¡Carrito vacío!\",\r\n            message: \"El carrito ha sido vaciado correctamente.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n        await cart.close();\r\n    };\r\n\r\n    handleConfirm();\r\n\r\n    await _IndexedDB__WEBPACK_IMPORTED_MODULE_7__.indexedDB.createIndexedDB();\r\n    const cartDB = await _IndexedDB__WEBPACK_IMPORTED_MODULE_7__.indexedDB.getRecords(\"cart\");\r\n\r\n    const cart = new _classes_Cart__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n        cart: cartDB,\r\n        onUpdate: handleUpdateCartItem,\r\n        onDelete: handleDeleteCartItem,\r\n        onClear: handleClearCart,\r\n    });\r\n    const options = new _classes_Options__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\r\n    const files = new _classes_Files__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\r\n};\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/modules/auth/Confirm.js?");

/***/ }),

/***/ "./src/js/modules/auth/Login.js":
/*!**************************************!*\
  !*** ./src/js/modules/auth/Login.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"login\": () => (/* binding */ login)\n/* harmony export */ });\n/* harmony import */ var _classes_mio_Input__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../classes/mio/Input */ \"./src/js/classes/mio/Input.js\");\n/* harmony import */ var _classes_mio_IconButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../classes/mio/IconButton */ \"./src/js/classes/mio/IconButton.js\");\n/* harmony import */ var _classes_mio_Checkbox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../classes/mio/Checkbox */ \"./src/js/classes/mio/Checkbox.js\");\n/* harmony import */ var _classes_LoadingButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../classes/LoadingButton */ \"./src/js/classes/LoadingButton.js\");\n/* harmony import */ var _classes_Cart__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../classes/Cart */ \"./src/js/classes/Cart.js\");\n/* harmony import */ var _classes_Options__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../classes/Options */ \"./src/js/classes/Options.js\");\n/* harmony import */ var _classes_Files__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../classes/Files */ \"./src/js/classes/Files.js\");\n/* harmony import */ var _classes_Spinner__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../classes/Spinner */ \"./src/js/classes/Spinner.js\");\n/* harmony import */ var _classes_Popup__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../classes/Popup */ \"./src/js/classes/Popup.js\");\n/* harmony import */ var _classes_Confirm__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../classes/Confirm */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _Icons__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../Icons */ \"./src/js/modules/Icons.js\");\n/* harmony import */ var _IndexedDB__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../IndexedDB */ \"./src/js/modules/IndexedDB.js\");\n/* harmony import */ var _Api__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../Api */ \"./src/js/modules/Api.js\");\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../app */ \"./src/js/app.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst login = async (req) => {\r\n    const values = {\r\n        email: \"\",\r\n        currentPassword: \"\",\r\n        remember: false,\r\n    };\r\n\r\n    let errors = {\r\n        email: \"\",\r\n        currentPassword: \"\",\r\n    };\r\n\r\n    let form = null;\r\n    let submitBtn = null;\r\n    let passwordHidden = true;\r\n\r\n    const createForm = () => {\r\n        const login = document.querySelector(\"#login\");\r\n\r\n        form = document.createElement(\"form\");\r\n        form.classList.add(\"mio-form\");\r\n        form.noValidate = true;\r\n        form.addEventListener(\"submit\", handleSubmit);\r\n        login.appendChild(form);\r\n\r\n        const email = new _classes_mio_Input__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Email\",\r\n                for: \"email\",\r\n            },\r\n            input: {\r\n                type: \"email\",\r\n                name: \"email\",\r\n                id: \"email\",\r\n                autocomplete: \"username\",\r\n                value: values.email,\r\n            },\r\n            error: errors.email.length > 0,\r\n            message: errors.email,\r\n            onInput: (value) => {\r\n                values.email = value;\r\n                errors.email = \"\";\r\n            },\r\n        });\r\n        form.appendChild(email.getField());\r\n\r\n        const visibility = new _classes_mio_IconButton__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            ariaLabel: \"Mostrar contraseña\",\r\n            buttonSize: \"medium\",\r\n            svgSize: \"large\",\r\n            icon: _Icons__WEBPACK_IMPORTED_MODULE_10__.icons.get(`${passwordHidden ? \"eyeFill\" : \"eyeSlashFill\"}`),\r\n            onClick: () => {\r\n                passwordHidden = !passwordHidden;\r\n                repaint();\r\n            },\r\n        });\r\n\r\n        const currentPassword = new _classes_mio_Input__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Contraseña\",\r\n                for: \"currentPassword\",\r\n            },\r\n            input: {\r\n                type: `${passwordHidden ? \"password\" : \"text\"}`,\r\n                name: \"currentPassword\",\r\n                id: \"currentPassword\",\r\n                autocomplete: \"current-password\",\r\n                value: values.currentPassword,\r\n            },\r\n            adornment: visibility.get(),\r\n            error: errors.currentPassword.length > 0,\r\n            message: errors.currentPassword,\r\n            onInput: (value) => {\r\n                values.currentPassword = value;\r\n                errors.currentPassword = \"\";\r\n            },\r\n        });\r\n        form.appendChild(currentPassword.getField());\r\n\r\n        const remeber = new _classes_mio_Checkbox__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            label: {\r\n                text: \"Recuérdame\",\r\n                for: \"remember\",\r\n            },\r\n            input: {\r\n                name: \"remember\",\r\n                id: \"remember\",\r\n                value: values.remember,\r\n            },\r\n            onClick: (value) => {\r\n                values.remember = value;\r\n                repaint();\r\n            },\r\n        });\r\n        form.appendChild(remeber.getField());\r\n\r\n        const submitField = document.createElement(\"div\");\r\n        submitField.classList.add(\"mio-field\");\r\n        form.appendChild(submitField);\r\n\r\n        submitBtn = new _classes_LoadingButton__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            type: \"submit\",\r\n            text: \"Iniciar sesión\",\r\n            classes: [\"btn\", \"primary-btn\"],\r\n        });\r\n        submitField.appendChild(submitBtn.get());\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const response = await _Api__WEBPACK_IMPORTED_MODULE_12__.api.post(\"/api/user/login\", values);\r\n\r\n        submitBtn.stop();\r\n\r\n        if (response.status === \"error\") {\r\n            setErrors(response.errors);\r\n            repaint();\r\n            return;\r\n        }\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\r\n            title: `¡Bienvenido ${response.user.name}!`,\r\n            message: `${\r\n                req.path === \"checkout\"\r\n                    ? \"Puedes seguir con el proceso de compra\"\r\n                    : \"Te vamos a redirigir a la página principal\"\r\n            }`,\r\n            type: \"success\",\r\n            timer: 4000,\r\n        });\r\n        await popup.open();\r\n\r\n        if (req.path === \"checkout\") {\r\n            _app__WEBPACK_IMPORTED_MODULE_13__.navigator.reload();\r\n            return;\r\n        }\r\n\r\n        _app__WEBPACK_IMPORTED_MODULE_13__.navigator.goTo(\"/\");\r\n    };\r\n\r\n    const setErrors = (responseErrors) => {\r\n        for (const key of Object.keys(responseErrors)) {\r\n            if (errors[key] !== undefined) {\r\n                errors[key] = responseErrors[key];\r\n            }\r\n        }\r\n    };\r\n\r\n    const repaint = () => {\r\n        form.remove();\r\n        createForm();\r\n    };\r\n\r\n    const handleUpdateCartItem = async (item) => {\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset()]);\r\n\r\n        options.setValues(item.options);\r\n        options.setUpdate(true);\r\n        files.set(item.files);\r\n\r\n        await Promise.all([options.save(), files.save()]);\r\n        await Promise.all([spinner.close(), cart.close()]);\r\n\r\n        _app__WEBPACK_IMPORTED_MODULE_13__.navigator.goTo(\"/imprimir\");\r\n    };\r\n\r\n    const handleDeleteCartItem = async (item) => {\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_9__[\"default\"]({\r\n            title: \"¿Eliminar impresión?\",\r\n            description:\r\n                \"La impresion se eliminará del carrito. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.delete(item)]);\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\r\n            title: \"¡Impresión eliminada!\",\r\n            message: \"La impresión ha sido eliminada correctamente del carrito.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n\r\n        cart.close();\r\n    };\r\n\r\n    const handleClearCart = async () => {\r\n        if (!cart.length()) {\r\n            return;\r\n        }\r\n\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_9__[\"default\"]({\r\n            title: \"¿Vaciar carrito?\",\r\n            description: \"El carrito se vaciará. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Vaciar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.clear()]);\r\n\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\r\n            title: \"¡Carrito vacío!\",\r\n            message: \"El carrito ha sido vaciado correctamente.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n        await cart.close();\r\n    };\r\n\r\n    createForm();\r\n\r\n    await _IndexedDB__WEBPACK_IMPORTED_MODULE_11__.indexedDB.createIndexedDB();\r\n    const cartDB = await _IndexedDB__WEBPACK_IMPORTED_MODULE_11__.indexedDB.getRecords(\"cart\");\r\n\r\n    const cart = new _classes_Cart__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n        cart: cartDB,\r\n        onUpdate: handleUpdateCartItem,\r\n        onDelete: handleDeleteCartItem,\r\n        onClear: handleClearCart,\r\n    });\r\n    const options = new _classes_Options__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\r\n    const files = new _classes_Files__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\r\n};\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/modules/auth/Login.js?");

/***/ }),

/***/ "./src/js/modules/auth/Logout.js":
/*!***************************************!*\
  !*** ./src/js/modules/auth/Logout.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"logout\": () => (/* binding */ logout)\n/* harmony export */ });\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../app */ \"./src/js/app.js\");\n/* harmony import */ var _IndexedDB__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../IndexedDB */ \"./src/js/modules/IndexedDB.js\");\n\r\n\r\n\r\nconst logout = async () => {\r\n    await _IndexedDB__WEBPACK_IMPORTED_MODULE_1__.indexedDB.clearRecords(\"addresses\");\r\n    _app__WEBPACK_IMPORTED_MODULE_0__.navigator.goTo(\"/\");\r\n};\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/modules/auth/Logout.js?");

/***/ }),

/***/ "./src/js/modules/auth/Recover.js":
/*!****************************************!*\
  !*** ./src/js/modules/auth/Recover.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"recover\": () => (/* binding */ recover)\n/* harmony export */ });\n/* harmony import */ var _classes_mio_Input__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../classes/mio/Input */ \"./src/js/classes/mio/Input.js\");\n/* harmony import */ var _classes_LoadingButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../classes/LoadingButton */ \"./src/js/classes/LoadingButton.js\");\n/* harmony import */ var _classes_Cart__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../classes/Cart */ \"./src/js/classes/Cart.js\");\n/* harmony import */ var _classes_Options__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../classes/Options */ \"./src/js/classes/Options.js\");\n/* harmony import */ var _classes_Files__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../classes/Files */ \"./src/js/classes/Files.js\");\n/* harmony import */ var _classes_Spinner__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../classes/Spinner */ \"./src/js/classes/Spinner.js\");\n/* harmony import */ var _classes_Popup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../classes/Popup */ \"./src/js/classes/Popup.js\");\n/* harmony import */ var _classes_Confirm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../classes/Confirm */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _IndexedDB__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../IndexedDB */ \"./src/js/modules/IndexedDB.js\");\n/* harmony import */ var _Api__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Api */ \"./src/js/modules/Api.js\");\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../app */ \"./src/js/app.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst recover = async () => {\r\n    const values = {\r\n        email: \"\",\r\n    };\r\n\r\n    let errors = {\r\n        email: \"\",\r\n    };\r\n\r\n    let form = null;\r\n    let submitBtn = null;\r\n\r\n    const createForm = () => {\r\n        const recover = document.querySelector(\"#recover\");\r\n\r\n        form = document.createElement(\"form\");\r\n        form.classList.add(\"mio-form\");\r\n        form.noValidate = true;\r\n        form.addEventListener(\"submit\", handleSubmit);\r\n        recover.appendChild(form);\r\n\r\n        const email = new _classes_mio_Input__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Email\",\r\n                for: \"email\",\r\n            },\r\n            input: {\r\n                type: \"email\",\r\n                name: \"email\",\r\n                id: \"email\",\r\n                autocomplete: \"username\",\r\n                value: values.email,\r\n            },\r\n            error: errors.email.length > 0,\r\n            message: errors.email,\r\n            onInput: (value) => {\r\n                values.email = value;\r\n                errors.email = \"\";\r\n            },\r\n        });\r\n        form.appendChild(email.getField());\r\n\r\n        const submitField = document.createElement(\"div\");\r\n        submitField.classList.add(\"mio-field\");\r\n        form.appendChild(submitField);\r\n\r\n        submitBtn = new _classes_LoadingButton__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            type: \"submit\",\r\n            text: \"Recuperar contraseña\",\r\n            classes: [\"btn\", \"primary-btn\"],\r\n        });\r\n        submitField.appendChild(submitBtn.get());\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const response = await _Api__WEBPACK_IMPORTED_MODULE_9__.api.post(\"/api/user/recover\", values);\r\n\r\n        submitBtn.stop();\r\n\r\n        if (response.status === \"error\") {\r\n            setErrors(response.errors);\r\n            repaint();\r\n            return;\r\n        }\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            title: \"¡Email enviado!\",\r\n            message:\r\n                \"Se ha enviado un email a tu correo con las instrucciones para recuperar tu contraseña.\",\r\n            type: \"success\",\r\n            timer: 6000,\r\n        });\r\n        await popup.open();\r\n    };\r\n\r\n    const setErrors = (responseErrors) => {\r\n        for (const key of Object.keys(responseErrors)) {\r\n            if (errors[key] !== undefined) {\r\n                errors[key] = responseErrors[key];\r\n            }\r\n        }\r\n    };\r\n\r\n    const repaint = () => {\r\n        form.remove();\r\n        createForm();\r\n    };\r\n\r\n    const handleUpdateCartItem = async (item) => {\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset()]);\r\n\r\n        options.setValues(item.options);\r\n        options.setUpdate(true);\r\n        files.set(item.files);\r\n\r\n        await Promise.all([options.save(), files.save()]);\r\n        await Promise.all([spinner.close(), cart.close()]);\r\n\r\n        _app__WEBPACK_IMPORTED_MODULE_10__.navigator.goTo(\"/imprimir\");\r\n    };\r\n\r\n    const handleDeleteCartItem = async (item) => {\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            title: \"¿Eliminar impresión?\",\r\n            description:\r\n                \"La impresion se eliminará del carrito. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.delete(item)]);\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            title: \"¡Impresión eliminada!\",\r\n            message: \"La impresión ha sido eliminada correctamente del carrito.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n\r\n        cart.close();\r\n    };\r\n\r\n    const handleClearCart = async () => {\r\n        if (!cart.length()) {\r\n            return;\r\n        }\r\n\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            title: \"¿Vaciar carrito?\",\r\n            description: \"El carrito se vaciará. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Vaciar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.clear()]);\r\n\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            title: \"¡Carrito vacío!\",\r\n            message: \"El carrito ha sido vaciado correctamente.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n        await cart.close();\r\n    };\r\n\r\n    createForm();\r\n\r\n    await _IndexedDB__WEBPACK_IMPORTED_MODULE_8__.indexedDB.createIndexedDB();\r\n    const cartDB = await _IndexedDB__WEBPACK_IMPORTED_MODULE_8__.indexedDB.getRecords(\"cart\");\r\n\r\n    const cart = new _classes_Cart__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n        cart: cartDB,\r\n        onUpdate: handleUpdateCartItem,\r\n        onDelete: handleDeleteCartItem,\r\n        onClear: handleClearCart,\r\n    });\r\n    const options = new _classes_Options__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\r\n    const files = new _classes_Files__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\r\n};\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/modules/auth/Recover.js?");

/***/ }),

/***/ "./src/js/modules/auth/Register.js":
/*!*****************************************!*\
  !*** ./src/js/modules/auth/Register.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"register\": () => (/* binding */ register)\n/* harmony export */ });\n/* harmony import */ var _classes_mio_Input__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../classes/mio/Input */ \"./src/js/classes/mio/Input.js\");\n/* harmony import */ var _classes_mio_IconButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../classes/mio/IconButton */ \"./src/js/classes/mio/IconButton.js\");\n/* harmony import */ var _classes_LoadingButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../classes/LoadingButton */ \"./src/js/classes/LoadingButton.js\");\n/* harmony import */ var _classes_Cart__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../classes/Cart */ \"./src/js/classes/Cart.js\");\n/* harmony import */ var _classes_Options__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../classes/Options */ \"./src/js/classes/Options.js\");\n/* harmony import */ var _classes_Files__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../classes/Files */ \"./src/js/classes/Files.js\");\n/* harmony import */ var _classes_Spinner__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../classes/Spinner */ \"./src/js/classes/Spinner.js\");\n/* harmony import */ var _classes_Popup__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../classes/Popup */ \"./src/js/classes/Popup.js\");\n/* harmony import */ var _classes_Confirm__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../classes/Confirm */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _Icons__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Icons */ \"./src/js/modules/Icons.js\");\n/* harmony import */ var _IndexedDB__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../IndexedDB */ \"./src/js/modules/IndexedDB.js\");\n/* harmony import */ var _Api__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../Api */ \"./src/js/modules/Api.js\");\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../app */ \"./src/js/app.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst register = async () => {\r\n    const values = {\r\n        name: \"\",\r\n        email: \"\",\r\n        newPassword: \"\",\r\n    };\r\n\r\n    const errors = {\r\n        name: \"\",\r\n        email: \"\",\r\n        newPassword: \"\",\r\n    };\r\n\r\n    let form = null;\r\n    let submitBtn = null;\r\n    let passwordHidden = true;\r\n\r\n    const createForm = () => {\r\n        const register = document.querySelector(\"#register\");\r\n\r\n        form = document.createElement(\"form\");\r\n        form.classList.add(\"mio-form\");\r\n        form.noValidate = true;\r\n        form.addEventListener(\"submit\", handleSubmit.bind(undefined));\r\n        register.appendChild(form);\r\n\r\n        const name = new _classes_mio_Input__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Nombre\",\r\n                for: \"name\",\r\n            },\r\n            input: {\r\n                type: \"name\",\r\n                name: \"name\",\r\n                id: \"name\",\r\n                autocomplete: \"username\",\r\n                value: values.name,\r\n            },\r\n            error: errors.name.length > 0,\r\n            message: errors.name,\r\n            onInput: (value) => {\r\n                values.name = value;\r\n                errors.name = \"\";\r\n            },\r\n        });\r\n        form.appendChild(name.getField());\r\n\r\n        const email = new _classes_mio_Input__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Email\",\r\n                for: \"email\",\r\n            },\r\n            input: {\r\n                type: \"email\",\r\n                name: \"email\",\r\n                id: \"email\",\r\n                autocomplete: \"username\",\r\n                value: values.email,\r\n            },\r\n            error: errors.email.length > 0,\r\n            message: errors.email,\r\n            onInput: (value) => {\r\n                values.email = value;\r\n                errors.email = \"\";\r\n            },\r\n        });\r\n        form.appendChild(email.getField());\r\n\r\n        const visibility = new _classes_mio_IconButton__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            ariaLabel: \"Mostrar contraseña\",\r\n            buttonSize: \"medium\",\r\n            svgSize: \"large\",\r\n            icon: _Icons__WEBPACK_IMPORTED_MODULE_9__.icons.get(`${passwordHidden ? \"eyeFill\" : \"eyeSlashFill\"}`),\r\n            onClick: () => {\r\n                passwordHidden = !passwordHidden;\r\n                repaint();\r\n            },\r\n        });\r\n\r\n        const newPassword = new _classes_mio_Input__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Contraseña\",\r\n                for: \"newPassword\",\r\n            },\r\n            input: {\r\n                type: `${passwordHidden ? \"password\" : \"text\"}`,\r\n                name: \"newPassword\",\r\n                id: \"newPassword\",\r\n                autocomplete: \"new-password\",\r\n                value: values.newPassword,\r\n            },\r\n            adornment: visibility.get(),\r\n            error: errors.newPassword.length > 0,\r\n            message: errors.newPassword,\r\n            onInput: (value) => {\r\n                values.newPassword = value;\r\n                errors.newPassword = \"\";\r\n            },\r\n        });\r\n        form.appendChild(newPassword.getField());\r\n\r\n        const submitField = document.createElement(\"div\");\r\n        submitField.classList.add(\"mio-field\");\r\n        form.appendChild(submitField);\r\n\r\n        submitBtn = new _classes_LoadingButton__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            type: \"submit\",\r\n            text: \"Crear cuenta\",\r\n            classes: [\"btn\", \"primary-btn\"],\r\n        });\r\n        submitField.appendChild(submitBtn.get());\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const response = await _Api__WEBPACK_IMPORTED_MODULE_11__.api.post(\"/api/user/register\", values);\r\n        submitBtn.stop();\r\n\r\n        if (response.status === \"error\") {\r\n            setErrors(response.errors);\r\n            repaint();\r\n            return;\r\n        }\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            title: \"¡Cuenta creada correctamente!\",\r\n            message:\r\n                \"Te hemos enviado un email de confirmación. Por favor, revisa tu bandeja de entrada.\",\r\n            type: \"success\",\r\n            timer: 6000,\r\n        });\r\n        await popup.open();\r\n\r\n        _app__WEBPACK_IMPORTED_MODULE_12__.navigator.goTo(\"/login\");\r\n    };\r\n\r\n    const setErrors = (responseErrors) => {\r\n        for (const key of Object.keys(responseErrors)) {\r\n            if (errors[key] !== undefined) {\r\n                errors[key] = responseErrors[key];\r\n            }\r\n        }\r\n    };\r\n\r\n    const repaint = () => {\r\n        form.remove();\r\n        createForm();\r\n    };\r\n\r\n    const handleUpdateCartItem = async (item) => {\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset()]);\r\n\r\n        options.setValues(item.options);\r\n        options.setUpdate(true);\r\n        files.set(item.files);\r\n\r\n        await Promise.all([options.save(), files.save()]);\r\n        await Promise.all([spinner.close(), cart.close()]);\r\n\r\n        _app__WEBPACK_IMPORTED_MODULE_12__.navigator.goTo(\"/imprimir\");\r\n    };\r\n\r\n    const handleDeleteCartItem = async (item) => {\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\r\n            title: \"¿Eliminar impresión?\",\r\n            description:\r\n                \"La impresion se eliminará del carrito. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.delete(item)]);\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            title: \"¡Impresión eliminada!\",\r\n            message: \"La impresión ha sido eliminada correctamente del carrito.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n\r\n        cart.close();\r\n    };\r\n\r\n    const handleClearCart = async () => {\r\n        if (!cart.length()) {\r\n            return;\r\n        }\r\n\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\r\n            title: \"¿Vaciar carrito?\",\r\n            description: \"El carrito se vaciará. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Vaciar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.clear()]);\r\n\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            title: \"¡Carrito vacío!\",\r\n            message: \"El carrito ha sido vaciado correctamente.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n        await cart.close();\r\n    };\r\n\r\n    createForm();\r\n\r\n    await _IndexedDB__WEBPACK_IMPORTED_MODULE_10__.indexedDB.createIndexedDB();\r\n    const cartDB = await _IndexedDB__WEBPACK_IMPORTED_MODULE_10__.indexedDB.getRecords(\"cart\");\r\n\r\n    const cart = new _classes_Cart__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n        cart: cartDB,\r\n        onUpdate: handleUpdateCartItem,\r\n        onDelete: handleDeleteCartItem,\r\n        onClear: handleClearCart,\r\n    });\r\n    const options = new _classes_Options__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\r\n    const files = new _classes_Files__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\r\n};\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/modules/auth/Register.js?");

/***/ }),

/***/ "./src/js/modules/auth/Restore.js":
/*!****************************************!*\
  !*** ./src/js/modules/auth/Restore.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"restore\": () => (/* binding */ restore)\n/* harmony export */ });\n/* harmony import */ var _classes_mio_Input__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../classes/mio/Input */ \"./src/js/classes/mio/Input.js\");\n/* harmony import */ var _classes_mio_IconButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../classes/mio/IconButton */ \"./src/js/classes/mio/IconButton.js\");\n/* harmony import */ var _classes_LoadingButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../classes/LoadingButton */ \"./src/js/classes/LoadingButton.js\");\n/* harmony import */ var _classes_Cart__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../classes/Cart */ \"./src/js/classes/Cart.js\");\n/* harmony import */ var _classes_Options__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../classes/Options */ \"./src/js/classes/Options.js\");\n/* harmony import */ var _classes_Files__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../classes/Files */ \"./src/js/classes/Files.js\");\n/* harmony import */ var _classes_Spinner__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../classes/Spinner */ \"./src/js/classes/Spinner.js\");\n/* harmony import */ var _classes_Popup__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../classes/Popup */ \"./src/js/classes/Popup.js\");\n/* harmony import */ var _classes_Confirm__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../classes/Confirm */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _Icons__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Icons */ \"./src/js/modules/Icons.js\");\n/* harmony import */ var _IndexedDB__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../IndexedDB */ \"./src/js/modules/IndexedDB.js\");\n/* harmony import */ var _Api__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../Api */ \"./src/js/modules/Api.js\");\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../app */ \"./src/js/app.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst restore = async (req) => {\r\n    const values = {\r\n        newPassword: \"\",\r\n    };\r\n\r\n    const errors = {\r\n        newPassword: \"\",\r\n    };\r\n\r\n    let form = null;\r\n    let submitBtn = null;\r\n    let passwordHidden = true;\r\n\r\n    const createForm = () => {\r\n        const restore = document.querySelector(\"#restore\");\r\n\r\n        form = document.createElement(\"form\");\r\n        form.classList.add(\"mio-form\");\r\n        form.noValidate = true;\r\n        form.addEventListener(\"submit\", handleSubmit.bind(undefined));\r\n        restore.appendChild(form);\r\n\r\n        const input = document.createElement(\"input\");\r\n        input.type = \"email\";\r\n        input.name = \"email\";\r\n        input.value = \"\";\r\n        input.autocomplete = \"username\";\r\n        input.classList.add(\"hidden\");\r\n\r\n        form.appendChild(input);\r\n\r\n        const visibility = new _classes_mio_IconButton__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            ariaLabel: \"Mostrar contraseña\",\r\n            buttonSize: \"medium\",\r\n            svgSize: \"large\",\r\n            icon: _Icons__WEBPACK_IMPORTED_MODULE_9__.icons.get(`${passwordHidden ? \"eyeFill\" : \"eyeSlashFill\"}`),\r\n            onClick: () => {\r\n                passwordHidden = !passwordHidden;\r\n                repaint();\r\n            },\r\n        });\r\n\r\n        const newPassword = new _classes_mio_Input__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Contraseña\",\r\n                for: \"newPassword\",\r\n            },\r\n            input: {\r\n                type: `${passwordHidden ? \"password\" : \"text\"}`,\r\n                name: \"newPassword\",\r\n                id: \"newPassword\",\r\n                autocomplete: \"new-password\",\r\n                value: values.newPassword,\r\n            },\r\n            adornment: visibility.get(),\r\n            error: errors.newPassword.length > 0,\r\n            message: errors.newPassword,\r\n            onInput: (value) => {\r\n                values.newPassword = value;\r\n                errors.newPassword = \"\";\r\n            },\r\n        });\r\n        form.appendChild(newPassword.getField());\r\n\r\n        const submitField = document.createElement(\"div\");\r\n        submitField.classList.add(\"mio-field\");\r\n        form.appendChild(submitField);\r\n\r\n        submitBtn = new _classes_LoadingButton__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            type: \"submit\",\r\n            text: \"Restablecer contraseña\",\r\n            classes: [\"btn\", \"primary-btn\"],\r\n        });\r\n        submitField.appendChild(submitBtn.get());\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        values.token = req.params.token;\r\n\r\n        const response = await _Api__WEBPACK_IMPORTED_MODULE_11__.api.post(\"/api/user/restore\", values);\r\n        console.log(response);\r\n        submitBtn.stop();\r\n\r\n        if (response.status === \"error\") {\r\n            setErrors(response.errors);\r\n            repaint();\r\n            return;\r\n        }\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            title: \"Contraseña restaurada\",\r\n            message:\r\n                \"La contraseña se ha restablecido correctamente. Te redirigimos a la página de inicio de sesión.\",\r\n            type: \"success\",\r\n            timer: 4000,\r\n        });\r\n        await popup.open();\r\n\r\n        _app__WEBPACK_IMPORTED_MODULE_12__.navigator.goTo(\"/login\");\r\n    };\r\n\r\n    const setErrors = (responseErrors) => {\r\n        for (const key of Object.keys(responseErrors)) {\r\n            if (errors[key] !== undefined) {\r\n                errors[key] = responseErrors[key];\r\n            }\r\n        }\r\n    };\r\n\r\n    const repaint = () => {\r\n        form.remove();\r\n        createForm();\r\n    };\r\n\r\n    const handleUpdateCartItem = async (item) => {\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset()]);\r\n\r\n        options.setValues(item.options);\r\n        options.setUpdate(true);\r\n        files.set(item.files);\r\n\r\n        await Promise.all([options.save(), files.save()]);\r\n        await Promise.all([spinner.close(), cart.close()]);\r\n\r\n        _app__WEBPACK_IMPORTED_MODULE_12__.navigator.goTo(\"/imprimir\");\r\n    };\r\n\r\n    const handleDeleteCartItem = async (item) => {\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\r\n            title: \"¿Eliminar impresión?\",\r\n            description:\r\n                \"La impresion se eliminará del carrito. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.delete(item)]);\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            title: \"¡Impresión eliminada!\",\r\n            message: \"La impresión ha sido eliminada correctamente del carrito.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n\r\n        cart.close();\r\n    };\r\n\r\n    const handleClearCart = async () => {\r\n        if (!cart.length()) {\r\n            return;\r\n        }\r\n\r\n        const confirm = new _classes_Confirm__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\r\n            title: \"¿Vaciar carrito?\",\r\n            description: \"El carrito se vaciará. ¿Estás seguro de que deseas continuar?\",\r\n            accept: \"Vaciar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const spinner = new _classes_Spinner__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            parent: document.querySelector(\"main\"),\r\n        });\r\n        await spinner.open();\r\n\r\n        await Promise.all([options.reset(), files.reset(), cart.clear()]);\r\n\r\n        cart.repaint();\r\n\r\n        await spinner.close();\r\n        const popup = new _classes_Popup__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            title: \"¡Carrito vacío!\",\r\n            message: \"El carrito ha sido vaciado correctamente.\",\r\n            type: \"success\",\r\n            timer: 3000,\r\n        });\r\n        await popup.open();\r\n        await cart.close();\r\n    };\r\n\r\n    createForm();\r\n\r\n    await _IndexedDB__WEBPACK_IMPORTED_MODULE_10__.indexedDB.createIndexedDB();\r\n    const cartDB = await _IndexedDB__WEBPACK_IMPORTED_MODULE_10__.indexedDB.getRecords(\"cart\");\r\n\r\n    const cart = new _classes_Cart__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n        cart: cartDB,\r\n        onUpdate: handleUpdateCartItem,\r\n        onDelete: handleDeleteCartItem,\r\n        onClear: handleClearCart,\r\n    });\r\n    const options = new _classes_Options__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\r\n    const files = new _classes_Files__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\r\n};\r\n\n\n//# sourceURL=webpack://lacopiadera/./src/js/modules/auth/Restore.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/js/app.js");
/******/ 	
/******/ })()
;